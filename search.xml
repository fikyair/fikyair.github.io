<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>Symbolå¯¹è±¡</title>
      <link href="/2018/09/19/Symbol%E5%AF%B9%E8%B1%A1/"/>
      <url>/2018/09/19/Symbol%E5%AF%B9%E8%B1%A1/</url>
      <content type="html"><![CDATA[<blockquote><p>ç§°ç¬¦å·å¯¹è±¡ï¼Œæ˜¯es2015(ä¹Ÿå°±æ˜¯es6)ä¸­æ–°æ·»åŠ çš„æ•°æ®ç±»å‹ã€‚é€šè¿‡Symbol()å¯ä»¥å¾—åˆ°ä¸€ä¸ªå”¯ä¸€çš„å€¼ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼å¾ˆé€‚åˆåšæ ‡è¯†ç¬¦ã€‚</p></blockquote><a id="more"></a><h3 id="æ¦‚å¿µ"><a class="header-anchor" href="#æ¦‚å¿µ">Â¶</a>æ¦‚å¿µ</h3><p>Symbol() function è¿”å›ä¸€ä¸ªç±»å‹ä¸ºsymbolçš„å€¼ï¼ŒSymbolæœ‰é™æ€å±æ€§ï¼ŒåŸå‹ä¸Šä¹Ÿæœ‰methodsï¼Œä½†æ˜¯ç¼ºå°‘constructorï¼Œæ‰€ä»¥ä½ ä¸èƒ½<code>new Symbol()</code>æ¥æ‰§è¡Œï¼›</p><blockquote><p>å¼•ç”¨å®˜æ–¹ç¿»è¯‘ï¼Œç¬¦å·æ˜¯ä¸€ç§ç‰¹æ®Šçš„ã€ä¸å¯å˜çš„æ•°æ®ç±»å‹ï¼Œå®ƒå¯ä»¥ä½œä¸ºå¯¹è±¡å±æ€§çš„æ ‡è¯†ç¬¦ä½¿ç”¨ã€‚ç¬¦å·å¯¹è±¡æ˜¯ä¸€ä¸ªå¯¹çš„ç¬¦å·åŸå§‹æ•°æ®ç±»å‹çš„éšå¼å¯¹è±¡åŒ…è£…å™¨ã€‚</p></blockquote><ul><li>ç±»å‹</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let sym = Symbol(); // Symbolä¸­å‚æ•°ä¸ºå­—ç¬¦ä¸²ï¼Œç”¨æ¥æè¿°ã€‚</span><br><span class="line">console.log(typeof sym); //&quot;symbol&quot;</span><br></pre></td></tr></table></figure><ul><li>å”¯ä¸€æ€§</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const sym1 = Symbol(&apos;abc&apos;);</span><br><span class="line">const sym2 = Symbol(&apos;cba&apos;);</span><br><span class="line">console.log(sym1,sym2); //Symbol(abc) Symbol(cba)</span><br><span class="line">//å‚æ•°çš„ä½œç”¨å°±æ˜¯æè¿°ï¼Œä¾¿äºè°ƒè¯•</span><br><span class="line">console.log(sym1.toString()) //&apos;Symbol(abc)&apos;</span><br></pre></td></tr></table></figure><ul><li>newå…³é”®å­—</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const sym = new Symbol(); // TypeError</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Reactæºç åˆ†æ</title>
      <link href="/2018/08/25/React%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
      <url>/2018/08/25/React%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/</url>
      <content type="html"><![CDATA[<p>æ·±å…¥å­¦ä¹ Reactæ¡†æ¶</p><a id="more"></a><p>è¯»æ‡‚Reactæºç </p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Reacté«˜é˜¶ç»„ä»¶(è½¬)</title>
      <link href="/2018/08/23/React%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6(%E8%BD%AC)/"/>
      <url>/2018/08/23/React%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6(%E8%BD%AC)/</url>
      <content type="html"><![CDATA[<h3 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€">Â¶</a>å‰è¨€</h3><blockquote><p>æœ¬æ–‡ä»£ç æµ…æ˜¾æ˜“æ‡‚ï¼Œæ€æƒ³æ·±å…¥å®ç”¨ã€‚æ­¤å±äºreactè¿›é˜¶ç”¨æ³•ï¼Œå¦‚æœè¿˜ä¸æ˜¯å¾ˆäº†è§£reactï¼Œå»ºè®®ä»æ–‡æ¡£å¼€å§‹çœ‹èµ·ã€‚</p></blockquote><a id="more"></a><p>æˆ‘ä»¬éƒ½çŸ¥é“é«˜é˜¶å‡½æ•°æ˜¯ä»€ä¹ˆ, é«˜é˜¶ç»„ä»¶å…¶å®æ˜¯å·®ä¸å¤šçš„ç”¨æ³•ï¼Œåªä¸è¿‡ä¼ å…¥çš„å‚æ•°å˜æˆäº†reactç»„ä»¶ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶.</p><blockquote><p>A higher-order component is a function that takes a component and returns a new component.</p></blockquote><p>å½¢å¦‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const EnhancedComponent = higherOrderComponent(WrappedComponent);</span><br></pre></td></tr></table></figure><p>é«˜é˜¶ç»„ä»¶æ˜¯reactåº”ç”¨ä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯é‡ç”¨ç»„ä»¶é€»è¾‘ã€‚å®ƒå¹¶ä¸æ˜¯ç”±React APIå®šä¹‰å‡ºæ¥çš„åŠŸèƒ½ï¼Œè€Œæ˜¯ç”±Reactçš„ç»„åˆç‰¹æ€§è¡ç”Ÿå‡ºæ¥çš„ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚<br>å¦‚æœä½ ç”¨è¿‡reduxï¼Œé‚£ä½ å°±ä¸€å®šæ¥è§¦è¿‡é«˜é˜¶ç»„ä»¶ï¼Œå› ä¸ºreact-reduxä¸­çš„connect<br>å°±æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ã€‚</p><p>å¦å¤–æœ¬æ¬¡demoä»£ç éƒ½æ”¾åœ¨ <a href="https://github.com/sunyongjian/hoc-demo" target="_blank" rel="noopener">hoc-demo</a></p><h3 id="å¼•å…¥"><a class="header-anchor" href="#å¼•å…¥">Â¶</a>å¼•å…¥</h3><p>å…ˆæ¥ä¸€ä¸ªæœ€ç®€å•çš„é«˜é˜¶ç»„ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import simpleHoc from &apos;./simple-hoc&apos;;</span><br><span class="line"></span><br><span class="line">class Usual extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    console.log(this.props, &apos;props&apos;);</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        Usual</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default simpleHoc(Usual);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">const simpleHoc = WrappedComponent =&gt; &#123;</span><br><span class="line">  console.log(&apos;simpleHoc&apos;);</span><br><span class="line">  return class extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">      return &lt;WrappedComponent &#123;...this.props&#125;/&gt;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default simpleHoc;</span><br></pre></td></tr></table></figure><p>ç»„ä»¶Usualé€šè¿‡simpleHocçš„åŒ…è£…ï¼Œæ‰“äº†ä¸€ä¸ªlogâ€¦ é‚£ä¹ˆå½¢å¦‚simpleHocå°±æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶äº†ï¼Œé€šè¿‡æ¥æ”¶ä¸€ä¸ªç»„ä»¶class Usualï¼Œå¹¶è¿”å›ä¸€ä¸ªç»„ä»¶classã€‚ å…¶å®æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™ä¸ªå‡½æ•°é‡Œï¼Œæˆ‘ä»¬å¯ä»¥åšå¾ˆå¤šæ“ä½œã€‚ è€Œä¸”returnçš„ç»„ä»¶åŒæ ·æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œfunctionï¼Œå¦å¤–ï¼Œæˆ‘ä»¬çœ‹åˆ°ä¹Ÿå¯ä»¥æŠŠpropsä¼ ç»™WrappedComponent(è¢«åŒ…è£…çš„ç»„ä»¶)ã€‚ é«˜é˜¶ç»„ä»¶çš„å®šä¹‰æˆ‘éƒ½æ˜¯ç”¨ç®­å¤´å‡½æ•°å»å†™çš„ï¼Œå¦‚æœ‰ä¸é€‚è¯·å‚ç…§<br><a href="http://es6.ruanyifeng.com/#docs/function#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0" target="_blank" rel="noopener">arrow function</a></p><h3 id="è£…é¥°å™¨æ¨¡å¼"><a class="header-anchor" href="#è£…é¥°å™¨æ¨¡å¼">Â¶</a>è£…é¥°å™¨æ¨¡å¼</h3><p>é«˜é˜¶ç»„ä»¶å¯ä»¥çœ‹åšæ˜¯è£…é¥°å™¨æ¨¡å¼(Decorator Pattern)åœ¨Reactçš„å®ç°ã€‚å³å…è®¸å‘ä¸€ä¸ªç°æœ‰çš„å¯¹è±¡æ·»åŠ æ–°çš„åŠŸèƒ½ï¼ŒåŒæ—¶åˆä¸æ”¹å˜å…¶ç»“æ„ï¼Œå±äºåŒ…è£…æ¨¡å¼(Wrapper Pattern)çš„ä¸€ç§</p><p>ES7ä¸­æ·»åŠ äº†ä¸€ä¸ªdecoratorçš„å±æ€§ï¼Œä½¿ç”¨@ç¬¦è¡¨ç¤ºï¼Œå¯ä»¥æ›´ç²¾ç®€çš„ä¹¦å†™ã€‚é‚£ä¸Šé¢çš„ä¾‹å­å°±å¯ä»¥æ”¹æˆï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import simpleHoc from &apos;./simple-hoc&apos;;</span><br><span class="line"></span><br><span class="line">@simpleHoc</span><br><span class="line">export default class Usual extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        Usual</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ˜¯åŒæ ·çš„æ•ˆæœã€‚<br>å½“ç„¶å…¼å®¹æ€§æ˜¯å­˜åœ¨é—®é¢˜çš„ï¼Œé€šå¸¸éƒ½æ˜¯é€šè¿‡babelå»ç¼–è¯‘çš„ã€‚ babelæä¾›äº†pluginï¼Œé«˜é˜¶ç»„ä»¶ç”¨çš„æ˜¯ç±»è£…é¥°å™¨ï¼Œæ‰€ä»¥ç”¨ <code>transform-decorators-legacy</code></p><h2 id="ä¸¤ç§å½¢å¼"><a class="header-anchor" href="#ä¸¤ç§å½¢å¼">Â¶</a>ä¸¤ç§å½¢å¼</h2><h3 id="å±æ€§ä»£ç†"><a class="header-anchor" href="#å±æ€§ä»£ç†">Â¶</a>å±æ€§ä»£ç†</h3><p>å¼•å…¥é‡Œæˆ‘ä»¬å†™çš„æœ€ç®€å•çš„å½¢å¼ï¼Œå°±æ˜¯å±æ€§ä»£ç†(Props Proxy)çš„å½¢å¼ã€‚é€šè¿‡hocåŒ…è£…wrappedComponentï¼Œä¹Ÿå°±æ˜¯ä¾‹å­ä¸­çš„Usualï¼Œæœ¬æ¥ä¼ ç»™Usualçš„propsï¼Œéƒ½åœ¨hocä¸­æ¥å—åˆ°äº†ï¼Œä¹Ÿå°±æ˜¯props proxyã€‚ ç”±æ­¤æˆ‘ä»¬å¯ä»¥åšä¸€äº›æ“ä½œ</p><ul><li>æ“ä½œprops<br>æœ€ç›´è§‚çš„å°±æ˜¯æ¥å—åˆ°propsï¼Œæˆ‘ä»¬å¯ä»¥åšä»»ä½•è¯»å–ï¼Œç¼–è¾‘ï¼Œåˆ é™¤çš„å¾ˆå¤šè‡ªå®šä¹‰æ“ä½œã€‚åŒ…æ‹¬hocä¸­å®šä¹‰çš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œéƒ½å¯ä»¥é€šè¿‡propså†ä¼ ä¸‹å»ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">const propsProxyHoc = WrappedComponent =&gt; class extends Component &#123;</span><br><span class="line"></span><br><span class="line">  handleClick() &#123;</span><br><span class="line">    console.log(&apos;click&apos;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (&lt;WrappedComponent</span><br><span class="line">      &#123;...this.props&#125;</span><br><span class="line">      handleClick=&#123;this.handleClick&#125;</span><br><span class="line">    /&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">export default propsProxyHoc;</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬çš„Usualç»„ä»¶renderçš„æ—¶å€™, console.log(this.props) ä¼šå¾—åˆ°handleClickã€‚</p><ul><li>refsè·å–ç»„ä»¶å®ä¾‹<br>å½“æˆ‘ä»¬åŒ…è£…Usualçš„æ—¶å€™ï¼Œæƒ³è·å–åˆ°å®ƒçš„å®ä¾‹æ€ä¹ˆåŠï¼Œå¯ä»¥é€šè¿‡å¼•ç”¨(ref),åœ¨Usualç»„ä»¶æŒ‚è½½çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œrefçš„å›è°ƒå‡½æ•°ï¼Œåœ¨hocä¸­å–åˆ°ç»„ä»¶çš„å®ä¾‹ã€‚é€šè¿‡æ‰“å°ï¼Œå¯ä»¥çœ‹åˆ°å®ƒçš„propsï¼Œ stateï¼Œéƒ½æ˜¯å¯ä»¥å–åˆ°çš„ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">const refHoc = WrappedComponent =&gt; class extends Component &#123;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    console.log(this.instanceComponent, &apos;instanceComponent&apos;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (&lt;WrappedComponent</span><br><span class="line">      &#123;...this.props&#125;</span><br><span class="line">      ref=&#123;instanceComponent =&gt; this.instanceComponent = instanceComponent&#125;</span><br><span class="line">    /&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default refHoc;</span><br></pre></td></tr></table></figure><ul><li>è¿™é‡Œä¸æ˜¯é€šè¿‡refè·å–stateï¼Œ è€Œæ˜¯é€šè¿‡ { props, å›è°ƒå‡½æ•° } ä¼ é€’   ç»™wrappedComponentç»„ä»¶ï¼Œé€šè¿‡å›è°ƒå‡½æ•°è·å–stateã€‚è¿™é‡Œç”¨çš„æ¯”è¾ƒå¤šçš„å°±æ˜¯reactå¤„ç†è¡¨å•çš„æ—¶å€™ã€‚é€šå¸¸reactåœ¨å¤„ç†è¡¨å•çš„æ—¶å€™ï¼Œä¸€èˆ¬ä½¿ç”¨çš„æ˜¯å—æ§ç»„ä»¶<a href="https://reactjs.org/docs/forms.html#controlled-components" target="_blank" rel="noopener">æ–‡æ¡£</a>ï¼Œå³æŠŠinputéƒ½åšæˆå—æ§çš„ï¼Œæ”¹å˜valueçš„æ—¶å€™ï¼Œç”¨onChangeäº‹ä»¶åŒæ­¥åˆ°stateä¸­ã€‚å½“ç„¶è¿™ç§æ“ä½œé€šè¿‡Containerç»„ä»¶ä¹Ÿå¯ä»¥åšåˆ°ï¼Œå…·ä½“çš„åŒºåˆ«æ”¾åˆ°åé¢å»æ¯”è¾ƒã€‚çœ‹ä¸€ä¸‹ä»£ç å°±çŸ¥é“æ€ä¹ˆå›äº‹äº†ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">// æ™®é€šç»„ä»¶Login</span><br><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import formCreate from &apos;./form-create&apos;;</span><br><span class="line"></span><br><span class="line">@formCreate</span><br><span class="line">export default class Login extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;label id=&quot;username&quot;&gt;</span><br><span class="line">            è´¦æˆ·</span><br><span class="line">          &lt;/label&gt;</span><br><span class="line">          &lt;input name=&quot;username&quot; &#123;...this.props.getField(&apos;username&apos;)&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;label id=&quot;password&quot;&gt;</span><br><span class="line">            å¯†ç </span><br><span class="line">          &lt;/label&gt;</span><br><span class="line">          &lt;input name=&quot;password&quot; &#123;...this.props.getField(&apos;password&apos;)&#125;/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div onClick=&#123;this.props.handleSubmit&#125;&gt;æäº¤&lt;/div&gt;</span><br><span class="line">        &lt;div&gt;other content&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">//HOC</span><br><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">const formCreate = WrappedComponent =&gt; class extends Component &#123;</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      fields: &#123;&#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  onChange = key =&gt; e =&gt; &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      fields: &#123;</span><br><span class="line">        ...this.state.fields,</span><br><span class="line">        [key]: e.target.value,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleSubmit = () =&gt; &#123;</span><br><span class="line">    console.log(this.state.fields);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getField = fieldName =&gt; &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      onChange: this.onChange(fieldName),</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const props = &#123;</span><br><span class="line">      ...this.props,</span><br><span class="line">      handleSubmit: this.handleSubmit,</span><br><span class="line">      getField: this.getField,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return (&lt;WrappedComponent</span><br><span class="line">      &#123;...props&#125;</span><br><span class="line">    /&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">export default formCreate;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬æŠŠstateï¼ŒonChangeç­‰æ–¹æ³•éƒ½æ”¾åˆ°HOCé‡Œï¼Œå…¶å®æ˜¯éµä»çš„reactç»„ä»¶çš„ä¸€ç§è§„èŒƒï¼Œå­ç»„ä»¶ç®€å•ï¼Œå‚»ç“œï¼Œè´Ÿè´£å±•ç¤ºï¼Œé€»è¾‘ä¸æ“ä½œæ”¾åˆ°Containerã€‚æ¯”å¦‚è¯´æˆ‘ä»¬åœ¨HOCè·å–åˆ°ç”¨æˆ·åå¯†ç ä¹‹åï¼Œå†å»åšå…¶ä»–æ“ä½œï¼Œå°±æ–¹ä¾¿å¤šäº†ï¼Œè€Œstateï¼Œå¤„ç†å‡½æ•°æ”¾åˆ°Formç»„ä»¶é‡Œï¼Œåªä¼šè®©Formæ›´åŠ ç¬¨é‡ï¼Œæ‰¿æ‹…äº†æœ¬ä¸å±äºå®ƒçš„å·¥ä½œï¼Œè¿™æ ·æˆ‘ä»¬å¯èƒ½å…¶ä»–åœ°æ–¹ä¹Ÿéœ€è¦ç”¨åˆ°è¿™ä¸ªç»„ä»¶ï¼Œä½†æ˜¯å¤„ç†æ–¹å¼ç¨å¾®ä¸åŒï¼Œå°±å¾ˆéº»çƒ¦äº†ã€‚</p><h3 id="åå‘ç»§æ‰¿"><a class="header-anchor" href="#åå‘ç»§æ‰¿">Â¶</a>åå‘ç»§æ‰¿</h3><p>åå‘ç»§æ‰¿(Inheritance Inversion)ï¼Œç®€ç§°IIï¼Œæœ¬æ¥æˆ‘æ˜¯å«ç»§æ‰¿åè½¬çš„â€¦å› ä¸ºæœ‰ä¸ªæ¨¡å¼å«æ§åˆ¶åè½¬å˜›â€¦<br>è·Ÿå±æ€§ä»£ç†çš„æ–¹å¼ä¸åŒçš„æ˜¯ï¼ŒIIé‡‡ç”¨é€šè¿‡ å»ç»§æ‰¿WrappedComponentï¼Œæœ¬æ¥æ˜¯ä¸€ç§åµŒå¥—çš„å…³ç³»ï¼Œç»“æœIIè¿”å›çš„ç»„ä»¶å´ç»§æ‰¿äº†WrappedComponentï¼Œè¿™çœ‹èµ·æ¥æ˜¯ä¸€ç§åè½¬çš„å…³ç³»ã€‚<br>é€šè¿‡ç»§æ‰¿WrappedComponentï¼Œé™¤äº†ä¸€äº›é™æ€æ–¹æ³•ï¼ŒåŒ…æ‹¬ç”Ÿå‘½å‘¨æœŸï¼Œstateï¼Œå„ç§functionï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å¾—åˆ°ã€‚ä¸Šæ —å­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">// usual</span><br><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import iiHoc from &apos;./ii-hoc&apos;;</span><br><span class="line"></span><br><span class="line">@iiHoc</span><br><span class="line">export default class Usual extends Component &#123;</span><br><span class="line"></span><br><span class="line"> constructor() &#123;</span><br><span class="line">   super();</span><br><span class="line">   this.state = &#123;</span><br><span class="line">     usual: &apos;usual&apos;,</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> componentDidMount() &#123;</span><br><span class="line">   console.log(&apos;didMount&apos;)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> render() &#123;</span><br><span class="line">   return (</span><br><span class="line">     &lt;div&gt;</span><br><span class="line">       Usual</span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">   )</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//IIHOC</span><br><span class="line">import React from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">const iiHoc = WrappedComponent =&gt; class extends WrappedComponent &#123;</span><br><span class="line">   render() &#123;</span><br><span class="line">     console.log(this.state, &apos;state&apos;);</span><br><span class="line">     return super.render();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default iiHoc;</span><br></pre></td></tr></table></figure><p>iiHoc returnçš„ç»„ä»¶é€šè¿‡ç»§æ‰¿ï¼Œæ‹¥æœ‰äº†Usualçš„ç”Ÿå‘½å‘¨æœŸåŠå±æ€§ï¼Œæ‰€ä»¥didMountä¼šæ‰“å°ï¼Œstateä¹Ÿé€šè¿‡constructoræ‰§è¡Œï¼Œå¾—åˆ°state.usualã€‚<br>å…¶å®ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡IIï¼š</p><ul><li>æ¸²æŸ“åŠ«æŒ<br>è¿™é‡ŒHOCé‡Œå®šä¹‰çš„ç»„ä»¶ç»§æ‰¿äº†WrappedComponentçš„render(æ¸²æŸ“)ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥æ­¤è¿›è¡Œhijack(åŠ«æŒ)ï¼Œä¹Ÿå°±æ˜¯æ§åˆ¶å®ƒçš„renderå‡½æ•°ã€‚æ —å­ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//hijack-hoc</span><br><span class="line">import React from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">const hijackRenderHoc = config =&gt; WrappedComponent =&gt; class extends WrappedComponent &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; style = &#123;&#125; &#125; = config;</span><br><span class="line">    const elementsTree = super.render();</span><br><span class="line">    console.log(elementsTree, &apos;elementsTree&apos;);</span><br><span class="line">    if (config.type === &apos;add-style&apos;) &#123;</span><br><span class="line">      return &lt;div style=&#123;&#123;...style&#125;&#125;&gt;</span><br><span class="line">        &#123;elementsTree&#125;</span><br><span class="line">      &lt;/div&gt;;</span><br><span class="line">    &#125;</span><br><span class="line">    return elementsTree;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default hijackRenderHoc;</span><br><span class="line">//usual</span><br><span class="line">@hijackRenderHoc(&#123;type: &apos;add-style&apos;, style: &#123; color: &apos;red&apos;&#125;&#125;)</span><br><span class="line">class Usual extends Component &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘è¿™é‡Œé€šè¿‡äºŒé˜¶å‡½æ•°ï¼ŒæŠŠconfigå‚æ•°é¢„åˆ¶è¿›HOCï¼Œ ç®—æ˜¯ä¸€ç§æŸ¯ç†åŒ–çš„æ€æƒ³ã€‚<br>æ —å­å¾ˆç®€å•ï¼Œè¿™ä¸ªhocå°±æ˜¯æ·»åŠ æ ·å¼çš„åŠŸèƒ½ã€‚ä½†æ˜¯å®ƒæš´éœ²å‡ºæ¥çš„ä¿¡æ¯å´ä¸å°‘ã€‚é¦–å…ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡configå‚æ•°è¿›è¡Œé€»è¾‘åˆ¤æ–­ï¼Œæœ‰æ¡ä»¶çš„æ¸²æŸ“ï¼Œå½“ç„¶è¿™ä¸ªå‚æ•°çš„ä½œç”¨å¾ˆå¤šï¼Œreact-reduxä¸­çš„connectä¸å°±æ˜¯ä¼ å…¥äº†props-key å˜›ã€‚å†å°±æ˜¯æˆ‘ä»¬è¿˜å¯ä»¥æ‹¿åˆ°WrappedComponentçš„å…ƒç´ æ ‘ï¼Œå¯ä»¥è¿›è¡Œä¿®æ”¹æ“ä½œã€‚æœ€åå°±æ˜¯æˆ‘ä»¬é€šè¿‡divåŒ…è£¹ï¼Œè®¾ç½®äº†styleã€‚ä½†å…¶å®å…·ä½“å¦‚ä½•æ“ä½œè¿˜æ˜¯æ ¹æ®ä¸šåŠ¡é€»è¾‘å»å¤„ç†çš„â€¦<br><img src="http://oziqlv1ur.bkt.clouddn.com/%E5%85%83%E7%B4%A0%E6%A0%91.png" alt="å…ƒç´ æ ‘"></p><h3 id="æˆ‘çš„åº”ç”¨åœºæ™¯"><a class="header-anchor" href="#æˆ‘çš„åº”ç”¨åœºæ™¯">Â¶</a>æˆ‘çš„åº”ç”¨åœºæ™¯</h3><ul><li><p>é€šå¸¸æˆ‘ä¼šé€šè¿‡é«˜é˜¶ç»„ä»¶å»ä¼˜åŒ–ä¹‹å‰è€é¡¹ç›®å†™çš„ä¸å¥½çš„åœ°æ–¹ï¼Œæ¯”å¦‚ä¸¤ä¸ªé¡µé¢UIå‡ ä¹ä¸€æ ·ï¼ŒåŠŸèƒ½å‡ ä¹ç›¸åŒï¼Œä»…ä»…å‡ ä¸ªæ“ä½œä¸å¤ªä¸€æ ·ï¼Œå´å†™äº†ä¸¤ä¸ªè€¦åˆå¾ˆå¤šçš„é¡µé¢çº§ç»„ä»¶ã€‚å½“æˆ‘å»ç»´æŠ¤å®ƒçš„æ—¶å€™ï¼Œç”±äºå®ƒçš„è€¦åˆæ€§è¿‡å¤šï¼Œç»å¸¸ä¼šæ·»åŠ ä¸€ä¸ªåŠŸèƒ½(è¿™ä¸¤ä¸ªç»„ä»¶éƒ½è¦æ·»åŠ )ï¼Œæˆ‘è¦å»æ”¹å®Œç¬¬ä¸€ä¸ªçš„æ—¶å€™ï¼Œè¿˜è¦æ”¹ç¬¬äºŒä¸ªã€‚è€Œä¸”æœ‰æ—¶å€™ç”±äºæˆ‘çš„è®°æ€§ä¸å¥½ï¼Œä¼šå¿˜æ‰ç¬¬äºŒä¸ªâ€¦ å°±ä¼šå‡ºç°bugå†è¿”å·¥ã€‚æ›´é‡è¦çš„æ˜¯ç”±äºä¸ªäººæ¯”è¾ƒæ‡’ï¼Œä¸æƒ³å»é‡æ„è¿™éƒ¨åˆ†çš„ä»£ç ï¼Œå› ä¸ºä¸œè¥¿å¤ªå¤šäº†ï¼ŒèŠ±è´¹å¤ªå¤šæ—¶é—´ã€‚æ‰€ä»¥åŠ æ–°åŠŸèƒ½çš„æ—¶å€™ï¼Œæˆ‘ä¼šå†™ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œå¾€HOCé‡Œæ·»åŠ æ–¹æ³•ï¼ŒæŠŠé‚£ä¸¤ä¸ªç»„ä»¶åŒ…è£…ä¸€ä¸‹ï¼Œä¹Ÿå°±æ˜¯å±æ€§ä»£ç†ã€‚è¿™æ ·æ–°ä»£ç å°±ä¸ä¼šå†å‡ºç°è€¦åˆï¼Œæ—§çš„é€»è¾‘å¹¶ä¸ä¼šæ”¹å˜ï¼Œè¯´ä¸å®šå“ªå¤©å¿ƒæƒ…å¥½å°±ä¼šæŠ½ç¦»ä¸€éƒ¨åˆ†åŠŸèƒ½åˆ°HOCé‡Œï¼Œç›´åˆ°ç†æƒ³çš„çŠ¶æ€ã€‚</p></li><li><p>å¦ä¸€ç§æƒ…å†µå°±æ˜¯ä¹‹å‰å†™è¿‡ä¸€ä¸ªç»„ä»¶Aï¼Œåšå®Œä¸Šçº¿ï¼Œä¹‹åäº§å“åŠ äº†ä¸€ä¸ªæ–°éœ€æ±‚ï¼Œå¾ˆå¥‡æ€ªè¦åšçš„ç»„ä»¶Bè·ŸAå‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œä½†ç¨å¾®æœ‰åŒºåˆ«ã€‚é‚£æˆ‘å¯èƒ½å°±é€šè¿‡IIçš„æ–¹å¼å»ç»§æ‰¿ä¹‹å‰çš„ç»„ä»¶Aï¼Œæ¯”å¦‚å®ƒåœ¨didMountå»fetchè¯·æ±‚ï¼Œéœ€è¦çš„æ•°æ®æ˜¯ä¸€æ ·çš„ã€‚ä¸åŒçš„åœ°æ–¹æˆ‘å°±ä¼šæ”¾åˆ°HOCé‡Œï¼Œå­˜å‚¨æ–°çš„stateè¿™æ ·ï¼Œå†é€šè¿‡åŠ«æŒæ¸²æŸ“ï¼ŒæŠŠä¸åŒçš„åœ°æ–¹ï¼Œæ·»åŠ çš„åœ°æ–¹è¿›è¡Œå¤„ç†ã€‚ä½†å…¶å®è¿™ç®—Hackçš„ä¸€ç§æ–¹å¼ï¼Œèƒ½å¿«é€Ÿè§£å†³é—®é¢˜ï¼Œä¹Ÿåæ˜ äº†ç»„ä»¶è®¾è®¡è§„åˆ’ä¹‹åˆæœ‰æ‰€ä¸è¶³(åŸå› æ¯”è¾ƒå¤š)ã€‚</p></li><li><p>Containerè§£å†³ä¸äº†çš„æ—¶å€™ç”šè‡³ä¸å¤ªä¼˜é›…çš„æ—¶å€™ã€‚å…¶å®å¤§éƒ¨åˆ†æ—¶å€™åŒ…ä¸€å±‚Containerç»„ä»¶ä¹Ÿèƒ½åšåˆ°å·®ä¸å¤šçš„æ•ˆæœï¼Œæ¯”å¦‚æ“ä½œpropsï¼Œæ¸²æŸ“åŠ«æŒã€‚ä½†å…¶å®è¿˜æ˜¯æœ‰å¾ˆå¤§åŒºåˆ«çš„ã€‚æ¯”å¦‚æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªåŠŸèƒ½çš„containerï¼Œæ·»åŠ æ ·å¼å’Œæ·»åŠ å¤„ç†å‡½æ•°çš„ï¼Œå¯¹Usualè¿›è¡ŒåŒ…è£…ã€‚æ —å­ï¼š</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//usual</span><br><span class="line">class Usual extends Component &#123;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    console.log(this.props, &apos;props&apos;);</span><br><span class="line">    return &lt;div&gt;</span><br><span class="line">      Usual</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">export default Usual;</span><br><span class="line">//console - Object &#123;handleClick: function&#125;  &quot;props&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import Usual from &apos;./usual&apos;;</span><br><span class="line"></span><br><span class="line">class StyleContainer extends Component &#123;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (&lt;div style=&#123;&#123; color: &apos;#76d0a3&apos; &#125;&#125;&gt;</span><br><span class="line">      &lt;div&gt;container&lt;/div&gt;</span><br><span class="line">      &lt;Usual &#123;...this.props&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default StyleContainer;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import StyleContainer from &apos;./container-add-style&apos;;</span><br><span class="line"></span><br><span class="line">class FuncContainer extends Component &#123;</span><br><span class="line">  handleClick() &#123;</span><br><span class="line">    console.log(&apos;click&apos;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const props = &#123;</span><br><span class="line">      ...this.props,</span><br><span class="line">      handleClick: this.handleClick,</span><br><span class="line">    &#125;;</span><br><span class="line">    return (&lt;StyleContainer &#123;...props&#125; /&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default FuncContainer;</span><br></pre></td></tr></table></figure><p>å¤–å±‚Containerå¿…é¡»è¦å¼•å…¥å†…å±‚Containerï¼Œè¿›è¡ŒåŒ…è£…ï¼Œè¿˜æœ‰propsçš„ä¼ é€’ï¼ŒåŒæ ·è¦æ³¨æ„åŒ…è£…çš„é¡ºåºã€‚å½“ç„¶ä½ å¯ä»¥æŠŠæ‰€æœ‰çš„å¤„ç†éƒ½æ”¾åˆ°ä¸€ä¸ªContaineré‡Œã€‚é‚£ç”¨HOCæ€ä¹ˆå¤„ç†å‘¢ï¼Œç›¸ä¿¡å¤§å®¶æœ‰æ¸…æ™°çš„ç­”æ¡ˆäº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">const addFunc = WrappedComponent =&gt; class extends Component &#123;</span><br><span class="line">  handleClick() &#123;</span><br><span class="line">    console.log(&apos;click&apos;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const props = &#123;</span><br><span class="line">      ...this.props,</span><br><span class="line">      handleClick: this.handleClick,</span><br><span class="line">    &#125;;</span><br><span class="line">    return &lt;WrappedComponent &#123;...props&#125; /&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const addStyle = WrappedComponent =&gt; class extends Component &#123;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (&lt;div style=&#123;&#123; color: &apos;#76d0a3&apos; &#125;&#125;&gt;</span><br><span class="line">      &lt;WrappedComponent &#123;...this.props&#125; /&gt;</span><br><span class="line">    &lt;/div&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const WrappenComponent = addStyle(addFunc(Usual));</span><br><span class="line"></span><br><span class="line">class WrappedUsual extends Component &#123;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    console.log(this.props, &apos;props&apos;);</span><br><span class="line">    return (&lt;div&gt;</span><br><span class="line">      &lt;WrappedComponent /&gt;</span><br><span class="line">    &lt;/div&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ˜¾ç„¶HOCæ˜¯æ›´ä¼˜é›…ä¸€äº›çš„ï¼Œæ¯ä¸ªHOCéƒ½å®šä¹‰è‡ªå·±ç‹¬æœ‰çš„å¤„ç†é€»è¾‘ï¼Œéœ€è¦çš„æ—¶å€™åªéœ€è¦å»åŒ…è£…ä½ çš„ç»„ä»¶ã€‚ç›¸è¾ƒäºContainerçš„æ–¹å¼ï¼ŒHOCè€¦åˆæ€§æ›´ä½ï¼Œçµæ´»æ€§æ›´é«˜ï¼Œå¯ä»¥è‡ªç”±ç»„åˆï¼Œæ›´é€‚åˆåº”ä»˜å¤æ‚çš„ä¸šåŠ¡ã€‚å½“ç„¶å½“ä½ çš„éœ€æ±‚å¾ˆç®€å•çš„æ—¶å€™ï¼Œè¿˜æ˜¯ç”¨Containerå»è‡ªç”±ç»„åˆï¼Œåº”ç”¨åœºæ™¯éœ€è¦ä½ æ¸…æ¥šã€‚</p><h3 id="æ³¨æ„ç‚¹-çº¦æŸ"><a class="header-anchor" href="#æ³¨æ„ç‚¹-çº¦æŸ">Â¶</a>æ³¨æ„ç‚¹(çº¦æŸ)</h3><p>å…¶å®å®˜ç½‘æœ‰å¾ˆå¤šï¼Œç®€å•ä»‹ç»ä¸€ä¸‹ã€‚</p><ul><li><p>æœ€é‡è¦çš„åŸåˆ™å°±æ˜¯ï¼Œæ³¨æ„é«˜é˜¶ç»„ä»¶ä¸ä¼šä¿®æ”¹å­ç»„ä»¶ï¼Œä¹Ÿä¸æ‹·è´å­ç»„ä»¶çš„è¡Œä¸ºã€‚é«˜é˜¶ç»„ä»¶åªæ˜¯é€šè¿‡ç»„åˆçš„æ–¹å¼å°†å­ç»„ä»¶åŒ…è£…åœ¨å®¹å™¨ç»„ä»¶ä¸­ï¼Œæ˜¯ä¸€ä¸ªæ— å‰¯ä½œç”¨çš„çº¯å‡½æ•°</p></li><li><p>è¦ç»™hocæ·»åŠ classåï¼Œä¾¿äºdebuggerã€‚æˆ‘ä¸Šé¢çš„å¥½å¤šæ —å­ç»„ä»¶éƒ½æ²¡å†™class åï¼Œè¯·ä¸è¦å­¦æˆ‘ï¼Œå› ä¸ºæˆ‘å®åœ¨æƒ³ä¸å‡ºå«ä»€ä¹ˆåäº†â€¦ å½“æˆ‘ä»¬åœ¨chromeé‡Œåº”ç”¨React-Developer-Toolsçš„æ—¶å€™ï¼Œç»„ä»¶ç»“æ„å¯ä»¥ä¸€ç›®äº†ç„¶ï¼Œæ‰€ä»¥DisplayNameæœ€å¥½è¿˜æ˜¯åŠ ä¸Šã€‚<br><img src="http://oziqlv1ur.bkt.clouddn.com/WrappedUsual.png" alt="WrappedUsual"></p></li><li><p>é™æ€æ–¹æ³•è¦å¤åˆ¶<br>æ— è®ºPPè¿˜æ˜¯IIçš„æ–¹å¼ï¼ŒWrappedComponentçš„é™æ€æ–¹æ³•éƒ½ä¸ä¼šå¤åˆ¶ï¼Œå¦‚æœè¦ç”¨éœ€è¦æˆ‘ä»¬å•ç‹¬å¤åˆ¶ã€‚</p></li><li><p>refsä¸ä¼šä¼ é€’ã€‚ æ„æ€å°±æ˜¯HOCé‡ŒæŒ‡å®šçš„refï¼Œå¹¶ä¸ä¼šä¼ é€’åˆ°å­ç»„ä»¶ï¼Œå¦‚æœä½ è¦ä½¿ç”¨æœ€å¥½å†™å›è°ƒå‡½æ•°é€šè¿‡propsä¼ ä¸‹å»ã€‚</p></li><li><p>ä¸è¦åœ¨renderæ–¹æ³•å†…éƒ¨ä½¿ç”¨é«˜é˜¶ç»„ä»¶ã€‚ç®€å•æ¥è¯´reactçš„å·®åˆ†ç®—æ³•ä¼šå»æ¯”è¾ƒ NowElement === OldElement, æ¥å†³å®šè¦ä¸è¦æ›¿æ¢è¿™ä¸ªelementTreeã€‚ä¹Ÿå°±æ˜¯å¦‚æœä½ æ¯æ¬¡è¿”å›çš„ç»“æœéƒ½ä¸æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œreactä»¥ä¸ºå‘ç”Ÿäº†å˜åŒ–ï¼Œå»æ›´æ›¿è¿™ä¸ªç»„ä»¶ä¼šå¯¼è‡´ä¹‹å‰ç»„ä»¶çš„çŠ¶æ€ä¸¢å¤±ã€‚</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// HOCä¸è¦æ”¾åˆ°renderå‡½æ•°é‡Œé¢</span><br><span class="line"></span><br><span class="line"> class WrappedUsual extends Component &#123;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const WrappenComponent = addStyle(addFunc(Usual));</span><br><span class="line"></span><br><span class="line">    console.log(this.props, &apos;props&apos;);</span><br><span class="line">    return (&lt;div&gt;</span><br><span class="line">      &lt;WrappedComponent /&gt;</span><br><span class="line">    &lt;/div&gt;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨composeç»„åˆHOCã€‚å‡½æ•°å¼ç¼–ç¨‹çš„å¥—è·¯â€¦ ä¾‹å¦‚åº”ç”¨reduxä¸­çš„middlewareä»¥å¢å¼ºåŠŸèƒ½ã€‚redux-middlewareè§£æ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const addFuncHOC = ...</span><br><span class="line">const addStyleHOC = ...//çœç•¥</span><br><span class="line"></span><br><span class="line">const compose = (...funcs) =&gt; component =&gt; &#123;</span><br><span class="line">  if (funcs.lenght === 0) &#123;</span><br><span class="line">    return component;</span><br><span class="line">  &#125;</span><br><span class="line">  const last = funcs[funcs.length - 1];</span><br><span class="line">  return funcs.reduceRight((res, cur) =&gt; cur(res), last(component));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const WrappedComponent = compose(addFuncHOC, addStyleHOC)(Usual);</span><br></pre></td></tr></table></figure><p>å…³äºæ³¨æ„ç‚¹ï¼Œå®˜ç½‘æœ‰æ‰€ä»‹ç»ï¼Œä¸å†èµ˜è¿°ã€‚é“¾æ¥ï¼š<a href="https://reactjs.org/docs/higher-order-components.html#dont-mutate-the-original-component.-use-composition." target="_blank" rel="noopener">reactjs.org</a></p><h3 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h3><p>é«˜é˜¶ç»„ä»¶æœ€å¤§çš„å¥½å¤„å°±æ˜¯è§£è€¦å’Œçµæ´»æ€§ï¼Œåœ¨reactçš„å¼€å‘ä¸­è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚<br>å½“ç„¶è¿™ä¸å¯èƒ½æ˜¯é«˜é˜¶ç»„ä»¶çš„å…¨éƒ¨ç”¨æ³•ã€‚æŒæ¡äº†å®ƒçš„ä¸€äº›æŠ€å·§ï¼Œè¿˜æœ‰ä¸€äº›é™åˆ¶ï¼Œä½ å¯ä»¥ç»“åˆä½ çš„åº”ç”¨åœºæ™¯ï¼Œå‘æ•£æ€ç»´ï¼Œå°è¯•ä¸€äº›ä¸åŒçš„ç”¨æ³•ã€‚</p><p>åŸæ–‡è½¬è‡ªï¼š<a href="https://github.com/sunyongjian/blog/issues/25" target="_blank" rel="noopener">blog</a></p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Say Hi</title>
      <link href="/2018/07/01/Say%20Hi/"/>
      <url>/2018/07/01/Say%20Hi/</url>
      <content type="html"><![CDATA[<img src="http://oziqlv1ur.bkt.clouddn.com/weget.jpg" width="600" hegiht="400" align="center">Say hi<!-- .emoji{  height: 1.2em;} --><a id="more"></a><p>2018å¹´å·²ç»è¿‡å»ä¸€åŠäº†<br></p><p>è¿‡å»çš„å…­ä¸ªæœˆè¿˜æ˜¯å¾ˆå¹¸è¿ï¼Œå¾ˆç¾å¥½<br></p><p>å’Œè€å…„ç»§ç»­å¹¶è‚©ä½œæˆ˜ <img class="emoji" draggable="false" alt="ğŸ’¯" src="https://twemoji.maxcdn.com/2/72x72/1f4af.png"><br></p><p>é‡åˆ°äº†Ta <img class="emoji" draggable="false" alt="ğŸ‘¹" src="https://twemoji.maxcdn.com/2/72x72/1f479.png"><br></p><p>å·¥ä½œï¼Œç»§ç»­ç£¨é”¤å­<br></p><p>æ‘„å½±ï¼Œä¹°ä¸€å°å•å<br></p><p>å¥èº«ï¼Œé¦–å…ˆçš„æœ‰è‚Œè‚‰<br></p><p>çƒ§èœï¼Œä»ç•ªèŒ„ç‚’è›‹å¼€å§‹ï¼Œå·²ç»ç®—å…¥é—¨é€‰æ‰‹äº†ï¼Œemm<br></p><p>Â Â Â Â Â Â Â Â ç»§ç»­è¿›é˜¶<br></p><p>è¯»ä¹¦ï¼Œè¯»å®Œ10æœ¬ä¹¦<br></p><p>æ—…è¡Œ <img class="emoji" draggable="false" alt="ğŸŒ±" src="https://twemoji.maxcdn.com/2/72x72/1f331.png"> ï¼Œé»„å±±-&gt;ä¸‰äºš-&gt;ä¸‹ä¸€ç«™åœ¨å“ªé‡Œ</p>]]></content>
      
      <categories>
          
          <category> å±•æœ› </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ€æƒ³ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>æ€å¿–</title>
      <link href="/2018/06/14/%E6%80%9D%E5%BF%96/"/>
      <url>/2018/06/14/%E6%80%9D%E5%BF%96/</url>
      <content type="html"><![CDATA[<img src="http://oziqlv1ur.bkt.clouddn.com/%E6%80%9D%E5%BF%96.jpg" width="600" hegiht="400" align="center">æ€å¿–<a id="more"></a><p>è¿™æ˜¯åœ¨é»„å±±ç­‰å¾…æ—¥å‡ºçš„é‚£ä¸€ä¸ªç¬é—´<br><br>æ¯ä¸ªäººéƒ½åœ¨æœŸå¾…ç€æ—¥å‡º<br><br>æ¯ä¸ªäººéƒ½æƒ³çœ‹åˆ°è¿™ä¸€ä¸ªç¾å¥½çš„ç¬é—´<br></p><!-- åœ¨ç»å†äº†æ¼«é•¿çš„å¯’å¤œ<br/>ç»ˆäºç­‰åˆ°æ—¥å‡ºçš„é‚£ä¸€åˆ»<br/>æˆ‘çš„å¿ƒæš–äº†ï¼Œæ‰€æœ‰äººçš„å¿ƒéƒ½æš–äº†<br/>å°±åƒé‡åˆ°ä¸€ä¸ªäººï¼Œä¹‹å‰çš„é»‘å¤œæ”’è¶³äº†åŠ›æ°”<br/>å°±æ˜¯ä¸ºäº†é‡åˆ°ä¸€ä¸ªåƒå¤ªé˜³ä¸€æ ·çš„ä½ <br/>å°±åƒï¼Œå¤ªé˜³æœŸå¾…äººä»¬<br/>ç­‰å®ƒå‡ºç°åœ¨åœ°å¹³çº¿ä¸Š<br/>äººä»¬ï¼Œä¹ŸåŒæ ·æœŸå¾…ç€å¤ªé˜³<br/>æ¸©æš–æˆ‘ä»¬çš„èƒ¸è†›<br/>ç„¶åæˆ‘ä»¬è¸ç€å…‰èŠ’ï¼Œèµ°å‘å‰æ–¹ -->]]></content>
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¯— </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Reactå’ŒReduxæ•°æ®æµå‘</title>
      <link href="/2018/03/10/React%E5%92%8CRedux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%90%91/"/>
      <url>/2018/03/10/React%E5%92%8CRedux%E6%95%B0%E6%8D%AE%E6%B5%81%E5%90%91/</url>
      <content type="html"><![CDATA[<p>ç®€å•æè¿°ä¸€ä¸‹action ã€reducerã€store ä¸‰è€…çš„å…³ç³»ï¼š</p><p>ä½¿ç”¨ action æ¥æè¿°â€œå‘ç”Ÿäº†ä»€ä¹ˆâ€ï¼Œå’Œä½¿ç”¨ reducers æ¥æ ¹æ® action æ›´æ–° state çš„ç”¨æ³•ã€‚<br>store å°±æ˜¯æŠŠå®ƒä»¬è”ç³»åˆ°ä¸€èµ·çš„å¯¹è±¡<br>ç”¨  this.props.dispath  (åœ¨é¡µé¢.jsxæ–‡ä»¶ä¸­)å»æ‰¾ä¸€ä¸ªaction(åœ¨  Action.jsx  ) ï¼Œç„¶ååœ¨è¿™ä¸ª<br>actionä¸­åŒ…å«è¯·æ±‚çš„è¯·æ±‚æ–¹å¼:</p><a id="more"></a><ul><li>æŸ¥è¯¢è¯·æ±‚action</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export const getSelectDdata = (data) =&gt; ActionCreator(API_INIT_POST_MODEL,</span><br><span class="line">&apos;/api/rcslmodelcascade/propertylist$&#123;queryData(data)&#125;&apos;,&apos;GET&apos;)()</span><br></pre></td></tr></table></figure><ul><li>ä¿®æ”¹è¯·æ±‚action</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export const editPersional = (data) =&gt; ActionCreator(API_UPDATE_PERSONAL_LIMIT, &apos;/api/rcslmodelprivate&apos;, &apos;PUT&apos;, data)();</span><br></pre></td></tr></table></figure><ul><li>åˆ é™¤è¯·æ±‚action</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export const detelePersionalLimit = (data) =&gt; ActionCreator(API_DELETE_PERSIONAL_MODEL, &apos;/api/rcslmodelprivate/$&#123;data&#125;&apos;, &apos;DELETE&apos;)();</span><br></pre></td></tr></table></figure><ul><li>æ·»åŠ è¯·æ±‚action</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export const addPersionalLimit = (data) =&gt; ActionCreator(API_POST_PERSIONAL_MODEL, &apos;/api/rcslmodelprivate&apos;, &apos;POST&apos;, data)();</span><br></pre></td></tr></table></figure><p>è¿™æ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ·»åŠ ä¸€ä¸ªaction Typeï¼Œæ¥è¡¨ç¤ºç”¨æˆ·å®Œæˆä»»åŠ¡çš„åŠ¨ä½œã€‚äºæ˜¯åœ¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ActionType.jsx</span><br></pre></td></tr></table></figure><p>ä¸­å°±æœ‰å¥½å¤šã€€ã€€<br>å½¢å¦‚ï¼š export const API_INIT_POST_MODEL = [â€˜REQUESTâ€™, â€˜POST_MODEL_SUCCESSâ€™, â€˜FAILUREâ€™];</p><p>ç„¶ååˆ°reducer  , reducer å°±æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œæ¥æ”¶æ—§çš„ state å’Œ actionï¼Œè¿”å›æ–°çš„ stateã€‚åœ¨reduceré‡Œï¼Œä½ å¯ä»¥<br>ç”¨switchå®šä¹‰æ•°æ®çš„å½¢å¼ï¼Œç”¨æ¥å’Œåå°å¯¹æ¥ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">case API_INIT_POST_MODEL[1]:</span><br><span class="line">  return &#123;</span><br><span class="line">      ...state,</span><br><span class="line">      selectData:</span><br><span class="line">       ï¼¿.map(actions.data, (v, k) =&gt; &#123;</span><br><span class="line">                    return &#123;</span><br><span class="line">                        value: v.value.map((v, k) =&gt; &#123;</span><br><span class="line">                            return &#123;</span><br><span class="line">                                labelName: v.name,</span><br><span class="line">                                optionVal: v.value.map(data =&gt; &#123;</span><br><span class="line">                                    return &#123;value: data.code, name: data.name&#125;</span><br><span class="line">                                &#125;),</span><br><span class="line">                                key: v.code,</span><br><span class="line">                                type: &apos;select&apos;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;),</span><br><span class="line">                        name: v.name,</span><br><span class="line">                        code: v.code,</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;),</span><br><span class="line"></span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><ul><li>ç„¶åè¿”å›æ–°çš„stateç»™store,åœ¨store.jsxæ–‡ä»¶ä¸­ï¼Œ<br>æ ¹æ®å·²æœ‰çš„ reducer æ¥åˆ›å»º store æ˜¯éå¸¸å®¹æ˜“çš„ã€‚æˆ‘ä»¬ä½¿ç”¨combineReducers() å°†å¤šä¸ª reducer åˆå¹¶æˆä¸ºä¸€ä¸ªã€‚å¹¶é€šè¿‡ä¸­é—´ä»¶applyMiddleware åˆ›å»ºstoreã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const finalCreateStore=composeWithDevTools(applyMiddleware(promiseMiddleware))(createStore)</span><br></pre></td></tr></table></figure><p>Redux store ä¿å­˜äº†æ ¹ reducer è¿”å›çš„å®Œæ•´ state æ ‘ã€‚ç„¶åè¿”å›ç»™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ReactDom.render(</span><br><span class="line"> &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">    &lt;Router history=&#123;history&#125; &gt;</span><br><span class="line">      &#123;routes&#125;</span><br><span class="line">    &lt;/Router&gt;</span><br><span class="line">  &lt;/Provider&gt;</span><br><span class="line">ï¼‰,document.getElementById(&apos;content&apos;)</span><br></pre></td></tr></table></figure><p>æ ¹èŠ‚ç‚¹ï¼Œç„¶åé‡æ–°æ¸²æŸ“æ•°æ®</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>å‡çº§Webpack4.0.1</title>
      <link href="/2018/03/04/Webpack4.0%E5%8D%87%E7%BA%A7/"/>
      <url>/2018/03/04/Webpack4.0%E5%8D%87%E7%BA%A7/</url>
      <content type="html"><![CDATA[<h3 id="webpack-4ä»‹ç»ï¼š"><a class="header-anchor" href="#webpack-4ä»‹ç»ï¼š">Â¶</a>Webpack 4ä»‹ç»ï¼š</h3><p>Webpack 4 æ­£å¼ç‰ˆå·²å‘å¸ƒï¼ŒWebpackÂ æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„æ¨¡å—æ‰“åŒ…å™¨ (module bundler) ã€‚<br>å½“ Webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œ<br>ç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆå°‘é‡çš„Â bundleÂ - é€šå¸¸åªæœ‰ä¸€ä¸ªï¼Œç”±æµè§ˆå™¨åŠ è½½ã€‚</p><h5 id="æ›´æ–°ç‚¹åŒ…æ‹¬ï¼š"><a class="header-anchor" href="#æ›´æ–°ç‚¹åŒ…æ‹¬ï¼š">Â¶</a>æ›´æ–°ç‚¹åŒ…æ‹¬ï¼š</h5><ol><li>Environment</li></ol><ul><li>ä¸å†æ”¯æŒ Node.js 4</li></ul><ol start="2"><li>Usage</li></ol><ul><li>ç°åœ¨å¯ä»¥åœ¨ä¸¤ç§æ¨¡å¼ä¸­é€‰æ‹©Â (modeÂ orÂ --mode) :Â ç”Ÿäº§æ¨¡å¼æˆ–å¼€å‘æ¨¡å¼</li></ul><ol start="3"><li>Syntax</li></ol><ul><li>import()Â æ€»æ˜¯è¿”å›ä¸€ä¸ªå‘½åç©ºé—´å¯¹è±¡ã€‚CommonJS æ¨¡å—è¢«å°è£…åˆ°é»˜è®¤å¯¼å‡ºä¸­</li></ul><a id="more"></a><ol start="4"><li>Configuration</li></ol><ul><li>NoEmitOnErrorsPluginÂ -&gt;Â optimization.noEmitOnErrorsÂ (ç”Ÿäº§æ¨¡å¼ä¸‹é»˜è®¤å¼€å¯)</li><li>ModuleConcatenationPluginÂ -&gt;Â optimization.concatenateModulesÂ (å¼€å‘æ¨¡å¼ä¸‹é»˜è®¤å¼€å¯)</li><li>NamedModulesPluginÂ -&gt;Â optimization.namedModulesÂ (å¼€å‘æ¨¡å¼ä¸‹é»˜è®¤å¼€å¯)</li><li>CommonsChunkPluginÂ å·²è¢«ç§»é™¤Â -&gt;Â optimization.splitChunks,Â optimization.runtimeChun</li></ul><ol start="5"><li>JSON</li></ol><ul><li>webpackÂ ç°åœ¨èƒ½åŸç”Ÿåœ°å¤„ç† JSON</li><li>å…è®¸é€šè¿‡ ESM è¯­æ³•å¯¼å…¥ JSON</li></ul><ol start="6"><li>Optimization</li></ol><ul><li>æ›´æ–° uglifyjs-webpack-pluginÂ è‡³Â v1Â ç‰ˆæœ¬ï¼Œä»¥æ”¯æŒ ES15</li></ul><p>æ³¨ï¼š è¯¦ç»†æ›´æ–°è¯·çœ‹ <a href="https://juejin.im/post/5a951bf851882524d842ec8b" target="_blank" rel="noopener">webpackæ›´æ–°æ—¥å¿—</a></p><h3 id="å‡çº§è¿‡ç¨‹å¦‚ä¸‹ï¼š"><a class="header-anchor" href="#å‡çº§è¿‡ç¨‹å¦‚ä¸‹ï¼š">Â¶</a>å‡çº§è¿‡ç¨‹å¦‚ä¸‹ï¼š</h3><ol><li>é¦–å…ˆå¸è½½åŸæ¥çš„webpackç‰ˆæœ¬ï¼Œå®‰è£…æœ€æ–°4.0.1ç‰ˆæœ¬</li></ol><ul><li>å¸è½½å‘½ä»¤<code>npm uninstall webpack -g</code></li><li>å®‰è£…å‘½ä»¤<code>npm install webpack@4.0.1 -g</code> æˆ–è€…<code>yarn add webpack@4.0.1</code></li></ul><ol start="2"><li>æ·»åŠ optimization,è¿™æ—¶ä¼šæŠ¥é”™ï¼š Cannot find module â€˜webpack/bin/config-yargsâ€™</li></ol><ul><li>éœ€è¦å®‰è£…<code>webpack-dev-server</code></li><li>é¦–å…ˆå¸è½½<code>npm uninstall webpack-dev-server -g</code></li><li>ç„¶åå†å®‰è£…<code>yarn add webpack-dev-server@3.0.1-beta.0</code></li></ul><ol start="3"><li>å¯åŠ¨é¡¹ç›® <code>yarn run dev</code></li></ol><ul><li>å‘ç°æç¤ºéœ€è¦å®‰è£…<code>webpack-cli</code> (ç”¨æ¥å¯åŠ¨webpack)</li><li>å®‰è£…<code>yarn add webpack-cli -D</code></li></ul><ol start="4"><li>ç„¶åå¯åŠ¨é¡¹ç›®ä½ ä¼šå‘ç°é”™è¯¯ä¿¡æ¯:<code>...please use config.optimization.splitChunks instead</code>å’Œ<br><img src="http://oziqlv1ur.bkt.clouddn.com/instead.png" alt="é”™è¯¯ä¿¡æ¯"></li></ol><p><code>compilation.mainTemplate.applyPluginsWaterfall is not a function</code></p><p>æ­¤æ—¶éœ€è¦,åœ¨webpack.configä¸­æ·»åŠ <code>optimization</code></p><p><img src="http://oziqlv1ur.bkt.clouddn.com/optimization.png" alt="optimization"></p><p>è¿è¡Œå‘½ä»¤ï¼š <code>yarn add webpack-contrib/html-webpack-plugin -D</code></p><ol start="5"><li>ç„¶åå¯åŠ¨é¡¹ç›®ä¼šå‡ºç°ç¼–è¯‘è­¦å‘Š:<code>The mode option has not been set...</code>,<br><img src="http://oziqlv1ur.bkt.clouddn.com/mode.png" alt="é”™è¯¯ä¿¡æ¯"></li></ol><ul><li>éœ€è¦åœ¨ <code>package.json</code> é‡Œ&quot;dev&quot;å’Œ&quot;build&quot;æ·»åŠ <br><code>--mode development</code><br><code>--mode production</code></li></ul><ol start="6"><li><code>yarn run dev</code> å¯åŠ¨é¡¹ç›®</li></ol><h3 id="å‚è€ƒ"><a class="header-anchor" href="#å‚è€ƒ">Â¶</a>å‚è€ƒ:</h3><p><a href="https://doc.webpack-china.org/concepts/" target="_blank" rel="noopener">webpackä¸­æ–‡æ–‡æ¡£</a></p><p><a href="https://doc.webpack-china.org/plugins" target="_blank" rel="noopener">ä»¥åŠæ’ä»¶åˆ—è¡¨</a></p><h3 id="å‡çº§æ•ˆæœï¼š"><a class="header-anchor" href="#å‡çº§æ•ˆæœï¼š">Â¶</a>å‡çº§æ•ˆæœï¼š</h3><ul><li>å‡çº§å‰<br><img src="http://oziqlv1ur.bkt.clouddn.com/%E5%8D%87%E7%BA%A7%E5%89%8D.png" alt="å‡çº§å‰"></li><li>å‡çº§å<br><img src="http://oziqlv1ur.bkt.clouddn.com/%E5%8D%87%E7%BA%A7%E5%90%8E.png" alt="å‡çº§å"><br>é£æ§é™é¢é¡¹ç›®ç”±åŸæ¥çš„webpack3.10.0å‡çº§åˆ°4.0.1,</li></ul><p>æ‰“åŒ…é€Ÿåº¦ç”±åŸæ¥çš„ 41424ms æå‡åˆ° 36396ms,å‡å°‘äº†5ç§’</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webpack </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>æ–°å»ºåˆ†æ”¯å¹¶æäº¤åˆ°è¿œç¨‹åˆ†æ”¯</title>
      <link href="/2018/02/28/%E6%96%B0%E5%BB%BA%E5%88%86%E6%94%AF%E5%B9%B6%E6%8F%90%E4%BA%A4%E5%88%B0%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF/"/>
      <url>/2018/02/28/%E6%96%B0%E5%BB%BA%E5%88%86%E6%94%AF%E5%B9%B6%E6%8F%90%E4%BA%A4%E5%88%B0%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF/</url>
      <content type="html"><![CDATA[<h5 id="æ–°å»ºåˆ†æ”¯å¹¶æäº¤åˆ°è¿œç¨‹åˆ†æ”¯"><a class="header-anchor" href="#æ–°å»ºåˆ†æ”¯å¹¶æäº¤åˆ°è¿œç¨‹åˆ†æ”¯">Â¶</a>æ–°å»ºåˆ†æ”¯å¹¶æäº¤åˆ°è¿œç¨‹åˆ†æ”¯</h5><ol><li><code>git checkout -b phase</code> æ–°å»ºåˆ†æ”¯phase å¹¶åˆ‡æ¢åˆ°phase</li><li><code>git push origin phase:phase</code> æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯</li><li><code>git branch</code> æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</li><li><code>git branch -r</code> æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯<br>å¦‚æœè¿œç¨‹åˆ†æ”¯ä¸Šæœ‰phaseï¼Œè¯´æ˜æäº¤æˆåŠŸï¼Œå°±å¯ä»¥åœ¨åˆ†æ”¯ä¸Šå¼€å‘äº†!</li></ol><a id="more"></a><hr><p>åœ¨masteråˆ†æ”¯ä¸Šï¼š</p><ol><li><code>git fetch</code> è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯å·²æ›´æ–°(Gitæœ¯è¯­å«åšcommit)ï¼Œéœ€è¦å°†è¿™äº›æ›´æ–°å–å›æœ¬åœ°</li><li><code>git status</code> æŸ¥è¯¢ä¸€ä¸‹çŠ¶æ€</li><li>è‹¥æç¤ºè½åäº<code>origin/master</code></li><li><code>git merge origin/master</code> å°†è¿œç«¯masteråˆ†æ”¯çš„ä»£ç mergeè¿›æœ¬åœ°åˆ†æ”¯</li><li><code>git status</code> å†æ¬¡ç¡®è®¤</li><li><code>git checkout -b test</code> æ–°å»ºåˆ†æ”¯test å¹¶ä¸”æ¢åˆ°test</li></ol><p>å…¶ä»–gitå‘½ä»¤ï¼š</p><p><code>git reset â€“hard origin/master</code> å°†æœ¬åœ°çš„çŠ¶æ€å›é€€åˆ°å’Œè¿œç¨‹çš„ä¸€æ ·</p><p><code>git rest</code> åœ¨gitçš„ä¸€èˆ¬ä½¿ç”¨ä¸­ï¼Œå¦‚æœå‘ç°é”™è¯¯çš„å°†ä¸æƒ³æš‚å­˜çš„æ–‡ä»¶è¢«git addè¿›å…¥ç´¢å¼•ä¹‹åï¼Œ</p><p>æƒ³å›é€€å–æ¶ˆï¼Œåˆ™å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š <code>git reset HEAD &lt;file&gt;</code></p><p><code>git reset [--hard|soft|mixed|merge|keep] [&lt;commit&gt;æˆ–HEAD]</code>ï¼š</p><p>å°†å½“å‰çš„åˆ†æ”¯é‡è®¾<code>(reset)</code>åˆ°æŒ‡å®šçš„<code>&lt;commit&gt;</code>æˆ–è€…<code>HEAD</code>(é»˜è®¤ï¼Œå¦‚æœä¸æ˜¾ç¤ºæŒ‡å®š<code>&lt;commit&gt;</code>ï¼Œé»˜è®¤æ˜¯<code>HEAD</code>ï¼Œå³æœ€æ–°çš„ä¸€æ¬¡æäº¤)ï¼Œ</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Gitï¼ˆäºŒï¼‰</title>
      <link href="/2017/12/26/Git%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2017/12/26/Git%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨å¼€å‘é¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ‰€åœ¨ä¸€ä¸ªå«devçš„åˆ†æ”¯å¼€å‘ï¼Œæ­£å¼€å‘åˆ°ä¸€åŠï¼Œå¤´å„¿è®©æˆ‘å»masteråˆ†æ”¯<br>ä¿®æ”¹ä¸€ä¸ªbugï¼Œæ‰€ä»¥æˆ‘å¿…é¡»å…ˆæŠŠæ­£åœ¨æ”¹çš„ä»£ç æš‚å­˜èµ·æ¥æˆ–è€…æäº¤ï¼Œæ‰å¯ä»¥å»åˆ‡æ¢åˆ†æ”¯å¼€å‘ã€‚<br>åœ¨è¿™ä¸ªåœºæ™¯ä¸‹ï¼šæœ‰ä¸‰ç§æ–¹æ³•å»è§£å†³ï¼š</p><h5 id="åŠæ—¶commitä»£ç "><a class="header-anchor" href="#åŠæ—¶commitä»£ç ">Â¶</a>åŠæ—¶commitä»£ç </h5><p>åœ¨devåˆ†æ”¯ä¸ŠæŠŠå·²ç»å¼€å‘å®Œæˆçš„éƒ¨åˆ†ä»£ç commitæ‰,ä¸pushï¼Œç„¶ååˆ‡æ¢åˆ°masteråˆ†æ”¯ä¸Šä¿®æ”¹ä»£ç ,<br>åšå®Œäº†commit,æ‰€æœ‰åˆ†æ”¯äº’ä¸å½±å“ï¼Œå½“ç„¶å‹¤commitæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚</p><a id="more"></a><h5 id="ä½¿ç”¨git-stash"><a class="header-anchor" href="#ä½¿ç”¨git-stash">Â¶</a>ä½¿ç”¨git stash</h5><p>åœ¨devåˆ†æ”¯ä¸Šï¼Œæˆ‘å¯ä»¥</p><blockquote><p>git stashæˆ–è€… git stash save â€œä¿®æ”¹çš„ä¿¡æ¯&quot;</p></blockquote><p>è¿™æ ·çš„è¯ï¼Œä½ çš„ä»£ç å°±å›åˆ°ä¸Šä¸€ä¸ªcommitäº†,ç›´æ¥git stashä¹Ÿè¡Œï¼Œgit stash æ ˆä¼šç»™ä½ ä¸€ä¸ªhashå€¼ä½œä¸ºç‰ˆæœ¬çš„è¯´æ˜ï¼Œä½†æˆ‘è§‰å¾—æœ€å¥½è‡ªå·±å†™è¯´æ˜æ¯”è¾ƒæ˜æœ—ã€‚ç„¶åä½ åˆ°masteråˆ†æ”¯ä¹‹åï¼Œå®Œæˆäº†å¤´äºŒäº¤ç»™çš„ä»»åŠ¡ï¼Œä½ å°±å¯ä»¥å›åˆ°devåˆ†æ”¯ï¼Œç„¶åè¾“å…¥ï¼š</p><blockquote><p>git stash popæˆ–git stash list</p></blockquote><p>å°±å¯ä»¥å›åˆ°åˆšæ‰ä¿®æ”¹æ—¶å€™çš„ç‰ˆæœ¬äº†ã€‚è¿™å°±ç›¸å½“äºï¼Œå‹æ ˆå‡ºæ ˆçš„è¿‡ç¨‹ï¼Œå°†æ—§ç‰ˆæœ¬ä»£ç å‹æ ˆï¼Œç„¶å<br>åˆ‡æ¢åˆ†æ”¯å¼€å‘ï¼Œç„¶åå›åˆ°åŸå…ˆåˆ†æ”¯ï¼Œå‡ºæ ˆè·å¾—ä¹‹å‰æ­£åœ¨ä¿®æ”¹çš„ä»£ç ã€‚<br>è€Œ</p><blockquote><p>git stash apply stash@{0}</p></blockquote><p>çš„ä½œç”¨æ˜¯å¯ä»¥æŒ‡å®šæ ˆä¸­çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œ<br>é€šè¿‡</p><blockquote><p>git stash list å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„ç‰ˆæœ¬ä¿¡æ¯:</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stash@&#123;0&#125;: On master: Uncommitted changes before rebase</span><br><span class="line">stash@&#123;1&#125;: On master: Uncommitted changes before Checkout</span><br></pre></td></tr></table></figure><p>ç„¶åä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªä½ éœ€è¦çš„ç‰ˆæœ¬æ‰§è¡Œï¼š</p><blockquote><p>git stash apply stash@{0}</p></blockquote><p>ç„¶åä½ çš„ä»£ç å°±å›æ¥äº†ã€‚</p><h5 id="ç”¨ideå·¥å…·çš„shelveçš„åŠŸèƒ½"><a class="header-anchor" href="#ç”¨ideå·¥å…·çš„shelveçš„åŠŸèƒ½">Â¶</a>ç”¨IDEå·¥å…·çš„shelveçš„åŠŸèƒ½</h5><p>æˆ‘ç”¨çš„webStormæœ‰shelveåŠŸèƒ½ï¼Œshelveçš„æ„æ€æ˜¯â€œå°†â€¦æåœ¨ä¸€è¾¹â€ï¼Œå³æŠŠè¿˜æ²¡å†™å®Œçš„ä»£ç å…ˆæåœ¨ä¸€è¾¹ã€‚</p><p>é¦–å…ˆåœ¨IDEçš„åº•éƒ¨æ‰¾åˆ°<code>Version Control</code>ï¼Œç‚¹å¼€ä¼šæœ‰localçš„é€‰é¡¹å¡ï¼Œé€‰ä¸­ä½ è¦æç½®çš„ä»£ç ï¼Œç‚¹å‡»å³é”®ï¼Œé€‰æ‹©â€œShelve Changesâ€ï¼Œåœ¨æäº¤çš„è¾“å…¥æ¡†ä¸­è¾“å…¥ä½ çš„æ³¨é‡Šï¼Œä»¥ä¾¿å›æ¥çš„æ—¶å€™è¯†åˆ«ä½ éœ€è¦çš„ç‰ˆæœ¬ï¼Œç‚¹å‡»â€œShelve Changesâ€é”®å³å¯ã€‚è¿™æ—¶é€‰é¡¹å¡ä¸Šä¼šå¤šä¸€ä¸ªâ€œShelfâ€çš„é€‰é¡¹å¡ï¼Œé‡Œé¢å°±æœ‰ä½ æç½®çš„ä»£ç ã€‚</p><p>è¿™æ—¶å€™ä½ å¯ä»¥å»masteråˆ†æ”¯ä¿®æ”¹ä»£ç ï¼Œæ”¹å®Œäº†ä¹‹åå›åˆ°devåˆ†æ”¯ï¼Œåˆ°â€œShelfâ€é€‰é¡¹å¡ä¸‹é€‰æ‹©ä½ è¦æ¢å¤çš„ä»£ç æˆ–è€…ç‰ˆæœ¬ï¼Œç‚¹å‡»å³é”®é€‰æ‹©â€œUnshelve Changesâ€ï¼Œä½ çš„æç½®çš„ä»£ç å°±å›æ¥äº†ã€‚</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Reactç»„ä»¶é—´é€šä¿¡</title>
      <link href="/2017/12/10/React%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1/"/>
      <url>/2017/12/10/React%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1/</url>
      <content type="html"><![CDATA[<blockquote><p>å¤„ç† React ç»„ä»¶ä¹‹é—´çš„äº¤æµæ–¹å¼ï¼Œä¸»è¦å–å†³äºç»„ä»¶ä¹‹é—´çš„å…³ç³»ï¼Œ<br>ä¸‹é¢æˆ‘ä»¬æ ¹æ®ä¸åŒæƒ…å†µï¼Œæ¥è®²è®²Reactçš„ç»„ä»¶é€šä¿¡ã€‚</p></blockquote>  <a id="more"></a><ul><li>ã€çˆ¶ç»„ä»¶ã€‘å‘ã€å­ç»„ä»¶ã€‘ä¼ å€¼ï¼›</li><li>ã€å­ç»„ä»¶ã€‘å‘ã€çˆ¶ç»„ä»¶ã€‘ä¼ å€¼ï¼›</li><li>æ²¡æœ‰ä»»ä½•åµŒå¥—å…³ç³»çš„ç»„ä»¶ä¹‹é—´ä¼ å€¼ï¼ˆPSï¼šæ¯”å¦‚ï¼šå…„å¼Ÿç»„ä»¶ä¹‹é—´çš„ä¼ å€¼ï¼‰</li></ul><h3 id="çˆ¶å­ä¼ å€¼ï¼š"><a class="header-anchor" href="#çˆ¶å­ä¼ å€¼ï¼š">Â¶</a>çˆ¶å­ä¼ å€¼ï¼š</h3><hr><h4 id="çˆ¶å‘å­ä¼ "><a class="header-anchor" href="#çˆ¶å‘å­ä¼ ">Â¶</a>çˆ¶å‘å­ä¼ </h4><p><code>çˆ¶ç»„ä»¶ï¼š</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">class Parent extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      value: &apos;&apos;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange = e =&gt; &#123;</span><br><span class="line">    this.value = e.target.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleClick = () =&gt; &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      value: this.value,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        æˆ‘æ˜¯parent</span><br><span class="line">        &lt;input onChange=&#123;this.handleChange&#125; /&gt;</span><br><span class="line">        &lt;div className=&quot;button&quot; onClick=&#123;this.handleClick&#125;&gt;é€šçŸ¥&lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;Child value=&#123;this.state.value&#125; /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>å­ç»„ä»¶ï¼š</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Child extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; value &#125; = this.props;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        æˆ‘æ˜¯Childï¼Œå¾—åˆ°ä¼ ä¸‹æ¥çš„å€¼ï¼š&#123;value&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çˆ¶ç»„ä»¶åšçš„å°±æ˜¯å®šä¹‰å¥½ state ï¼Œå®šä¹‰å¥½äº‹ä»¶å‡½æ•°ï¼Œåœ¨input onChange çš„æ—¶å€™ï¼Œå»ç¼“å­˜ value å€¼ï¼Œç„¶åç‚¹å‡» button çš„æ—¶å€™ï¼Œæ”¹å˜ state , å­ç»„ä»¶åªè´Ÿè´£å±•ç¤º value ã€‚</p><h4 id="å­å‘çˆ¶ä¼ "><a class="header-anchor" href="#å­å‘çˆ¶ä¼ ">Â¶</a>å­å‘çˆ¶ä¼ </h4><p>child ç»„ä»¶é€šçŸ¥ parent ç»„ä»¶ï¼Œ ä¸»è¦æ˜¯ä¾é  parent ä¼ ä¸‹æ¥çš„ callback å‡½æ•°æ‰§è¡Œï¼Œæ”¹å˜ parent ç»„ä»¶çš„çŠ¶æ€ï¼Œæˆ–è€…æŠŠ child è‡ªå·±çš„ state é€šçŸ¥ parent ã€‚åˆ†ä¸¤ç§æƒ…å†µï¼š</p><ul><li>state å®šä¹‰åœ¨ parent ç»„ä»¶<br><code>çˆ¶ç»„ä»¶ï¼š</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Parent extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      value: &apos;&apos;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setValue = value =&gt; &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      value,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;æˆ‘æ˜¯parent, Valueæ˜¯ï¼š&#123;this.state.value&#125;&lt;/div&gt;</span><br><span class="line">        &lt;Child setValue=&#123;this.setValue&#125; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>å­ç»„ä»¶ï¼š</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">class Child extends Component &#123;</span><br><span class="line"></span><br><span class="line">  handleChange = e =&gt; &#123;</span><br><span class="line">    this.value = e.target.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleClick = () =&gt; &#123;</span><br><span class="line">    const &#123; setValue &#125; = this.props;</span><br><span class="line">    setValue(this.value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        æˆ‘æ˜¯Child</span><br><span class="line">        &lt;div className=&quot;card&quot;&gt;</span><br><span class="line">          state å®šä¹‰åœ¨ parent</span><br><span class="line">          &lt;input onChange=&#123;this.handleChange&#125; /&gt;</span><br><span class="line">          &lt;div className=&quot;button&quot; onClick=&#123;this.handleClick&#125;&gt;é€šçŸ¥&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>parent ç»„ä»¶æŠŠæ”¹å˜ state çš„ setValue å‡½æ•°ä¼ ç»™ child ï¼Œchild ç»„ä»¶è‡ªå·±å¤„ç†å†…éƒ¨çš„çŠ¶æ€ï¼ˆè¿™é‡Œæ˜¯è¡¨å•çš„valueå€¼ï¼‰ï¼Œå½“ child ç»„ä»¶åˆ†å‘æ¶ˆæ¯çš„æ—¶å€™ï¼Œ æ‰§è¡Œ parent çš„ setValue å‡½æ•°ï¼Œä»è€Œæ”¹å˜äº† parent çš„ stateï¼Œstateå‘ç”Ÿå˜åŒ–ï¼Œ parent ç»„ä»¶æ‰§è¡Œ re-render</p><ul><li>state å®šä¹‰åœ¨ child ç»„ä»¶</li></ul><p><code>çˆ¶ç»„ä»¶ï¼š</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Parent extends Component &#123;</span><br><span class="line"></span><br><span class="line">  onChange = value =&gt; &#123;</span><br><span class="line">    console.log(value, &apos;æ¥è‡ª child çš„ value å˜åŒ–&apos;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;æˆ‘æ˜¯parent</span><br><span class="line">        &lt;Child onChange=&#123;this.onChange&#125; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>å­ç»„ä»¶ï¼š</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class Child extends Component &#123;</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      childValue: &apos;&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  childValChange = e =&gt; &#123;</span><br><span class="line">    this.childVal = e.target.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  childValDispatch = () =&gt; &#123;</span><br><span class="line">    const &#123; onChange &#125; = this.props;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      childValue: this.childVal,</span><br><span class="line">    &#125;, () =&gt; &#123; onChange(this.state.childValue) &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        æˆ‘æ˜¯Child</span><br><span class="line">        &lt;div className=&quot;card&quot;&gt;</span><br><span class="line">          state å®šä¹‰åœ¨ child</span><br><span class="line">          &lt;input onChange=&#123;this.childValChange&#125; /&gt;</span><br><span class="line">          &lt;div className=&quot;button&quot; onClick=&#123;this.childValDispatch&#125;&gt;é€šçŸ¥&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ‰æ—¶å€™ state æ˜¯éœ€è¦å®šä¹‰åœ¨ child ç»„ä»¶çš„ï¼Œæ¯”å¦‚å¼¹çª—ï¼Œ CheckBox è¿™ç§å¼€å…³æ€§è´¨çš„ï¼Œé€»è¾‘æ˜¯é‡å¤çš„ï¼Œstate å®šä¹‰åœ¨ç»„ä»¶å†…éƒ¨æ›´å¥½ç»´æŠ¤ï¼Œ å¤ç”¨æ€§æ›´å¥½ã€‚ä½†æ˜¯ child çš„ state æ˜¯éœ€è¦å‘ŠçŸ¥æˆ‘çš„ parent ç»„ä»¶çš„ï¼Œ åŒæ ·è¿˜æ˜¯æ‰§è¡Œ parent ä¼ ä¸‹æ¥çš„ change å‡½æ•°ã€‚</p><h3 id="å…„å¼Ÿç»„ä»¶ï¼š"><a class="header-anchor" href="#å…„å¼Ÿç»„ä»¶ï¼š">Â¶</a>å…„å¼Ÿç»„ä»¶ï¼š</h3><hr><p>æœ‰æ—¶å€™å¯èƒ½å‡ºç°é¡µé¢ä¸­çš„æŸä¸¤éƒ¨åˆ†é€šä¿¡ï¼Œæ¯”å¦‚çœå¸‚çš„çº§è”é€‰æ‹©ï¼Œç‚¹å‡» button æ”¹å˜é¢œè‰²ç­‰ç­‰ï¼Œç»„ä»¶å¹¶ä¸æ˜¯çˆ¶å­çº§ï¼Œæ²¡æœ‰åµŒå¥—å…³ç³»çš„æ—¶å€™ã€‚è¿™ç§æ—¶å€™é€šå¸¸æ˜¯ä¾èµ–å…±æœ‰çš„é¡¶çº§ Container å¤„ç†æˆ–è€…ç¬¬ä¸‰æ–¹çš„çŠ¶æ€ç®¡ç†å™¨ã€‚å…¶å®åŸç†éƒ½æ˜¯ç›¸é€šçš„ï¼Œå…„å¼Ÿ A çš„ value å‘ç”Ÿå˜åŒ–ï¼Œåˆ†å‘çš„æ—¶å€™æŠŠ value å€¼å‘Šè¯‰ä¸€ä¸ªä¸­é—´è€… C ï¼ŒC ä¼šè‡ªåŠ¨å‘ŠçŸ¥ Bï¼Œå®ç° B çš„è‡ªåŠ¨render ã€‚</p><h4 id="åˆ©ç”¨å…±æœ‰çš„container"><a class="header-anchor" href="#åˆ©ç”¨å…±æœ‰çš„container">Â¶</a>åˆ©ç”¨å…±æœ‰çš„Container</h4><p><code>container</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Container extends Component &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      value: &apos;&apos;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setValue = value =&gt; &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      value,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;A setValue=&#123;this.setValue&#125;/&gt;</span><br><span class="line">        &lt;B value=&#123;this.state.value&#125; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>å…„å¼ŸAï¼š</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class A extends Component &#123;</span><br><span class="line"></span><br><span class="line">  handleChange = (e) =&gt; &#123;</span><br><span class="line">    this.value = e.target.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleClick = () =&gt; &#123;</span><br><span class="line">    const &#123; setValue &#125; = this.props;</span><br><span class="line">    setValue(this.value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;card&quot;&gt;</span><br><span class="line">        æˆ‘æ˜¯Brother A, &lt;input onChange=&#123;this.handleChange&#125; /&gt;</span><br><span class="line">        &lt;div className=&quot;button&quot; onClick=&#123;this.handleClick&#125;&gt;é€šçŸ¥&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>å…„å¼ŸBï¼š</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const B = props =&gt; (</span><br><span class="line">  &lt;div className=&quot;card&quot;&gt;</span><br><span class="line">    æˆ‘æ˜¯Brother B, valueæ˜¯ï¼š</span><br><span class="line">    &#123;props.value&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">);</span><br><span class="line">export default B;</span><br></pre></td></tr></table></figure><p>ç»„ä»¶ A ä¸­çš„è¡¨å• value å€¼ï¼Œå‘ŠçŸ¥äº†çˆ¶çº§ Container ç»„ä»¶ï¼ˆé€šè¿‡ setValue å‡½æ•°æ”¹å˜ stateï¼‰ï¼Œç»„ä»¶ B ä¾èµ–äº Container ä¼ ä¸‹æ¥çš„ stateï¼Œä¼šåšå‡ºåŒæ­¥æ›´æ–°ã€‚è¿™é‡Œçš„ä¸­é—´è€…æ˜¯ Containerã€‚</p><h4 id="åˆ©ç”¨context"><a class="header-anchor" href="#åˆ©ç”¨context">Â¶</a>åˆ©ç”¨Context</h4><p>ä¸Šé¢çš„æ–¹å¼ï¼Œå¦‚æœåµŒå¥—å°‘è¿˜å¯ä»¥ï¼Œå¦‚æœåµŒå¥—ç‰¹åˆ«å¤šï¼Œæ¯”å¦‚ä¸€çº§å¯¼èˆªæ ä¸‹çš„äºŒçº§å¯¼èˆªæ ä¸‹çš„æŸä¸ªæŒ‰é’®ï¼Œè¦æ”¹å˜é¡µé¢ä¸­ content åŒºåŸŸçš„ table é‡Œçš„æŸä¸ªåˆ—çš„å€¼â€¦ä»–ä»¬åŒå±äºä¸€ä¸ª page ã€‚è¿™æ ·ä¼ é€’ props å°±ä¼šå¾ˆç—›è‹¦ï¼Œæ¯ä¸€å±‚ç»„ä»¶éƒ½è¦ä¼ é€’ä¸€æ¬¡ã€‚</p><p><code>é¡¶çº§å…¬å…±ç»„ä»¶ï¼š</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">class Context extends Component &#123;</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    super();</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      value: &apos;&apos;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setValue = value =&gt; &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      value,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getChildContext() &#123; // å¿…éœ€</span><br><span class="line">    return &#123;</span><br><span class="line">      value: this.state.value,</span><br><span class="line">      setValue: this.setValue,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;AParent /&gt;</span><br><span class="line">        &lt;BParent /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// å¿…éœ€</span><br><span class="line">Context.childContextTypes = &#123;</span><br><span class="line">  value: PropTypes.string,</span><br><span class="line">  setValue: PropTypes.func,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>A çš„ parentï¼š</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class AParent extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;card&quot;&gt;</span><br><span class="line">        &lt;A /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// A</span><br><span class="line">class A extends Component &#123;</span><br><span class="line"></span><br><span class="line">  handleChange = (e) =&gt; &#123;</span><br><span class="line">    this.value = e.target.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleClick = () =&gt; &#123;</span><br><span class="line">    const &#123; setValue &#125; = this.context;</span><br><span class="line">    setValue(this.value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        æˆ‘æ˜¯parentA ä¸‹çš„ A, &lt;input onChange=&#123;this.handleChange&#125; /&gt;</span><br><span class="line">        &lt;div className=&quot;button&quot; onClick=&#123;this.handleClick&#125;&gt;é€šçŸ¥&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// å¿…éœ€</span><br><span class="line">A.contextTypes = &#123;</span><br><span class="line">  setValue: PropTypes.func,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>B çš„ parentï¼š</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class BParent extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;card&quot;&gt;</span><br><span class="line">        &lt;B /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// B</span><br><span class="line">class B extends Component &#123;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        æˆ‘æ˜¯parentB ä¸‹çš„ B, valueæ˜¯ï¼š</span><br><span class="line">        &#123;this.context.value&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B.contextTypes = &#123;</span><br><span class="line">  value: PropTypes.string,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç»„ä»¶ A ä»æ˜¯ æ¶ˆæ¯çš„å‘é€è€…ï¼Œç»„ä»¶ B æ˜¯æ¥æ”¶è€…ï¼Œ ä¸­é—´è€…æ˜¯ Context å…¬æœ‰ Container ç»„ä»¶ã€‚contextæ˜¯å®˜æ–¹æ–‡æ¡£çš„ä¸€ä¸ª API ï¼Œé€šè¿‡ getChildContext å‡½æ•°å®šä¹‰ context ä¸­çš„å€¼ï¼Œå¹¶ä¸”è¿˜è¦æ±‚ childContextTypes æ˜¯å¿…éœ€çš„ã€‚è¿™æ ·å±äºè¿™ä¸ª Container ç»„ä»¶çš„å­ç»„ä»¶ï¼Œé€šè¿‡ <code>this.context</code> å°±å¯ä»¥å–åˆ°å®šä¹‰çš„å€¼ï¼Œå¹¶ä¸”èµ·åˆ°è·Ÿ state åŒæ ·çš„æ•ˆæœã€‚ä¸­é—´è€…å…¶å®è¿˜æ˜¯ Containerï¼Œåªä¸è¿‡åˆ©ç”¨äº†ä¸Šä¸‹æ–‡è¿™æ ·çš„ API ï¼Œçœå»äº† props çš„ä¼ é€’ã€‚å¦å¤–ï¼šè¿™ä¸ªåŠŸèƒ½æ˜¯å®éªŒæ€§çš„ï¼Œæœªæ¥å¯èƒ½ä¼šæœ‰æ‰€æ”¹åŠ¨ã€‚</p><p>Context ä¹Ÿå­˜åœ¨è‡ªå·±çš„é—®é¢˜ã€‚å¦‚æœä½ ç”¨è¿‡ contextï¼Œä½ å¯èƒ½ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå½“ context å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œæ¯”å¦‚æ•°æ®æµå‘æ˜¯ä» Container(context å®šä¹‰) -&gt; A -&gt; B -&gt; C(æ¥æ”¶ context)ï¼Œç»„ä»¶ A, B ä¹Ÿä¼šå‘ç”Ÿ renderï¼Œè¿™æ · C ç»„ä»¶æ‰èƒ½æ‹¿åˆ°æ›´æ–°åçš„ contextã€‚ä¸‡ä¸€ä½ åœ¨ A, B ä½¿ç”¨ shouldComponentUpdate: false æ‹¦æˆªäº†ï¼Œæˆ–è€…æŸä¸ªç»„ä»¶æ˜¯ PureComponentï¼Œcontext å‘ç”Ÿå˜åŒ–ï¼ŒC æ²¡æœ‰é‡æ–°æ¸²æŸ“ï¼Œæ•…æ‹¿ä¸åˆ°æœ€æ–°çš„ contextã€‚</p><p>é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬è¦åšçš„ä¸æ˜¯æƒ³æ–¹è®¾æ³•è®© Aï¼ŒB renderï¼Œè€Œæ˜¯é€šè¿‡å…¶ä»–æ‰‹æ®µï¼Œæ¥å®ç° C çš„é‡æ–°æ¸²æŸ“ã€‚é€šå¸¸æ˜¯ä½¿ç”¨ context åšä¾èµ–æ³¨å…¥ï¼Œå³ context åªæ³¨å…¥ä¸€æ¬¡ï¼Œåç»­ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿™æ ·å„ç§æ— è§†ç»„ä»¶å±‚çº§é€ä¼ å±æ€§ã€‚context é‡Œé¢çš„æ•°æ®è¿›è¡Œæ”¹é€ ï¼Œæ·»åŠ  subscribe è¿™æ ·çš„å‡½æ•°ï¼Œç„¶åå½“æŸä¸ªæ•°æ®å˜åŒ–çš„æ—¶å€™åš patchã€‚å­ç»„ä»¶å¯èƒ½ä¼šåŠ è¿™æ ·çš„ä»£ç ï¼š</p><p><code>å­ç»„ä»¶ï¼š</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">  this.context.theme.subscribe(() =&gt; this.forceUpdate())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ€æƒ³å¯ä»¥å®‰å…¨çš„ä½¿ç”¨ contextï¼Œäº‹å®ä¸Š react-redux ä¹Ÿæ˜¯è¿™æ ·åšçš„ã€‚Provider æä¾› contextï¼Œconnect å»åšè®¢é˜…ã€‚</p><h3 id="redux-mobx"><a class="header-anchor" href="#redux-mobx">Â¶</a>Redux || Mobx</h3><p>Redux æˆ–è€… Mobx æ˜¯ç¬¬ä¸‰æ–¹çš„çŠ¶æ€ç®¡ç†å™¨ï¼Œæ˜¯è¿™é‡Œæˆ‘ä»¬é€šä¿¡çš„ä¸­é—´è€…ã€‚å¤§å‹é¡¹ç›®æœ€ç›´æ¥çš„å°±æ˜¯ä¸Šåº“â€¦ æ›´æ–¹ä¾¿ï¼Œæ›´ä¸å®¹æ˜“å‡ºé”™ã€‚ ä½†å…¶å®å°é¡¹ç›®å°±æ²¡ä»€ä¹ˆå¿…è¦äº†ã€‚ä¸œè¥¿æ¯”è¾ƒå¤šï¼Œè¿™é‡Œä¸å†é˜è¿°å®ƒä»¬çš„å®ç°å’Œåšäº†ä»€ä¹ˆã€‚</p><h3 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h3><p>react ç‰¹æ®Šçš„è‡ªä¸Šè€Œä¸‹çš„å•å‘æ•°æ®æµï¼Œå’Œ state çš„ç‰¹æ€§ï¼Œé€ å°±ä»¥è¿™æ ·çš„æ€æƒ³å®ç°ç»„ä»¶é€šä¿¡ã€‚é™¤å»å‘å¸ƒè®¢é˜…å’Œ Redux ç­‰ï¼Œå…¶ä»–çš„éƒ½æ˜¯ props è‡ªä¸Šè€Œä¸‹ä¼ é€’çš„ç†å¿µï¼Œå­ç»„ä»¶éœ€è¦çš„æ€»æ˜¯é€šè¿‡çˆ¶ç»„ä»¶ä¼ é€’ä¸‹æ¥çš„ï¼Œå…³äº state çš„å®šä¹‰ï¼Œè¿˜æ˜¯çœ‹å…·ä½“çš„åº”ç”¨åœºæ™¯äº†ã€‚</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Gitï¼ˆä¸‰ï¼‰</title>
      <link href="/2017/12/05/Git%EF%BC%88%E4%B8%89%EF%BC%89/"/>
      <url>/2017/12/05/Git%EF%BC%88%E4%B8%89%EF%BC%89/</url>
      <content type="html"><![CDATA[<h5 id="gitå°è®°"><a class="header-anchor" href="#gitå°è®°">Â¶</a>gitå°è®°</h5><pre><code> æœ€è¿‘é‡åˆ°ä¸€ä¸ªç¥å¥‡çš„é—®é¢˜ï½ å¹³æ—¶æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ä¸Šç”¨ git push ä½†å‘ç°äº†å¦ä¸€ç§æ–¹æ³•ï¼Œgit push origin master ä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</code></pre><p>git push origin master çš„æ„æ€å°±æ˜¯ï¼Œä¸Šä¼ æœ¬åœ°å½“å‰åˆ†æ”¯ä»£ç åˆ°master åˆ†æ”¯ï¼Œgit push<br>æ˜¯ä¸Šä¼ æœ¬åœ°æ‰€æœ‰åˆ†æ”¯ä»£ç åˆ°è¿œç¨‹å¯¹åº”åˆ†æ”¯ä¸Šã€‚</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Gitï¼ˆä¸€ï¼‰</title>
      <link href="/2017/12/01/Git%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2017/12/01/Git%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>æäº¤å¦‚æœé‡åˆ°å†²çªçš„è¯ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹å¼ï¼Œgit mergeå’Œ git rebaseã€‚<br>é¦–å…ˆæ¥äº†è§£ä¸€ä¸‹git pullï¼š</p><p>å°†è¿œç¨‹å­˜å‚¨åº“ä¸­çš„æ›´æ”¹åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸­ã€‚åœ¨é»˜è®¤æ¨¡å¼ä¸‹ï¼Œgit pull æ˜¯git fetchåè·Ÿgit merge FETCH_HEADçš„ç¼©å†™ã€‚<br>æ›´å‡†ç¡®åœ°è¯´ï¼Œgit pullä½¿ç”¨ç»™å®šçš„å‚æ•°è¿è¡Œgit fetchï¼Œå¹¶è°ƒç”¨git mergeå°†æ£€ç´¢åˆ°çš„åˆ†æ”¯å¤´åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸­ã€‚<br>ä¹Ÿå°±æ˜¯è¯´git pull åˆ†ä¸ºä¸¤æ­¥ï¼Œä¸€æ­¥æ˜¯git fetchï¼Œä¸€æ­¥æ˜¯git mergeã€‚</p><p>ç›®å‰æäº¤ä»£ç ï¼Œå…ˆæ˜¯git commit åˆ°æœ¬åœ°  ç„¶å merge æˆ–è€… rebaseã€‚</p><a id="more"></a><h5 id="é‡åˆ°å†²çªä¹‹git-baseè§£å†³"><a class="header-anchor" href="#é‡åˆ°å†²çªä¹‹git-baseè§£å†³">Â¶</a>é‡åˆ°å†²çªä¹‹git baseè§£å†³</h5><ol><li><p>é¦–å…ˆæŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼š<br>git branch -r<br><img src="http://oziqlv1ur.bkt.clouddn.com/01.png" alt="æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯"></p></li><li><p>æ£€å‡ºä¸€ä¸ªåˆ†æ”¯ï¼š<br>git checkout -b root<br><img src="http://oziqlv1ur.bkt.clouddn.com/02.png" alt="æ£€å‡ºåˆ†æ”¯"></p></li><li><p>å½“è‡ªå·±ä¿®æ”¹äº†æœ¬åœ°åˆ†æ”¯ä¹‹å<br>git push --set-upstream origin root<br>ä½œç”¨ï¼šæ¨é€å½“å‰åˆ†æ”¯å¹¶å»ºç«‹ä¸è¿œç¨‹ä¸Šæ¸¸çš„è·Ÿè¸ª</p></li><li><p>è¯•å›¾å»æ‹‰å½“å‰æœåŠ¡å™¨ä¸Šçš„åˆ†æ”¯,å› ä¸ºåœ¨è¦å‘æœåŠ¡å™¨æäº¤ä»£ç æ—¶ï¼Œé¦–å…ˆè¦æ‹‰æœåŠ¡å™¨çš„ä»£ç <br>git pull<br>ä¼šæœ‰æç¤º ï¼šï¼ˆå› ä¸ºå½“æ—¶è¿˜æ²¡æœ‰commitåˆ°æœ¬åœ°ä»“åº“ï¼‰<br><img src="http://oziqlv1ur.bkt.clouddn.com/03.png" alt="æç¤º"><br>æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼š<br>git add .<br>git commit -m test<br><img src="http://oziqlv1ur.bkt.clouddn.com/04.png" alt="æäº¤åˆ°æœ¬åœ°ä»“åº“"></p></li><li><p>ä½¿ç”¨git pull --rebase</p></li></ol><p><img src="http://oziqlv1ur.bkt.clouddn.com/05.png" alt="rebaseå‘½ä»¤"></p><p><img src="http://oziqlv1ur.bkt.clouddn.com/06.png" alt="å‘½ä»¤"></p><ol start="6"><li>ä½¿ç”¨git status æŸ¥çœ‹åˆ°å“ªä¸€ä¸ªæ–‡ä»¶æœ‰é”™è¯¯</li></ol><p><img src="http://oziqlv1ur.bkt.clouddn.com/07.png" alt="Routers.jsxæŠ¥é”™"></p><ol start="7"><li>ä¿®æ”¹å(ä¿ç•™æœåŠ¡å™¨çš„ä»£ç )ï¼š</li></ol><p><img src="http://oziqlv1ur.bkt.clouddn.com/08.png" alt="æœåŠ¡å™¨ä»£ç "></p><p>å…¶ä¸­&lt;&lt;&lt;&lt;HEAD ä¸‹ ====ä¸Šæ˜¯è¿œç¨‹åˆ†æ”¯ä¸Šçš„ä»£ç </p><p>====ä¸‹  &gt;&gt;&gt;&gt;&gt;111 ä¸Šæ˜¯æœ¬åœ°ä»£ç   ï¼ˆ111æ˜¯æäº¤æ—¶å€™çš„æ³¨é‡Šï¼‰</p><h5 id="æƒ…å†µä¸€ï¼šéœ€è¦git-æœåŠ¡å™¨ä¸Šçš„ä»£ç "><a class="header-anchor" href="#æƒ…å†µä¸€ï¼šéœ€è¦git-æœåŠ¡å™¨ä¸Šçš„ä»£ç ">Â¶</a>æƒ…å†µä¸€ï¼šéœ€è¦Git æœåŠ¡å™¨ä¸Šçš„ä»£ç </h5><p><img src="http://oziqlv1ur.bkt.clouddn.com/09.png" alt="æäº¤"></p><p>æ­¤å¤„å°±ä¸éœ€è¦å†git commitäº†ï¼Œå› ä¸ºä½ æ‰€è¦æäº¤çš„ä»£ç æ˜¯å’Œè¿œç¨‹åˆ†æ”¯ä¸Šä¸€æ ·çš„ã€‚</p><h5 id="æƒ…å†µäºŒï¼šä¿ç•™æœ¬åœ°ä»£ç "><a class="header-anchor" href="#æƒ…å†µäºŒï¼šä¿ç•™æœ¬åœ°ä»£ç ">Â¶</a>æƒ…å†µäºŒï¼šä¿ç•™æœ¬åœ°ä»£ç </h5><p>å°±éœ€è¦git commit -m xxx</p><p>â€”â€”â€”â€”&gt;æˆ‘ä»¬è¿™é‡Œæ¼”ç¤ºçš„æ˜¯ä¿ç•™è¿œç¨‹åˆ†æ”¯ä¸Šçš„ä»£ç ï¼š</p><p>æ‰€ä»¥æ‰§è¡Œ git rebase --continue  ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼š</p><p><img src="http://oziqlv1ur.bkt.clouddn.com/continue.png" alt="continue"></p><p>å‘½ä»¤çš„ä½œç”¨æ˜¯ï¼š  gitä¼šç»§ç»­åº”ç”¨(apply)ä½™ä¸‹çš„è¡¥ä¸,å› ä¸ºå·²ç»git add .  è¿‡äº†<br>æ‰€ä»¥è·³è¿‡æ­¤è¡¥ä¸</p><p>å¦å¤–ï¼šåœ¨ä»»ä½•æ—¶å€™ï¼Œéƒ½å¯ä»¥ç”¨git rebase --abortå‚æ•°æ¥ç»ˆæ­¢rebaseçš„è¡ŒåŠ¨ï¼Œåˆ†æ”¯ä¼šå›åˆ°rebaseå¼€å§‹å‰çš„çŠ¶æ€.</p><ol start="8"><li>æœ€åæ ¹æ®æç¤ºæ¥æ‰§è¡Œå‘½ä»¤ï¼š<br><img src="http://oziqlv1ur.bkt.clouddn.com/11.png" alt="æœ€åçš„å‘½ä»¤"></li></ol><p>ä½¿ç”¨gitéœ€è¦å…»æˆçš„ä¹ æƒ¯ï½ï½</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç»å¸¸commitï¼Œç„¶åpull â€”reabase , æœ€å push</span><br><span class="line"></span><br><span class="line">å…»æˆè‰¯å¥½æ“ä½œï¼Œå°½é‡ä¿æŒMasteræäº¤è®°å½•æ˜¯ä¸€æ¡çº¿  åˆ©äºcode review</span><br></pre></td></tr></table></figure><p>git reabse ä¸git merge åŒºåˆ«<br>(<a href="https://www.cnblogs.com/kevingrace/p/5896706.html" target="_blank" rel="noopener">https://www.cnblogs.com/kevingrace/p/5896706.html</a>)</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>linuxå®‰è£…jdkä»¥åŠè¿œç¨‹è®¿é—®æœåŠ¡</title>
      <link href="/2017/11/22/Linux/"/>
      <url>/2017/11/22/Linux/</url>
      <content type="html"><![CDATA[<p>åœ¨windowsä¸‹ï¼Œä¸‹è½½jdk-8u25-linux-64.tar.gz<br>Xshell5p.exe  ç”¨æ¥è®¿é—®è¿œç¨‹é¢æ¿</p><a id="more"></a><ol><li>åœ¨windowsä¸‹é¢ä¸‹å¥½ tar.gz</li><li>ä¸Šä¼ æ–‡ä»¶ rz</li><li>è§£å‹æ–‡ä»¶ tar -xzvf jdk-8u25-linux-x64.tar.gz</li><li>è¿›å…¥å½“å‰ç”¨æˆ·ç›®å½•  cd home/fisherman</li><li>vi .bash -profile  ç¼–è¾‘æ–‡ä»¶<br>â€™JAVA_HOME=&quot;/home/fisherman/jdk1.8.0_25&quot;<br>CLASSPATH=&quot;$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib&quot;<br>PATH=&quot;$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH:$HOMR/bin&quot;</li><li>:wqé€€å‡º</li><li>source .bash_profile å‘½ä»¤ç”Ÿæ•ˆ</li><li>java -version æŸ¥è¯¢javaç‰ˆæœ¬</li></ol><p>linuxç›¸å…³å‘½ä»¤ï¼š</p><p>eg:</p><ol><li>å‹ç¼©æ–‡ä»¶ï¼š</li></ol><p>tar zcvf secu.tar.gz tt</p><p>å°†æ–‡ä»¶å‹ç¼©åˆ°ttç›®å½•</p><ol start="2"><li>æ¯å¤©ä¸€ä¸ªlinuxå‘½ä»¤ï¼š</li></ol><p><a href="http://www.cnblogs.com/peida/archive/2012/12/05/2803591.html" target="_blank" rel="noopener">http://www.cnblogs.com/peida/archive/2012/12/05/2803591.html</a></p><ul><li><p>vim ä¸­ç¿»é¡µï¼šå‘ä¸ŠæŸ¥æ‰¾å’Œå‘ä¸‹æŸ¥æ‰¾å­—ç¬¦ä¸²çš„å‘½ä»¤æ˜¯</p><ul><li>j --å‘ä¸‹</li><li>k-- å‘ä¸Š</li><li>hâ€“å‘å·¦</li><li>lâ€“å‘å³</li><li>ctrlbâ€“å‘ä¸Šç§»åŠ¨ä¸€å±</li><li>ctrlfâ€“å‘ä¸‹ç§»åŠ¨ä¸€å±</li><li>ä¸Šä¸‹å·¦å³ç®­å¤´ä¹Ÿå¯ä»¥</li></ul></li><li><p>å¯åŠ¨linuxshellçš„æ—¶å€™ï¼Œstdin.stdout,stderr,ä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦ä¼šè‡ªåŠ¨æ‰“å¼€ï¼Œä»–ä»¬çš„å€¼åˆ†åˆ«æ˜¯ï¼šæ ‡å‡†è¾“å…¥ï¼Œæ ‡å‡†è¾“å‡ºã€æ ‡å‡†é”™è¯¯</p></li><li><p>ä¸ºè„šæœ¬ç¨‹åºæ·»åŠ æ‰§è¡Œæƒé™çš„å‘½ä»¤åŠå‚æ•°ï¼šchmod a+x filename</p></li><li><p>ç”¨å…«è¿›åˆ¶è¡¨ç¤ºæƒé™ï¼š</p><ul><li><p>râ€“4 wâ€“2  xâ€“1</p><p>eg::<br>râ€“r--r--   444</p></li></ul><p>drw------   600</p></li><li><p>å¯¹æƒé™çš„å‚è€ƒåšæ–‡ï¼š<br><a href="http://blog.csdn.net/sinat_35209943/article/details/52449743" target="_blank" rel="noopener">http://blog.csdn.net/sinat_35209943/article/details/52449743</a><br>ä¸€ ã€ xshell è¿åˆ° è¿œç¨‹æœåŠ¡å™¨</p></li></ul><p><img src="http://oziqlv1ur.bkt.clouddn.com/clipboard.png" alt="è¿æ¥è¿œç¨‹æœåŠ¡å™¨"></p><ul><li>è¾“å…¥è¿œç¨‹æœåŠ¡å™¨çš„ipï¼š</li></ul><p><img src="http://oziqlv1ur.bkt.clouddn.com/clipboard2.png" alt="æœåŠ¡å™¨ip"></p><ul><li>è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå°±ç™»å½•æˆåŠŸäº†</li></ul><p><img src="http://oziqlv1ur.bkt.clouddn.com/clipboard3.png" alt="å¡«å†™è‡ªå·±çš„ç”¨æˆ·å"></p><p>ç„¶åå¯ä»¥  ä¿®æ”¹ç”¨æˆ·åå¯†ç ï¼š<br>useradd fisherman &amp;&amp; echo 123456 | passwd --stdin fisherman</p><p>fishermanâ€“è‡ªå·±çš„ç”¨æˆ·åï¼š<br>mark</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ä½ ä¸çŸ¥é“çš„React</title>
      <link href="/2017/11/22/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84React/"/>
      <url>/2017/11/22/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84React/</url>
      <content type="html"><![CDATA[<p>è¿™å‡ å¤©æ­£åœ¨å­¦ä¹ Reactï¼Œæœ‰ç©ºè®°å½•ä¸€ä¸‹ï¼<br>å°±æ¯”å¦‚ï¼š</p><h5 id="exportå’Œexport-default"><a class="header-anchor" href="#exportå’Œexport-default">Â¶</a>exportå’Œexport default</h5><p>ä¸€èˆ¬æˆ‘ä»¬åœ¨å®šä¹‰äº†ä¸€ä¸ªç»„ä»¶ä¹‹åï¼Œä¸ºäº†å¤ç”¨ï¼Œéœ€è¦å°†å®ƒå¯¼å‡ºä»¥æä¾›ç»™å…¶ä»–é¡µé¢ä½¿ç”¨ã€‚<br>ç»„ä»¶å¯¼å‡ºçš„å…³é”®å­—æ˜¯:</p><blockquote><p>exprot default</p></blockquote><p>æ²¡æœ‰åŠ defaultæ—¶ï¼Œä¾‹å¦‚ï¼š</p><blockquote><p>export class Template{}</p></blockquote><p>å½“ç„¶ï¼Œä½ å¯ä»¥åœ¨å•ä¸ªjsæ–‡ä»¶é‡Œå£°æ˜å¤šä¸ªç»„ä»¶ï¼Œä¾‹å¦‚Templates.js</p><blockquote><p>export class Template{}<br>export class AnotherTemplate{}</p></blockquote><p>è¿™æ ·åœ¨å…¶ä»–æ–‡ä»¶å¼•ç”¨æ—¶ï¼Œéœ€è¦ä½¿ç”¨{}ç¬¦å·ï¼Œä¸”åç§°å¿…é¡»å’Œclassåç§°ä¸€æ ·ï¼Œlike thisï¼š</p><blockquote><p>import {Template,AnotherTemplate} from â€˜./components/Templatesâ€™;</p></blockquote><p>è€ŒåŠ defaultæ—¶ï¼Œä¾‹å¦‚ï¼š</p><a id="more"></a><blockquote><p>export default class Template{}</p></blockquote><p>ç„¶ååœ¨å…¶ä»–æ–‡ä»¶å¼•ç”¨ï¼Œåƒè¿™æ ·ï¼š</p><blockquote><p>import Template from â€˜./components/Templatesâ€™;</p></blockquote><p>ä½ ä¹Ÿå¯ä»¥ä¸ºè¿™ä¸ªç»„ä»¶å¦èµ·ä¸€ä¸ªåˆ«åï¼Œ</p><blockquote><p>import TheTemplate from â€˜./components/Templatesâ€™;</p></blockquote><p>ä½†æ˜¯æ¯ä¸ªæ–‡ä»¶é‡Œåªèƒ½æœ‰ä¸€ä¸ªdefaultç»„ä»¶ï¼Œå¯ä»¥åŒ…å«å…¶ä»–édefaultç»„ä»¶ï¼š</p><blockquote><p>export default class Template{}<br>export class AnotherTemplate{}</p></blockquote><p>ç„¶åå¼•ç”¨çš„æ—¶å€™ï¼Œå¦‚ä¸‹ï¼š</p><blockquote><p>import Template,{AnotherTemplate} from â€˜./components/Templatesâ€™;</p></blockquote><p>æ€»ç»“ï¼š</p><ul><li>æœ‰defaultå’Œæ²¡æœ‰defaultçš„åŒºåˆ«åœ¨äºï¼šæœ‰defaultåœ¨å¼•ç”¨æ—¶å¯ä»¥è‡ªå®šä¹‰åç§°ï¼Œè€Œæ²¡æœ‰defaultæ—¶éœ€è¦ä½¿ç”¨{}æ‹¬èµ·æ¥ä¸”åç§°å¿…éœ€å’Œclassåç§°ä¸€è‡´</li><li>æ¯ä¸ªæ–‡ä»¶é‡Œåªèƒ½æœ‰ä¸€ä¸ªdefaultç»„ä»¶ï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªédefaultç»„ä»¶</li></ul><hr><h5 id="formitem"><a class="header-anchor" href="#formitem">Â¶</a>FormItem</h5><p>ä½¿ç”¨initValue å±æ€§çš„æ—¶å€™ï¼Œéœ€è¦åœ¨æäº¤â€œå¼¹å‡ºæ¡†è¡¨å•æ—¶â€ï¼ˆCollectionCreateFormï¼‰</p><p>ç”¨form.resetFields() æ–¹æ³•é‡ç½®è¡¨å•æ•°æ®ï¼Œ</p><p>å¦‚æœç¼ºå°‘çš„è¯ï¼Œç‚¹å‡»ä¿®æ”¹æŸæ¡æ•°æ®æ˜¯ä¼šå›æ˜¾ä¸Šæ¬¡è¡¨å•ä¿®æ”¹åçš„å€¼ã€‚</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>MySQLä¸­MAXå‡½æ•°ä¸Group Byä¸€èµ·ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹</title>
      <link href="/2017/10/27/MySQL%E4%B8%ADMAX%E5%87%BD%E6%95%B0%E4%B8%8EGroup%20By%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"/>
      <url>/2017/10/27/MySQL%E4%B8%ADMAX%E5%87%BD%E6%95%B0%E4%B8%8EGroup%20By%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</url>
      <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from  test;  </span><br><span class="line">+----+-------+------+-------+  </span><br><span class="line">| id | name  | age  | class |  </span><br><span class="line">+----+-------+------+-------+  </span><br><span class="line">|  1 | qiu   |   22 |     1 |   </span><br><span class="line">|  2 | liu   |   42 |     1 |   </span><br><span class="line">|  4 | zheng |   20 |     2 |   </span><br><span class="line">|  3 | qian  |   20 |     2 |   </span><br><span class="line">|  0 | wang  |   11 |     3 |   </span><br><span class="line">|  6 | li    |   33 |     3 |   </span><br><span class="line">+----+-------+------+-------+  </span><br><span class="line">6 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><a id="more"></a><p>å¦‚æœæƒ³æ‰¾åˆ°æ¯ä¸ªClassé‡Œé¢çš„æœ€å¤§çš„Ageï¼Œåˆ™éœ€è¦ä½¿ç”¨roup byå’Œmaxã€‚<br>å¦‚ä¸‹çš„Sqlè¯­å¥ï¼Œåˆ™è¾“å‡ºç»“æœæœ‰é”™è¯¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select id,name,max(age),class from test group by class;  </span><br><span class="line">+----+-------+----------+-------+  </span><br><span class="line">| id | name  | max(age) | class |  </span><br><span class="line">+----+-------+----------+-------+  </span><br><span class="line">|  1 | qiu   |       42 |     1 |   </span><br><span class="line">|  4 | zheng |       20 |     2 |   </span><br><span class="line">|  0 | wang  |       33 |     3 |   </span><br><span class="line">+----+-------+----------+-------+  </span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>è™½ç„¶æ‰¾åˆ°çš„ageæ˜¯æœ€å¤§çš„ageï¼Œä½†æ˜¯ä¸ä¹‹åŒ¹é…çš„ç”¨æˆ·ä¿¡æ¯å´ä¸æ˜¯çœŸå®çš„ä¿¡æ¯ï¼Œè€Œæ˜¯group byåˆ†ç»„åçš„ç¬¬ä¸€æ¡è®°å½•çš„åŸºæœ¬ä¿¡æ¯ã€‚<br>å¦‚æœæˆ‘ä½¿ç”¨ä»¥ä¸‹çš„è¯­å¥è¿›è¡ŒæŸ¥æ‰¾ï¼Œåˆ™å¯ä»¥è¿”å›çœŸå®çš„ç»“æœã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from (  </span><br><span class="line">    -&gt; select * from test order by age desc) as b  </span><br><span class="line">    -&gt; group by class;  </span><br><span class="line">+----+-------+------+-------+  </span><br><span class="line">| id | name  | age  | class |  </span><br><span class="line">+----+-------+------+-------+  </span><br><span class="line">|  2 | liu   |   42 |     1 |   </span><br><span class="line">|  4 | zheng |   20 |     2 |   </span><br><span class="line">|  6 | li    |   33 |     3 |   </span><br><span class="line">+----+-------+------+-------+  </span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>æ–¹æ³•2ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from test t where t.age = (select max(age) from test where t.class = class) order by class;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Sleepå’ŒWaitçš„åŒºåˆ«</title>
      <link href="/2017/10/19/Sleep%E5%92%8CWait%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/2017/10/19/Sleep%E5%92%8CWait%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      <content type="html"><![CDATA[<ol><li>Javaä¸­sleepå’Œwaitçš„åŒºåˆ«<br>â‘  è¿™ä¸¤ä¸ªæ–¹æ³•æ¥è‡ªä¸åŒçš„ç±»åˆ†åˆ«æ˜¯ï¼Œsleepæ¥è‡ªThreadç±»ï¼Œå’Œwaitæ¥è‡ªObjectç±»ã€‚<br>sleepæ˜¯Threadçš„é™æ€ç±»æ–¹æ³•ï¼Œè°è°ƒç”¨çš„è°å»ç¡è§‰ï¼Œå³ä½¿åœ¨açº¿ç¨‹é‡Œè°ƒç”¨bçš„sleepæ–¹æ³•ï¼Œå®é™…ä¸Šè¿˜æ˜¯aå»ç¡è§‰ï¼Œè¦è®©bçº¿ç¨‹ç¡è§‰è¦åœ¨bçš„ä»£ç ä¸­è°ƒç”¨sleepã€‚</li></ol><a id="more"></a><p>â‘¡ é”: æœ€ä¸»è¦æ˜¯sleepæ–¹æ³•æ²¡æœ‰é‡Šæ”¾é”ï¼Œè€Œwaitæ–¹æ³•é‡Šæ”¾äº†é”ï¼Œä½¿å¾—å…¶ä»–çº¿ç¨‹å¯ä»¥ä½¿ç”¨åŒæ­¥æ§åˆ¶å—æˆ–è€…æ–¹æ³•ã€‚<br>sleepä¸å‡ºè®©ç³»ç»Ÿèµ„æºï¼›waitæ˜¯è¿›å…¥çº¿ç¨‹ç­‰å¾…æ± ç­‰å¾…ï¼Œå‡ºè®©ç³»ç»Ÿèµ„æºï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥å ç”¨CPUã€‚ä¸€èˆ¬waitä¸ä¼šåŠ æ—¶é—´é™åˆ¶ï¼Œå› ä¸ºå¦‚æœwaitçº¿ç¨‹çš„è¿è¡Œèµ„æºä¸å¤Ÿï¼Œå†å‡ºæ¥ä¹Ÿæ²¡ç”¨ï¼Œè¦ç­‰å¾…å…¶ä»–çº¿ç¨‹è°ƒç”¨notify/notifyAllå”¤é†’ç­‰å¾…æ± ä¸­çš„æ‰€æœ‰çº¿ç¨‹ï¼Œæ‰ä¼šè¿›å…¥å°±ç»ªé˜Ÿåˆ—ç­‰å¾…OSåˆ†é…ç³»ç»Ÿèµ„æºã€‚sleep(milliseconds)å¯ä»¥ç”¨æ—¶é—´æŒ‡å®šä½¿å®ƒè‡ªåŠ¨å”¤é†’è¿‡æ¥ï¼Œå¦‚æœæ—¶é—´ä¸åˆ°åªèƒ½è°ƒç”¨interrupt()å¼ºè¡Œæ‰“æ–­ã€‚<br>Thread.sleep(0)çš„ä½œç”¨æ˜¯â€œè§¦å‘æ“ä½œç³»ç»Ÿç«‹åˆ»é‡æ–°è¿›è¡Œä¸€æ¬¡CPUç«äº‰â€ã€‚<br>â‘¢ ä½¿ç”¨èŒƒå›´ï¼šwaitï¼Œnotifyå’ŒnotifyAllåªèƒ½åœ¨åŒæ­¥æ§åˆ¶æ–¹æ³•æˆ–è€…åŒæ­¥æ§åˆ¶å—é‡Œé¢ä½¿ç”¨ï¼Œè€Œsleepå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ã€‚<br>synchronized(x){<br>x.notify()<br>//æˆ–è€…wait()<br>}</p><p>javaå¸¸è§é¢è¯•é¢˜(<a href="http://blog.csdn.net/shineflowers/article/details/40047479" target="_blank" rel="noopener">http://blog.csdn.net/shineflowers/article/details/40047479</a>)</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>mysqlè·å–å½“å‰æ—¥æœŸå¹¶æ ¼å¼åŒ–</title>
      <link href="/2017/10/18/Mysql%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%97%A5%E6%9C%9F%E5%B9%B6%E6%A0%BC%E5%BC%8F%E5%8C%96/"/>
      <url>/2017/10/18/Mysql%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%97%A5%E6%9C%9F%E5%B9%B6%E6%A0%BC%E5%BC%8F%E5%8C%96/</url>
      <content type="html"><![CDATA[<p>MYSQL è·å–å½“å‰æ—¥æœŸåŠæ—¥æœŸæ ¼å¼è¯</p><a id="more"></a><p>è·å–ç³»ç»Ÿæ—¥æœŸï¼š NOW()<br>æ ¼å¼åŒ–æ—¥æœŸï¼š DATE_FORMAT(date, format)<br>æ³¨ï¼š dateï¼šæ—¶é—´å­—æ®µ<br>formatï¼šæ—¥æœŸæ ¼å¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¿”å›ç³»ç»Ÿæ—¥æœŸ,è¾“å‡º 2009-12-25 14:38:59</span><br><span class="line">select now();</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡º 09-12-25</span><br><span class="line">select date_format(now(),&apos;%y-%m-%d&apos;);</span><br></pre></td></tr></table></figure><p>æ ¹æ®formatå­—ç¬¦ä¸²æ ¼å¼åŒ–dateå€¼:</p><ul><li>%U å‘¨ï¼ˆ0, 1, 52ï¼‰ï¼Œå…¶ä¸­Sunday ä¸ºå‘¨ä¸­çš„ç¬¬ä¸€å¤©</li><li>%u å‘¨ï¼ˆ0, 1, 52ï¼‰ï¼Œå…¶ä¸­Monday ä¸ºå‘¨ä¸­çš„ç¬¬ä¸€å¤©</li><li>%M æœˆåï¼ˆJanuary, February, â€¦, Decemberï¼‰</li><li>%b ç¼©å†™çš„æœˆåï¼ˆ January, February,â€¦, Decemberï¼‰</li><li>%m ä¸¤ä½æ•°å­—è¡¨ç¤ºçš„æœˆä»½ï¼ˆ01, 02, â€¦, 12ï¼‰</li><li>%c æ•°å­—è¡¨ç¤ºçš„æœˆä»½ï¼ˆ1, 2, â€¦, 12ï¼‰</li><li>%Y å››ä½æ•°å­—è¡¨ç¤ºçš„å¹´ä»½</li><li>%y ä¸¤ä½æ•°å­—è¡¨ç¤ºçš„å¹´ä»½</li><li>%% ç›´æ¥å€¼â€œ%â€</li><li>%S, %s ä¸¤ä½æ•°å­—å½¢å¼çš„ç§’ï¼ˆ 00,01, â€¦, 59ï¼‰</li><li>%I, %i ä¸¤ä½æ•°å­—å½¢å¼çš„åˆ†ï¼ˆ 00,01, â€¦, 59ï¼‰</li><li>%H ä¸¤ä½æ•°å­—å½¢å¼çš„å°æ—¶ï¼Œ24 å°æ—¶ï¼ˆ00,01, â€¦, 23ï¼‰</li><li>%h ä¸¤ä½æ•°å­—å½¢å¼çš„å°æ—¶ï¼Œ12 å°æ—¶ï¼ˆ01,02, â€¦, 12ï¼‰</li><li>%k æ•°å­—å½¢å¼çš„å°æ—¶ï¼Œ24 å°æ—¶ï¼ˆ0,1, â€¦, 23ï¼‰</li><li>%l æ•°å­—å½¢å¼çš„å°æ—¶ï¼Œ12 å°æ—¶ï¼ˆ1, 2, â€¦, 12ï¼‰</li><li>%T 24 å°æ—¶çš„æ—¶é—´å½¢å¼ï¼ˆhh:mm:ssï¼‰</li><li>%r 12 å°æ—¶çš„æ—¶é—´å½¢å¼ï¼ˆhh:mm:ss AM æˆ–hh:mm:ss PMï¼‰</li><li>%p AMæˆ–PM</li><li>%W ä¸€å‘¨ä¸­æ¯ä¸€å¤©çš„åç§°ï¼ˆSunday, Monday, â€¦, Saturdayï¼‰</li><li>%a ä¸€å‘¨ä¸­æ¯ä¸€å¤©åç§°çš„ç¼©å†™ï¼ˆSun, Mon, â€¦, Satï¼‰</li><li>%d ä¸¤ä½æ•°å­—è¡¨ç¤ºæœˆä¸­çš„å¤©æ•°ï¼ˆ00, 01,â€¦, 31ï¼‰</li><li>%e æ•°å­—å½¢å¼è¡¨ç¤ºæœˆä¸­çš„å¤©æ•°ï¼ˆ1, 2ï¼Œ â€¦, 31ï¼‰</li><li>%D è‹±æ–‡åç¼€è¡¨ç¤ºæœˆä¸­çš„å¤©æ•°ï¼ˆ1st, 2nd, 3rd,â€¦ï¼‰</li><li>%w ä»¥æ•°å­—å½¢å¼è¡¨ç¤ºå‘¨ä¸­çš„å¤©æ•°ï¼ˆ 0 = Sunday, 1=Monday, â€¦, 6=Saturdayï¼‰</li><li>%j ä»¥ä¸‰ä½æ•°å­—è¡¨ç¤ºå¹´ä¸­çš„å¤©æ•°ï¼ˆ 001, 002, â€¦, 366ï¼‰</li></ul><p>è¿˜æœ‰ä¸€äº›å®ç°æ—¥æœŸçš„å‡½æ•°ï¼Œæˆ–è€…æ˜¯è¿”å›æœˆä»½ä¸­çš„æœ€åä¸€å¤© ç­‰<br>eg:MySQL last_day() å‡½æ•°ï¼šè¿”å›æœˆä»½ä¸­çš„æœ€åä¸€å¤©ã€‚</p><p>è¯¦è§ï¼š(<a href="http://blog.csdn.net/kangbrother/article/details/7030304" target="_blank" rel="noopener">http://blog.csdn.net/kangbrother/article/details/7030304</a>)</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Mysql Decimalæ•°æ®ç±»å‹</title>
      <link href="/2017/10/17/Mysql%20Decimal%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
      <url>/2017/10/17/Mysql%20Decimal%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘å¿™ç€å¤ä¹ ï¼Œæ›´æ–°çš„é€Ÿåº¦æœ‰äº›æ…¢ã€‚åœ¨ä¸€æ¬¡é¢è¯•ä¸­ï¼Œé¢è¯•å®˜é—®æˆ‘ï¼Œmysqlé‡Œé‡‘é¢ç”¨ä»€ä¹ˆå­˜ï¼Œæˆ‘åªç”¨è¿‡æ™®é€šçš„doubleï¼Œfloatï¼Œä½†å›æ¥ä¸€æŸ¥ï¼Œé‡‘é¢åº”è¯¥ç”¨Decimal æ¥å­˜ã€‚å—æ•™äº†~</p><p>mysqlé‡ŒDecimalè¡¨ç¤º 128 ä½æ•°æ®ç±»å‹ã€‚doubleç›¸æ¯”ï¼Œdecimal ç±»å‹å…·æœ‰æ›´é«˜çš„ç²¾åº¦å’Œæ›´å°çš„èŒƒå›´ï¼Œå®ƒé€‚åˆäºè´¢åŠ¡å’Œè´§å¸è®¡</p><a id="more"></a><p>æµ‹è¯•è¡¨ï¼Œseller_costå­—æ®µå®šä¹‰ä¸ºdecimal(14,2)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `test_decimal` (</span><br><span class="line">  `id` int(11) NOT NULL,</span><br><span class="line">  `seller_cost` decimal(14,2) DEFAULT NULL</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8</span><br></pre></td></tr></table></figure><p>èµ·åˆï¼Œè¡¨ä¸­å†…å®¹ä¸ºç©º:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from test_decimal;</span><br><span class="line">Empty set (0.00 sec)</span><br></pre></td></tr></table></figure><p>æ’å…¥æ•´æ•°éƒ¨åˆ†é•¿åº¦ä¸º14çš„æ•°å­—ï¼ŒæŠ¥è¶…å‡ºåˆ—èŒƒå›´çš„é”™è¯¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into test_decimal(id,seller_cost) values(1,12345678901234);</span><br><span class="line">ERROR 1264 (22003): Out of range value for column &apos;seller_cost&apos; at row 1</span><br></pre></td></tr></table></figure><p>æ’å…¥æ•´æ•°éƒ¨åˆ†é•¿åº¦ä¸º12çš„æ•°å­—ï¼Œå¯ä»¥æ­£ç¡®æ’å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into test_decimal(id,seller_cost) values(1,123456789012);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢è¡¨ï¼Œå‘ç°æ’å…¥çš„æ•´æ•°å€¼æœ«å°¾è¢«MySQLè¡¥äº†ä¸¤ä½å°æ•°â€œ.00â€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from test_decimal;</span><br><span class="line">+----+-----------------+</span><br><span class="line">| id | seller_cost     |</span><br><span class="line">+----+-----------------+</span><br><span class="line">|  1 | 123456789012.00 |</span><br><span class="line">+----+-----------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>ç»§ç»­æ’å…¥æ•´æ•°éƒ¨åˆ†12ä½ï¼Œå°æ•°éƒ¨åˆ†5ä½çš„æ•°å­—ï¼Œå¯ä»¥æˆåŠŸæ’å…¥ï¼Œä½†æ˜¯æœ‰è­¦å‘Šï¼Œè­¦å‘Šè¡¨æ˜å°æ•°éƒ¨åˆ†å‘ç”Ÿäº†æˆªæ–­ï¼Œè¢«æˆªå–æˆäº†ä¸¤ä½å°æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into test_decimal(id,seller_cost) values(1,123456789012.12345);</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show warnings;</span><br><span class="line">+-------+------+--------------------------------------------------+</span><br><span class="line">| Level | Code | Message                                          |</span><br><span class="line">+-------+------+--------------------------------------------------+</span><br><span class="line">| Note  | 1265 | Data truncated for column &apos;seller_cost&apos; at row 1 |</span><br><span class="line">+-------+------+--------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line">mysql&gt; select * from test_decimal;</span><br><span class="line">+----+-----------------+</span><br><span class="line">| id | seller_cost     |</span><br><span class="line">+----+-----------------+</span><br><span class="line">|  1 | 123456789012.00 |</span><br><span class="line">|  1 | 123456789012.12 |</span><br><span class="line">+----+-----------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>ç¼©å°æ•´æ•°éƒ¨åˆ†çš„é•¿åº¦ä¸º2ï¼Œå°æ•°éƒ¨åˆ†çš„é•¿åº¦ç»§ç»­ä¿æŒä¸º5ï¼Œå¯ä»¥æˆåŠŸæ’å…¥ï¼Œä½†å°æ•°éƒ¨åˆ†è¢«æˆªæ–­ä¸ºä¸¤ä½ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;mysql&gt; insert into test_decimal(id,seller_cost) values(1,12.12345);</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.00 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show warnings;</span><br><span class="line">+-------+------+--------------------------------------------------+</span><br><span class="line">| Level | Code | Message                                          |</span><br><span class="line">+-------+------+--------------------------------------------------+</span><br><span class="line">| Note  | 1265 | Data truncated for column &apos;seller_cost&apos; at row 1 |</span><br><span class="line">+-------+------+--------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from test_decimal;</span><br><span class="line">+----+-----------------+</span><br><span class="line">| id | seller_cost     |</span><br><span class="line">+----+-----------------+</span><br><span class="line">|  1 | 123456789012.00 |</span><br><span class="line">|  1 | 123456789012.12 |</span><br><span class="line">|  1 |           12.12 |</span><br><span class="line">+----+-----------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>ç»§ç»­æ’å…¥ä¸€ä¸ªå°æ•°éƒ¨åˆ†ä¸è¶³ä¸¤ä½çš„æ•°å­—ï¼Œå¯æ­£ç¡®æ’å…¥ï¼Œä¸”å°æ•°éƒ¨åˆ†è¢«è‡ªåŠ¨è¡¥å…¨åˆ°ä¸¤ä½ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into test_decimal(id,seller_cost) values(1,12.1);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from test_decimal;</span><br><span class="line">+----+-----------------+</span><br><span class="line">| id | seller_cost     |</span><br><span class="line">+----+-----------------+</span><br><span class="line">|  1 | 123456789012.00 |</span><br><span class="line">|  1 | 123456789012.12 |</span><br><span class="line">|  1 |           12.12 |</span><br><span class="line">|  1 |           12.10 |</span><br><span class="line">+----+-----------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>ç»¼ä¸Šæ‰€è¿°ï¼ŒDECIMAL(N,M)ä¸­Må€¼çš„æ˜¯å°æ•°éƒ¨åˆ†çš„ä½æ•°ï¼Œè‹¥æ’å…¥çš„å€¼æœªæŒ‡å®šå°æ•°éƒ¨åˆ†æˆ–è€…å°æ•°éƒ¨åˆ†ä¸è¶³Mä½åˆ™ä¼šè‡ªåŠ¨è¡¥åˆ°Mä½å°æ•°ï¼Œè‹¥æ’å…¥çš„å€¼å°æ•°éƒ¨åˆ†è¶…è¿‡äº†Mä¸ºåˆ™ä¼šå‘ç”Ÿæˆªæ–­ï¼Œæˆªå–å‰Mä½å°æ•°ã€‚Nå€¼å¾—æ˜¯æ•´æ•°éƒ¨åˆ†åŠ å°æ•°éƒ¨åˆ†çš„æ€»é•¿åº¦ï¼Œä¹Ÿå³æ’å…¥çš„æ•°å­—æ•´æ•°éƒ¨åˆ†ä¸èƒ½è¶…è¿‡N-Mä½ï¼Œå¦åˆ™ä¸èƒ½æˆåŠŸæ’å…¥ï¼Œä¼šæŠ¥è¶…å‡ºèŒƒå›´çš„é”™è¯¯ã€‚</p><p>è¯¦è§£mysql intç±»å‹çš„é•¿åº¦å€¼é—®é¢˜ï¼ˆ<a href="http://www.cnblogs.com/echo-something/archive/2012/08/26/mysql_int.html" target="_blank" rel="noopener">http://www.cnblogs.com/echo-something/archive/2012/08/26/mysql_int.html</a>)</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Mysql decimalç±»å‹ä¸decimalé•¿åº¦ç”¨æ³•è¯¦è§£</title>
      <link href="/2017/10/15/Mysql%20decimal%E7%B1%BB%E5%9E%8B%E4%B8%8Edecimal%E9%95%BF%E5%BA%A6%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/"/>
      <url>/2017/10/15/Mysql%20decimal%E7%B1%BB%E5%9E%8B%E4%B8%8Edecimal%E9%95%BF%E5%BA%A6%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/</url>
      <content type="html"><![CDATA[<h5 id="float-double-decimalä¸‰è€…çš„åŒºåˆ«ä»‹ç»"><a class="header-anchor" href="#float-double-decimalä¸‰è€…çš„åŒºåˆ«ä»‹ç»">Â¶</a>float,double,decimalä¸‰è€…çš„åŒºåˆ«ä»‹ç»</h5><a id="more"></a><p>float:æµ®ç‚¹å‹ï¼Œå«å­—èŠ‚æ•°ä¸º4ï¼Œ32bitï¼Œæ•°å€¼èŒƒå›´ä¸º-3.4E38~3.4E38ï¼ˆ7ä¸ªæœ‰æ•ˆä½ï¼‰<br>double:åŒç²¾åº¦å®å‹ï¼Œå«å­—èŠ‚æ•°ä¸º8ï¼Œ64bitæ•°å€¼èŒƒå›´-1.7E308~1.7E308ï¼ˆ15ä¸ªæœ‰æ•ˆä½ï¼‰<br>decimal:æ•°å­—å‹ï¼Œ128bitï¼Œä¸å­˜åœ¨ç²¾åº¦æŸå¤±ï¼Œå¸¸ç”¨äºé“¶è¡Œå¸ç›®è®¡ç®—ã€‚ï¼ˆ28ä¸ªæœ‰æ•ˆä½ï¼‰</p><h5 id="æŒ‰å­˜å‚¨çš„èŒƒå›´è¿›è¡Œæ’åº"><a class="header-anchor" href="#æŒ‰å­˜å‚¨çš„èŒƒå›´è¿›è¡Œæ’åº">Â¶</a>æŒ‰å­˜å‚¨çš„èŒƒå›´è¿›è¡Œæ’åº</h5><p>floatï¼ˆrealï¼‰<br>double<br>decimalï¼ˆnumericï¼‰</p><h5 id="decimalçš„è¯¦ç»†ä»‹ç»"><a class="header-anchor" href="#decimalçš„è¯¦ç»†ä»‹ç»">Â¶</a>decimalçš„è¯¦ç»†ä»‹ç»</h5><p>decimal(a,b)</p><h5 id="å‚æ•°è¯´æ˜"><a class="header-anchor" href="#å‚æ•°è¯´æ˜">Â¶</a>å‚æ•°è¯´æ˜</h5><p>aæŒ‡å®šæŒ‡å®šå°æ•°ç‚¹å·¦è¾¹å’Œå³è¾¹å¯ä»¥å­˜å‚¨çš„åè¿›åˆ¶æ•°å­—çš„æœ€å¤§ä¸ªæ•°ï¼Œæœ€å¤§ç²¾åº¦38ã€‚<br>bæŒ‡å®šå°æ•°ç‚¹å³è¾¹å¯ä»¥å­˜å‚¨çš„åè¿›åˆ¶æ•°å­—çš„æœ€å¤§ä¸ªæ•°ã€‚å°æ•°ä½æ•°å¿…é¡»æ˜¯ä» 0 åˆ° aä¹‹é—´çš„å€¼ã€‚é»˜è®¤å°æ•°ä½æ•°æ˜¯ 0ã€‚</p><h5 id="å¤‡æ³¨"><a class="header-anchor" href="#å¤‡æ³¨">Â¶</a>å¤‡æ³¨</h5><p>DECIMALæ•°æ®ç±»å‹ç”¨äºè¦æ±‚éå¸¸é«˜çš„ç²¾ç¡®åº¦çš„è®¡ç®—ä¸­ï¼Œè¿™äº›ç±»å‹å…è®¸æŒ‡å®šæ•°å€¼çš„ç²¾ç¡®åº¦å’Œè®¡æ•°æ–¹æ³•ä½œä¸ºé€‰æ‹©å‚æ•°ã€‚ç²¾ç¡®åº¦åœ¨è¿™é‡Œæ˜¯æŒ‡ä¸ºè¿™ä¸ªå€¼ä¿å­˜çš„æœ‰æ•ˆæ•°å­—çš„æ€»ä¸ªæ•°ï¼Œè€Œè®¡æ•°æ–¹æ³•è¡¨ç¤ºå°æ•°ç‚¹åæ•°å­—çš„ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œè¯­å¥DECIMAL (5,2)è§„å®šäº†å­˜å‚¨çš„å€¼å°†ä¸ä¼šè¶…è¿‡5ä½æ•°å­—ï¼Œå¼€ä¸”å°æ•°ç‚¹åé¢æœ‰2ä½æ•°å­—ã€‚</p><h5 id="å®ä¾‹"><a class="header-anchor" href="#å®ä¾‹">Â¶</a>å®ä¾‹</h5><blockquote><p>float f = 345.98756f;â€“ç»“æœæ˜¾ç¤ºä¸º345.9876ï¼Œåªæ˜¾ç¤º7ä¸ªæœ‰æ•ˆä½ï¼Œå¯¹æœ€åä¸€ä½æ•°å››èˆäº”å…¥ã€‚<br>double d=345.975423578631442d;â€“ç»“æœæ˜¾ç¤ºä¸º345.975423578631ï¼Œåªæ˜¾ç¤º15ä¸ªæœ‰æ•ˆä½ï¼Œå¯¹æœ€åä¸€ä½å››èˆäº”å…¥ã€‚<br>â€“æ³¨ï¼šfloatå’Œdoubleçš„ç›¸ä¹˜æ“ä½œï¼Œæ•°å­—æº¢å‡ºä¸ä¼šæŠ¥é”™ï¼Œä¼šæœ‰ç²¾åº¦çš„æŸå¤±ã€‚<br>decimal dd=345.545454879â€¦â€“å¯ä»¥æ”¯æŒ28ä½ï¼Œå¯¹æœ€åä¸€ä½å››èˆäº”å…¥ã€‚<br>â€“ï¼šå½“å¯¹decimalç±»å‹è¿›è¡Œæ“ä½œæ—¶ï¼Œæ•°å€¼ä¼šå› æº¢å‡ºè€ŒæŠ¥é”™ã€‚</p></blockquote><h5 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">Â¶</a>æ€»ç»“</h5><p>æ•°å€¼å­˜å‚¨èŒƒå›´è¶Šå°çš„ç²¾åº¦è¶Šé«˜ï¼Œå­˜å‚¨æ•°å€¼èŒƒå›´è¶Šå¤§ï¼Œç²¾åº¦å°±è¶Šä¸å‡†ç¡®ï¼Œå¦‚æœå­˜å‚¨æ­£å¸¸é‡‘é¢çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨moneyï¼Œå¥½å¤„åœ¨äºå¯ä»¥å­˜å‚¨ä¸æŒ‡å®šçš„å°æ•°ç‚¹ä½æ•°çš„æ•°å€¼ï¼Œæ¯”è¾ƒçœŸå®ã€‚å¦‚æœå¯¹äºæ—¢è¦æ±‚ç²¾åº¦ï¼Œåˆå›ºå®šå°æ•°ç‚¹ä½æ•°çš„æ•°å€¼å­˜å‚¨ï¼Œé‡‡ç”¨decimalï¼ˆnumericï¼‰ï¼Œä¼˜ç‚¹åœ¨äºå¯ä»¥è‡ªå®šä¹‰å°æ•°ç‚¹ä½æ•°ï¼Œç²¾åº¦é«˜ã€‚å¦‚ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æ•°å€¼èŒƒå›´å·¨å¤§åªèƒ½ç”¨floatï¼ˆrealï¼‰ç±»å‹äº†ï¼Œæ­¤ç±»å‹ä¸€èˆ¬ä¸æå€¡ä½¿ç”¨</p><p>é“¾æ¥(<a href="http://blog.csdn.net/zhanghao143lina/article/details/53816884" target="_blank" rel="noopener">http://blog.csdn.net/zhanghao143lina/article/details/53816884</a>)<br>mysqlæ•°æ®ç±»å‹(<a href="http://www.cnblogs.com/zbseoag/archive/2013/03/19/2970004.html" target="_blank" rel="noopener">http://www.cnblogs.com/zbseoag/archive/2013/03/19/2970004.html</a>)</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>String s1 = new String(&quot;abc&quot;)å’ŒString s2 = &quot;abc&quot;çš„åŒºåˆ«</title>
      <link href="/2017/10/15/String%E7%9B%B8%E5%85%B3/"/>
      <url>/2017/10/15/String%E7%9B%B8%E5%85%B3/</url>
      <content type="html"><![CDATA[<h5 id="ä»Šå¤©åœ¨çœ‹jvmçš„æ—¶å€™çªç„¶æƒ³åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜-å³"><a class="header-anchor" href="#ä»Šå¤©åœ¨çœ‹jvmçš„æ—¶å€™çªç„¶æƒ³åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜-å³">Â¶</a>ä»Šå¤©åœ¨çœ‹JVMçš„æ—¶å€™çªç„¶æƒ³åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œå³</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String s1 = new String(&quot;abc&quot;);</span><br><span class="line">String s2 = &quot;abc&quot;;</span><br><span class="line"></span><br><span class="line">System.out.println(s1 == s2);//ç­”æ¡ˆæ˜¯false</span><br></pre></td></tr></table></figure><p>é—®é¢˜æœ‰ä¸¤ä¸ªï¼š</p><p>String s2 = â€œabcâ€æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ<br>String s1 = new String(â€œabcâ€ï¼‰æ—¶åˆåšäº†ä»€ä¹ˆï¼Ÿ<br>ç¬¬äºŒä¸ªé—®é¢˜æ˜¯æ¯”è¾ƒå¥½å›ç­”çš„ï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£çš„è§£é‡Šï¼š</p><a id="more"></a><p>å½“æˆ‘ä»¬åœ¨jdk1.6ä¸­è®¨è®ºæ—¶ï¼Œå¸¸é‡æ± æ”¾åœ¨æ–¹æ³•åŒºä¸­ã€‚ï¼ˆjdk1.7ä¸­å¸¸é‡æ± æ”¾åœ¨å †å†…å­˜ä¸­ï¼Œjdk1.8æ”¾åœ¨å…ƒç©ºé—´é‡Œé¢ï¼Œå’Œå †ç›¸å¯¹ç‹¬ç«‹ï¼Œæ‰€ä»¥å¯¼è‡´stringçš„internæ–¹æ³•å› ä¸ºä»¥ä¸Šå˜åŒ–åœ¨ä¸åŒç‰ˆæœ¬ä¼šæœ‰ä¸åŒè¡¨ç°ã€‚ï¼‰</p><blockquote><p>new String(â€œabcâ€);<br>Initializes a newly created String object so that it represents the same sequence of characters as the argument; in other words, the newly created string is a copy of the argument string. Unless an explicit copy of original is needed, use of this constructor is unnecessary since Strings are immutable.</p></blockquote><p>ç®€å•è§£é‡Šä¸€ä¸‹ï¼š</p><blockquote><p>åˆå§‹åŒ–ä¸€ä¸ªæ–°åˆ›å»ºçš„Stringå¯¹è±¡ï¼Œæ¢å¥è¯è¯´ï¼Œæ–°åˆ›å»ºçš„å­—ç¬¦ä¸²æ˜¯å‚æ•°å­—ç¬¦ä¸²çš„ä¸€ä¸ªå‰¯æœ¬ã€‚é™¤éç¡®å®éœ€è¦ä¸€ä»½å‰¯æœ¬ï¼Œå¦åˆ™è¿™ç§æ–¹æ³•æ˜¯ä¸å¿…è¦çš„ï¼Œå› ä¸ºStringæ˜¯ä¸å¯å˜çš„</p></blockquote><p>è¿™å¥è¯å®é™…ä¸Šé€éœ²å‡ºä¸¤ä¸ªæ„æ€ï¼Œ</p><p>åœ¨ç¼–è¯‘å™¨ç¼–è¯‘çš„æ—¶å€™ï¼Œå½“ç¼–è¯‘å™¨æ³¨æ„åˆ°å‚æ•°ä¸ºå­—ç¬¦ä¸²å¸¸é‡æ—¶ï¼Œå³å°†å­—ç¬¦ä¸²ä½œä¸ºå¸¸é‡æ”¾åœ¨classæ–‡ä»¶ä¸­çš„å¸¸é‡åŒºï¼Œå¹¶åœ¨ç±»åŠ è½½æ—¶æ”¾å…¥è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ã€‚<br>åœ¨newæ“ä½œç¬¦è¢«è°ƒç”¨æ—¶ï¼Œåœ¨javaå †ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç„¶åå¯¹è±¡çš„å†…å®¹ä¸ºå¸¸é‡æ± é‡Œé¢å¯¹åº”å­—ç¬¦ä¸²çš„ä¸€ä¸ªæ‹·è´ã€‚<br>è€Œåœ¨String s2 = â€œabcâ€è¢«ç¼–è¯‘çš„æ—¶å€™ï¼Œå…ˆæ£€æŸ¥classæ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«è¯¥å­—ç¬¦ä¸²å¸¸é‡ï¼Œå¦‚æœåŒ…å«ï¼Œç›´æ¥è¿”å›å¸¸é‡æ± ä¸­çš„å¯¹è±¡ã€‚</p><p>å› æ­¤ï¼Œåœ¨è°ƒç”¨newæ“ä½œæ—¶ï¼Œå¯¹è±¡å§‹ç»ˆå­˜åœ¨äºå †ä¸­ï¼Œè€Œç›´æ¥å­—ç¬¦ä¸²èµ‹å€¼æ—¶å¯¹è±¡å®é™…ä¸Šæ˜¯å­˜åœ¨äºå¸¸é‡æ± ä¸­çš„ï¼Œ<br>æ‰€ä»¥æ¯”è¾ƒç»“æœè‚¯å®šæ˜¯false</p><p>String s = new String(â€œhelloâ€);</p><h5 id="generally-speaking"><a class="header-anchor" href="#generally-speaking">Â¶</a>Generally speaking,</h5><ul><li>jdk1.6ä¸­: é¦–å…ˆ&quot;hello&quot;å­—ç¬¦ä¸²å¯¹è±¡ä¿å­˜åœ¨ æ–¹æ³•åŒºçš„å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œ åœ¨è™šæ‹Ÿæœºæ ˆä¸­å¼€è¾Ÿç©ºé—´ ç”¨æ¥å­˜æ”¾String ç±»å‹çš„å˜é‡sï¼Œåœ¨å †ä¸­å¼€è¾Ÿç©ºé—´<br>å­˜æ”¾ s å¼•ç”¨çš„å¯¹è±¡ï¼Œç„¶åå°†å¸¸é‡æ± ä¸­çš„â€œhelloâ€ æ‹·è´ä¸€ä¸ªå‰¯æœ¬ç»™å †ä¸­çš„Stringã€‚</li><li>jdk1.7ä¸­:é¦–å…ˆ&quot;hello&quot;å­—ç¬¦ä¸²å¯¹è±¡ä¿å­˜åœ¨å †å†…å­˜çš„å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­<ul><li>1ã€‘åœ¨æ ˆä¸­å¼€è¾Ÿç©ºé—´å­˜æ”¾ s</li><li>2ã€‘åœ¨å †ä¸­å¼€è¾Ÿç©ºé—´å­˜æ”¾æ–°å»ºçš„String å¯¹è±¡&quot;hello&quot;</li><li>3ã€‘å¼•ç”¨sæŒ‡å‘å †ä¸­æ–°å»ºçš„Stringå¯¹è±¡â€œhelloâ€ã€‚</li></ul></li></ul><p>å‚è€ƒæ–‡ç« 1ã€ï¼ˆ<a href="http://blog.csdn.net/weixin_35663229/article/details/52796157?locationNum=15%EF%BC%89" target="_blank" rel="noopener">http://blog.csdn.net/weixin_35663229/article/details/52796157?locationNum=15ï¼‰</a><br>å‚è€ƒæ–‡ç« 2ã€ï¼ˆ<a href="http://blog.csdn.net/u010644448/article/details/51980370%EF%BC%89" target="_blank" rel="noopener">http://blog.csdn.net/u010644448/article/details/51980370ï¼‰</a></p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ç›’å­æ¨¡å‹</title>
      <link href="/2017/09/02/%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B/"/>
      <url>/2017/09/02/%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B/</url>
      <content type="html"><![CDATA[<p>ä»Šå¤©æ¥èŠèŠbox-sizing</p><p>ç›’æ¨¡å‹ï¼š<br>å½“ä½ è®¾ç½®äº†å…ƒç´ çš„å®½åº¦ï¼Œå®é™…å±•ç°çš„å…ƒç´ è¶…å‡ºä½ çš„è®¾ç½®ï¼š<br>è¿™æ˜¯å› ä¸ºå…ƒç´ çš„è¾¹æ¡†å’Œå†…è¾¹è·ä¼šæ’‘å¼€å…ƒç´ ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œ<br>ä¸¤ä¸ªç›¸åŒå®½åº¦çš„å…ƒç´ æ˜¾ç¤ºçš„å®é™…å®½åº¦å´ä¸ä¸€æ ·ã€‚</p><p><img src="http://oziqlv1ur.bkt.clouddn.com/%E5%AD%A6%E4%B9%A0CSS%E5%B8%83%E5%B1%8001.png" alt="ä»£ç "></p><p><img src="http://oziqlv1ur.bkt.clouddn.com/%E5%AD%A6%E4%B9%A0CSS%E5%B8%83%E5%B1%8002.png" alt="æˆ‘å°ä¸€äº›"></p><p><img src="http://oziqlv1ur.bkt.clouddn.com/%E5%AD%A6%E4%B9%A0CSS%E5%B8%83%E5%B1%8003.png" alt="æˆ‘å¤§ä¸€äº›"></p><p>ä»¥å‰æœ‰ä¸€ä¸ªä»£ä»£ç›¸ä¼ çš„è§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡æ•°å­¦è®¡ç®—ã€‚CSSå¼€å‘è€…éœ€è¦ç”¨æ¯”ä»–ä»¬å®é™…æƒ³è¦çš„å®½åº¦å°ä¸€ç‚¹çš„å®½åº¦ï¼Œéœ€è¦å‡å»å†…è¾¹è·å’Œè¾¹æ¡†çš„å®½åº¦ã€‚<br>å€¼å¾—åº†å¹¸æ˜¯ä½ ä¸éœ€è¦å†è¿™ä¹ˆåšäº†â€¦</p><p>Box-sizing:</p><p>äººä»¬æ…¢æ…¢åœ°æ„è¯†åˆ°ä¼ ç»Ÿçš„ç›’å­æ¨¡å‹ä¸ç›´æ¥ï¼Œæ‰€ä»¥ä»–ä»¬æ–°å¢äº†ä¸€ä¸ªå«åšbox-sizing</p><p>çš„csså±æ€§ã€‚å½“ä½ è®¾ç½®ä¸€ä¸ªå…ƒç´ ä¸ºbox-sizings: border-box;æ—¶æ­¤å…ƒç´ çš„å†…è¾¹è·å’Œè¾¹æ¡†ä¸ä¼šå†å¢åŠ å®ƒçš„å®½åº¦ã€‚<br>è¿™é‡Œæœ‰ä¸€ä¸ªä¸å‰ä¸€é¡µç›¸åŒçš„ä¾‹å­ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ä¸¤ä¸ªå…ƒç´ éƒ½è®¾ç½®äº†box-sizingï¼šborder-box;</p><p><img src="http://oziqlv1ur.bkt.clouddn.com/%E5%AD%A6%E4%B9%A0CSS%E5%B8%83%E5%B1%8004.png" alt="boxSizeä»£ç "></p><p>æ•ˆæœï¼š</p><p><img src="http://oziqlv1ur.bkt.clouddn.com/%E5%AD%A6%E4%B9%A0CSS%E5%B8%83%E5%B1%8005.png" alt="æ•ˆæœ"><br>æ—¢ç„¶æ²¡æœ‰æ¯”è¿™æ›´å¥½çš„æ–¹æ³•ï¼Œä¸€äº›CSSå¼€å‘è€…æƒ³è¦é¡µé¢ä¸Šçš„å…ƒç´ éƒ½æœ‰å¦‚æ­¤çš„è¡¨ç°ã€‚æ‰€ä»¥å¼€å‘è€…ä»¬ï¼Œéƒ½æŠŠä»¥ä¸‹ä»£ç æ”¾åœ¨ä»–ä»¬çš„é¡µé¢ä¸Šï¼š</p><p><img src="http://oziqlv1ur.bkt.clouddn.com/%E5%AD%A6%E4%B9%A0CSS%E5%B8%83%E5%B1%8006.png" alt="ç›´è§‚çš„æ–¹å¼"></p><p>è¿™æ ·å¯ä»¥ç¡®ä¿æ‰€æœ‰çš„å…ƒç´ éƒ½ä¼šç”¨è¿™ç§æ›´ç›´è§‚çš„æ–¹å¼æ’ç‰ˆã€‚</p><p>ä¸è¿‡box-sizingæ˜¯ä¸ªå¾ˆæ–°çš„å±æ€§ï¼Œç›®å‰ä½ è¿˜åº”è¯¥åƒä¸Šé¢ä¾‹å­ä¸­é‚£æ ·ä½¿ç”¨ -webkit-<br>å’Œ-moz- å‰ç¼€ã€‚  è¿™å¯ä»¥è¿™ä¸ªå¯ç”¨ç‰¹å®šæµè§ˆå™¨å®éªŒä¸­çš„ç‰¹æ€§ã€‚åŒæ—¶è®°ä½å®ƒæ˜¯æ”¯æŒIE8+çš„</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>å¬ç½—èƒ–èŠå¤©</title>
      <link href="/2017/09/02/%E5%90%AC%E7%BD%97%E8%83%96%E8%81%8A%E5%A4%A9/"/>
      <url>/2017/09/02/%E5%90%AC%E7%BD%97%E8%83%96%E8%81%8A%E5%A4%A9/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘æ‰äº†è§£åˆ°ã€Šé€»è¾‘æ€ç»´ã€‹è¿™ä¸ªèŠ‚ç›®ï¼Œå…¶å®è¿™ä¸ªèŠ‚ç›®åœ¨æŸé…·ä¸Šå·²ç»æ’­å‡ºäº†å¥½é•¿ä¸€æ®µæ—¶é—´äº†ï¼Œ</p><p>ä»Šå¤©æœ‰é—²å¿ƒå»çœ‹äº†ä¸¤é›†ã€Šé€»è¾‘æ€ç»´ã€‹ï¼Œä¸¤çº§èŠ‚ç›®éƒ½ä»¤è‡ªå·±æ„Ÿè§¦æ¯”è¾ƒæ·±ã€‚</p><ol><li>ã€Šæ‹’ç»é€ƒç¦»åŒ—ä¸Šå¹¿ã€‹ï¼šä»–çš„è¿™ä¸ªè§‚ç‚¹ï¼Œå…¶å®å’Œè‡ªå·±ä¸€ç›´å¿ƒä¸­æœ‰ä¸ªè®¤çŸ¥æ˜¯ä¸€æ ·çš„ï¼š<br>è§è¯†å¾ˆé‡è¦ï¼Œåœ¨åŒ—ä¸Šå¹¿ï¼Œè™½ç„¶æˆ¿ä»·è´µï¼Œç©ºæ°”ä¸å¥½ä½†æ˜¯çœŸçš„æ˜¯â€œæœºä¼šéå¸¸å¤šâ€ã€‚<br>â€œæœºä¼šâ€çš„å®šä¹‰ï¼Œä¼šéšç€ä½ æ…¢æ…¢æ¥è§¦çš„äº‹ç‰©å˜å¤šä¹‹åï¼Œæ…¢æ…¢çš„ä¸°å¯Œã€‚æ‰€ä»¥ï¼Œæˆ‘æƒ³è¦ä»¥åç”Ÿæ´»åœ¨è¿™é‡Œï¼</li><li>ã€ŠçŸ¥è¯†ç„¦è™‘ã€‹ï¼Œä»Šå¤©è¯´æ¥ä¹Ÿå·§ï¼Œåœ¨ã€Šæ„æ—ã€‹ä¸Šï¼Œå’ŒèŠ‚ç›®ä¸­éƒ½çœ‹åˆ°äº†è¿™ä¸ªè¯é¢˜ï¼Œå¯¹â€œçŸ¥è¯†çˆ†ç‚¸â€çš„æ›´è¿›ä¸€æ­¥äº†è§£äº†ã€‚<br>è¿˜æœ‰å°±æ˜¯å­¦ä¹ æ•ˆç‡çš„é—®é¢˜ï¼Œå¦ç±»äºŒå…«åŸåˆ™ï¼<br>è€Œä¸”ï¼Œæ­£å‡†å¤‡åœ¨åœ°é“ä¸Šå»å¬ä¹¦ï¼Œåœ¨èŠ‚ç›®ä¸­å°±äº†è§£äº†ç¢ç‰‡åŒ–å­¦ä¹ ï¼Œå¾ˆå·§ã€‚</li><li>äºŒå…«æ³•åˆ™é¢‘é¢‘å‡ºç°åœ¨å¤–æ¥çš„ä¿¡æ¯ä¸­ã€‚</li></ol>]]></content>
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ€æƒ³ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ä½ ä¸çŸ¥é“çš„JS(ä¸€)</title>
      <link href="/2017/09/02/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JS(%E4%B8%80)/"/>
      <url>/2017/09/02/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JS(%E4%B8%80)/</url>
      <content type="html"><![CDATA[<pre><code>javaScriptæ•°ç»„çš„éå†ï¼Œåœ¨é¡¹ç›®ä¸­é‡åˆ°çš„æ˜¯è¿™ä¸ªé—®é¢˜ï¼šç›´æ¥ä¸Šå›¾ï¼š</code></pre><h5 id="ä¸»è¦é’ˆå¯¹æ•°ç»„çš„éå†æœ‰ä¸€ä¸‹æ–¹æ³•ï¼š"><a class="header-anchor" href="#ä¸»è¦é’ˆå¯¹æ•°ç»„çš„éå†æœ‰ä¸€ä¸‹æ–¹æ³•ï¼š">Â¶</a>ä¸»è¦é’ˆå¯¹æ•°ç»„çš„éå†æœ‰ä¸€ä¸‹æ–¹æ³•ï¼š</h5><p>ä¼ ç»Ÿæ–¹æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3,4,5,6];</span><br><span class="line">for(var i=0;i&lt;arr.length;i++)&#123;</span><br><span class="line">    console.log(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>for inæ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3,4,5,6];</span><br><span class="line">for(var i in arr)&#123;</span><br><span class="line">    console.log(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>for each æ–¹æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Array.forEach(callback)</span><br><span class="line">forEach()æ–¹æ³•æ˜¯ES2.1æ ‡å‡†å¼•å…¥çš„ã€‚</span><br><span class="line">var arr=[1,2,3,4,5,6];</span><br><span class="line">arr.forEach(function(v,i)&#123;//v==valueã€€ä¸ºarré¡¹ï¼Œi==indexã€€ä¸ºarrç´¢å¼•</span><br><span class="line">    console.log(i+&apos;  &apos;v );</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨æœ€æ–°çš„ES6ä¸­æ–°å¢äº†ä¸€ä¸ªæ–¹æ³•<br>for ofæ–¹æ³•</p><p>éå†Arrayå¯ä»¥é‡‡ç”¨ä¸‹æ ‡å¾ªç¯ï¼Œéå†mapå’ŒSetå°±æ— æ³•ä½¿ç”¨ä¸‹æ ‡ï¼Œæ— æ³•ä½¿ç”¨ç´¢å¼•è¿›è¡Œéå†<br>ï¼Œä¸ºäº†ç»Ÿä¸€é›†åˆç±»å‹ï¼ŒES6æ ‡å‡†å¼•å…¥äº†æ–°çš„iterableç±»å‹ï¼Œ<br>Arrayã€Mapå’ŒSetéƒ½å±äºiterableç±»å‹ã€‚<br>å…·æœ‰iterableç±»å‹çš„é›†åˆå¯ä»¥é€šè¿‡æ–°çš„forâ€¦ofå¾ªç¯éå†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3,4,5,6];</span><br><span class="line">for(var value of Arr)&#123;</span><br><span class="line">    console.log(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>for â€¦ ofå¾ªç¯å’Œfor â€¦ inå¾ªç¯æœ‰ä½•åŒºåˆ«<br>for â€¦ inå¾ªç¯ï¼Œå®ƒéå†çš„å®é™…ä¸Šæ˜¯å¯¹è±¡çš„å±æ€§åç§°ã€‚</p><p>ä¸€ä¸ªArrayæ•°ç»„å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•è¢«è§†ä¸ºä¸€ä¸ªå±æ€§ã€‚</p><p>å½“æˆ‘ä»¬æ‰‹åŠ¨ç»™Arrayå¯¹è±¡æ·»åŠ äº†é¢å¤–çš„å±æ€§åï¼Œfor â€¦ inå¾ªç¯å°†å¸¦æ¥æ„æƒ³ä¸åˆ°çš„æ„å¤–æ•ˆæœï¼š</p><p>for in éå†æ•°ç»„æ—¶ä¼šä¸ºæŠŠæ•°ç»„ç´¢å¼•ä½œä¸ºé”®å€¼ã€€å¦‚ï¼šæ•°ç»„0ã€1ã€2ã€3ã€4ã€5ã€â€¦çš„é”®ï¼›å½“æˆ‘ä»¬è¿™æ ·å†™ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3,4,5,6];</span><br><span class="line">arr.value=&apos;val&apos;;</span><br><span class="line">//åœ¨ä½¿ç”¨for in éå†æ—¶</span><br><span class="line">for(var i in arr)&#123;</span><br><span class="line">    console.log(i+&apos;   &apos;+arr[i]);//è¿™æ—¶çš„iä¸ºé”®å€¼ï¼Œä¸ä¸ºæ•°ç»„ç´¢å¼•</span><br><span class="line">&#125;</span><br><span class="line">//è¾“å‡º</span><br><span class="line">0   1</span><br><span class="line">1   2</span><br><span class="line">2   3</span><br><span class="line">3   4</span><br><span class="line">4   5</span><br><span class="line">5   6</span><br><span class="line">value   val</span><br><span class="line">æ¥ç€æ‰§è¡Œï¼Œè¿™æ—¶å‡ºç°é—®é¢˜ï¼š</span><br><span class="line"></span><br><span class="line">arr;//è¾“å‡º[1, 2, 3, 4, 5, 6]</span><br><span class="line"></span><br><span class="line">//ä½¿ç”¨ console.log(arr)æ—¶ï¼Œè¿™æ ·</span><br><span class="line">console.log(arr);//è¾“å‡º[1, 2, 3, 4, 5, 6, value: &quot;val&quot;]</span><br><span class="line"></span><br><span class="line">//alert(arr)æ—¶</span><br><span class="line">alert(arr);//è¾“å‡º[1, 2, 3, 4, 5, 6]</span><br></pre></td></tr></table></figure><p>è€Œå½“æˆ‘ä»¬ä½¿ç”¨for of æ—¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3,4,5,6];</span><br><span class="line">arr.value=&apos;val&apos;;</span><br><span class="line">//åœ¨ä½¿ç”¨for in éå†æ—¶</span><br><span class="line">for(var v of arr)&#123;</span><br><span class="line">    console.log(v);//vä¸ºæ•°ç»„çš„é¡¹</span><br><span class="line">&#125;</span><br><span class="line">//è¾“å‡º</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td></tr></table></figure><p>ç›´æ¥éå†å‡ºå€¼</p><p>Map éå†ï¼š</p><p>map:å’ŒforEachéå¸¸ç›¸ä¼¼ï¼Œéƒ½æ˜¯ç”¨æ¥éå†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹å€¼çš„ï¼Œç”¨æ¥éå†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼›</p><p>åŒºåˆ«ï¼šmapçš„å›è°ƒå‡½æ•°ä¸­æ”¯æŒreturnè¿”å›å€¼ï¼›</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var ary = [12,23,24,42,1];</span><br><span class="line">var res = ary.map(function (item,index,input) &#123;</span><br><span class="line">     return item*10;</span><br><span class="line">&#125;)</span><br><span class="line">console.log(res);//--&gt;[120,230,240,420,10];</span><br><span class="line">console.log(ary);//--&gt;[12,23,24,42,1]ï¼›</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ä¸ç”¨å››åˆ™åšåŠ æ³•</title>
      <link href="/2017/08/25/%E4%B8%8D%E7%94%A8%E5%9B%9B%E5%88%99%E5%81%9A%E5%8A%A0%E6%B3%95/"/>
      <url>/2017/08/25/%E4%B8%8D%E7%94%A8%E5%9B%9B%E5%88%99%E5%81%9A%E5%8A%A0%E6%B3%95/</url>
      <content type="html"><![CDATA[<h5 id="ä¸ç”¨å››åˆ™åšåŠ æ³•"><a class="header-anchor" href="#ä¸ç”¨å››åˆ™åšåŠ æ³•">Â¶</a>ä¸ç”¨å››åˆ™åšåŠ æ³•</h5><p>ç›´æ¥ä¸Šä»£ç ï¼š</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public class Add &#123;</span><br><span class="line">public static int Add(int num1, int num2) &#123;</span><br><span class="line">while (num2 != 0) &#123;</span><br><span class="line">int temp = num1 ^ num2;</span><br><span class="line">System.out.println(&quot;temp=&quot; + temp);</span><br><span class="line">System.out.println(&quot;num1&amp;num2=&quot; + (num1 &amp; num2));</span><br><span class="line">num2 = (num1 &amp; num2) &lt;&lt; 1;</span><br><span class="line">System.out.println(&quot;(num1 &amp; num2) &lt;&lt; 1 =&quot; + num2);</span><br><span class="line">num1 = temp;</span><br><span class="line">            System.out.print(num1);</span><br><span class="line">&#125;</span><br><span class="line">return num1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">Add(3, 6);</span><br><span class="line">//2  :0010</span><br><span class="line">//3  :0011</span><br><span class="line">//2^3=0001  =1    å¼‚æˆ–è¿ç®—ç¬¦ï¼Œç”¨ç¬¦å·(^)è¡¨ç¤ºï¼Œå…¶è¿ç®—è§„åˆ™æ˜¯ï¼šä¸¤ä¸ªæ“ä½œæ•°çš„ä½ä¸­ï¼Œç›¸åŒåˆ™ç»“æœä¸º0ï¼Œä¸åŒåˆ™ç»“æœä¸º1ã€‚</span><br><span class="line">   //2&amp;3=0010  =2    ä½ä¸è¿ç®—ç¬¦ï¼Œéƒ½ä¸º1åˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚</span><br><span class="line">//2&lt;&lt;2=4                      å³ç§»è¿ç®—ç¬¦ï¼Œnum &lt;&lt; 1,ç›¸å½“äºnumä¹˜ä»¥2</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ€è·¯è§£è¯»ï¼š"><a class="header-anchor" href="#æ€è·¯è§£è¯»ï¼š">Â¶</a>æ€è·¯è§£è¯»ï¼š</h5><blockquote><p>è§£æï¼š<br>é¦–å…ˆçœ‹åè¿›åˆ¶æ˜¯å¦‚ä½•åšçš„ï¼š 5+7=12ï¼Œä¸‰æ­¥èµ°<br>ç¬¬ä¸€æ­¥ï¼šç›¸åŠ å„ä½çš„å€¼ï¼Œä¸ç®—è¿›ä½ï¼Œå¾—åˆ°2ã€‚<br>ç¬¬äºŒæ­¥ï¼šè®¡ç®—è¿›ä½å€¼ï¼Œå¾—åˆ°10. å¦‚æœè¿™ä¸€æ­¥çš„è¿›ä½å€¼ä¸º0ï¼Œé‚£ä¹ˆç¬¬ä¸€æ­¥å¾—åˆ°çš„å€¼å°±æ˜¯æœ€ç»ˆç»“æœã€‚<br>ç¬¬ä¸‰æ­¥ï¼šé‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼Œåªæ˜¯ç›¸åŠ çš„å€¼å˜æˆä¸Šè¿°ä¸¤æ­¥çš„å¾—åˆ°çš„ç»“æœ2å’Œ10ï¼Œå¾—åˆ°12ã€‚</p></blockquote><blockquote><p>åŒæ ·æˆ‘ä»¬å¯ä»¥ç”¨ä¸‰æ­¥èµ°çš„æ–¹å¼è®¡ç®—äºŒè¿›åˆ¶å€¼ç›¸åŠ ï¼š 5-101ï¼Œ7-111<br>ç¬¬ä¸€æ­¥ï¼šç›¸åŠ å„ä½çš„å€¼ï¼Œä¸ç®—è¿›ä½ï¼Œå¾—åˆ°010ï¼ŒäºŒè¿›åˆ¶æ¯ä½ç›¸åŠ å°±ç›¸å½“äºå„ä½åšå¼‚æˆ–æ“ä½œï¼Œ101^111ã€‚<br>ç¬¬äºŒæ­¥ï¼šè®¡ç®—è¿›ä½å€¼ï¼Œå¾—åˆ°1010ï¼Œç›¸å½“äºå„ä½åšä¸æ“ä½œå¾—åˆ°101ï¼Œå†å‘å·¦ç§»ä¸€ä½å¾—åˆ°1010ï¼Œ(101&amp;111)&lt;&lt;1ã€‚<br>ç¬¬ä¸‰æ­¥é‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼Œ å„ä½ç›¸åŠ  010^1010=1000ï¼Œè¿›ä½å€¼ä¸º100=(010&amp;1010)&lt;&lt;1ã€‚<br>ç»§ç»­é‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼š1000^100 = 1100ï¼Œè¿›ä½å€¼ä¸º0ï¼Œè·³å‡ºå¾ªç¯ï¼Œ1100ä¸ºæœ€ç»ˆç»“æœã€‚</p></blockquote><h5 id="å»¶ä¼¸ï¼š"><a class="header-anchor" href="#å»¶ä¼¸ï¼š">Â¶</a>å»¶ä¼¸ï¼š</h5><ol><li>ä½å¼‚æˆ–è¿ç®—ï¼ˆ^ï¼‰</li></ol><p>è¿ç®—è§„åˆ™æ˜¯ï¼šä¸¤ä¸ªæ•°è½¬ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åä»é«˜ä½å¼€å§‹æ¯”è¾ƒï¼Œå¦‚æœç›¸åŒåˆ™ä¸º0ï¼Œä¸ç›¸åŒåˆ™ä¸º1ã€‚<br>æ¯”å¦‚ï¼š8^11.</p><p>8è½¬ä¸ºäºŒè¿›åˆ¶æ˜¯1000ï¼Œ11è½¬ä¸ºäºŒè¿›åˆ¶æ˜¯1011.ä»é«˜ä½å¼€å§‹æ¯”è¾ƒå¾—åˆ°çš„æ˜¯ï¼š0011.ç„¶åäºŒè¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶ï¼Œå°±æ˜¯Integer.parseInt(â€œ0011â€,2)=3;</p><ol start="2"><li>ä½ä¸è¿ç®—ç¬¦ï¼ˆ&amp;ï¼‰</li></ol><p>è¿ç®—è§„åˆ™ï¼šä¸¤ä¸ªæ•°éƒ½è½¬ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åä»é«˜ä½å¼€å§‹æ¯”è¾ƒï¼Œå¦‚æœä¸¤ä¸ªæ•°éƒ½ä¸º1åˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚<br>æ¯”å¦‚ï¼š129&amp;128.</p><p>129è½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯10000001ï¼Œ128è½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯10000000ã€‚ä»é«˜ä½å¼€å§‹æ¯”è¾ƒå¾—åˆ°ï¼Œå¾—åˆ°10000000ï¼Œå³128.</p><ol start="3"><li>ä½æˆ–è¿ç®—ç¬¦ï¼ˆ|ï¼‰</li></ol><p>è¿ç®—è§„åˆ™ï¼šä¸¤ä¸ªæ•°éƒ½è½¬ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åä»é«˜ä½å¼€å§‹æ¯”è¾ƒï¼Œä¸¤ä¸ªæ•°åªè¦æœ‰ä¸€ä¸ªä¸º1åˆ™ä¸º1ï¼Œå¦åˆ™å°±ä¸º0ã€‚</p><p>æ¯”å¦‚ï¼š129|128.</p><p>129è½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯10000001ï¼Œ128è½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯10000000ã€‚ä»é«˜ä½å¼€å§‹æ¯”è¾ƒå¾—åˆ°ï¼Œå¾—åˆ°10000001ï¼Œå³129.</p><ol start="4"><li>ä½éè¿ç®—ç¬¦ï¼ˆ~ï¼‰</li></ol><p>è¿ç®—è§„åˆ™ï¼šå¦‚æœä½ä¸º0ï¼Œç»“æœæ˜¯1ï¼Œå¦‚æœä½ä¸º1ï¼Œç»“æœæ˜¯0.</p><p>æ¯”å¦‚ï¼š~37</p><p>åœ¨Javaä¸­ï¼Œæ‰€æœ‰æ•°æ®çš„è¡¨ç¤ºæ–¹æ³•éƒ½æ˜¯ä»¥è¡¥ç çš„å½¢å¼è¡¨ç¤ºï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜ï¼ŒJavaä¸­çš„æ•°æ®ç±»å‹é»˜è®¤æ˜¯int,intæ•°æ®ç±»å‹çš„é•¿åº¦æ˜¯8ä½ï¼Œä¸€ä½æ˜¯å››ä¸ªå­—èŠ‚ï¼Œå°±æ˜¯32å­—èŠ‚ï¼Œ32bit.</p><p>8è½¬ä¸ºäºŒè¿›åˆ¶æ˜¯100101.</p><p>è¡¥ç åä¸ºï¼š 00000000 00000000 00000000 00100101</p><p>å–åä¸ºï¼š    11111111 11111111 11111111 11011010</p><p>å› ä¸ºé«˜ä½æ˜¯1ï¼Œæ‰€ä»¥åŸç ä¸ºè´Ÿæ•°ï¼Œè´Ÿæ•°çš„è¡¥ç æ˜¯å…¶ç»å¯¹å€¼çš„åŸç å–åï¼Œæœ«å°¾å†åŠ 1ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯å°†è¿™ä¸ªäºŒè¿›åˆ¶æ•°çš„è¡¥ç è¿›è¡Œè¿˜åŸï¼š é¦–å…ˆï¼Œæœ«å°¾å‡1å¾—åç ï¼š11111111 11111111 11111111 11011001 å…¶æ¬¡ï¼Œå°†å„ä½å–åå¾—åŸç ï¼š</p><p>00000000 00000000 00000000 00100110ï¼Œæ­¤æ—¶äºŒè¿›åˆ¶è½¬åŸç ä¸º38</p><h2 id="æ‰€ä»¥-37-38"><a class="header-anchor" href="#æ‰€ä»¥-37-38">Â¶</a>æ‰€ä»¥~37 = -38.</h2><p>å…³äºjava åŸç ã€åç ã€è¡¥ç çš„è§£é‡Š<br>(<a href="http://blog.csdn.net/u010841296/article/details/52850307" target="_blank" rel="noopener">http://blog.csdn.net/u010841296/article/details/52850307</a>)</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>è¢‹é¼ è¿‡æ²³</title>
      <link href="/2017/08/23/newCoder%E8%A2%8B%E9%BC%A0%E8%BF%87%E6%B2%B3/"/>
      <url>/2017/08/23/newCoder%E8%A2%8B%E9%BC%A0%E8%BF%87%E6%B2%B3/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘å¿™ç€å¤ä¹ ï¼Œåšå®¢å°±æ›´æ–°é¢‘ç‡å°‘ä½äº†ï¼Œç°åœ¨å°±å…ˆæŠŠè§‰å¾—é‡è¦çš„ç®—æ³•é¢˜è®°å½•ä¸€ä¸‹ï¼Œåœ¨ç‰›å®¢ç½‘ä¸Šåšåˆ°çš„æœ€ç®€å•çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œå½“ç„¶è¿™é“é¢˜çš„å˜å½¢åœ¨leetCodeä¸Šä¹Ÿæœ‰ï¼ˆjumpGameï¼‰ã€‚</p><a id="more"></a><h5 id="é¢˜ç›®æè¿°"><a class="header-anchor" href="#é¢˜ç›®æè¿°">Â¶</a>é¢˜ç›®æè¿°</h5><blockquote><p>ä¸€åªè¢‹é¼ è¦ä»æ²³è¿™è¾¹è·³åˆ°æ²³å¯¹å²¸ï¼Œæ²³å¾ˆå®½ï¼Œä½†æ˜¯æ²³ä¸­é—´æ‰“äº†å¾ˆå¤šæ¡©å­ï¼Œæ¯éš”ä¸€ç±³å°±æœ‰ä¸€ä¸ªï¼Œæ¯ä¸ªæ¡©å­ä¸Šéƒ½æœ‰ä¸€ä¸ªå¼¹ç°§ï¼Œè¢‹é¼ è·³åˆ°å¼¹ç°§ä¸Šå°±å¯ä»¥è·³çš„æ›´è¿œã€‚æ¯ä¸ªå¼¹ç°§åŠ›é‡ä¸åŒï¼Œç”¨ä¸€ä¸ªæ•°å­—ä»£è¡¨å®ƒçš„åŠ›é‡ï¼Œå¦‚æœå¼¹ç°§åŠ›é‡ä¸º5ï¼Œå°±ä»£è¡¨è¢‹é¼ ä¸‹ä¸€è·³æœ€å¤šèƒ½å¤Ÿè·³5ç±³ï¼Œå¦‚æœä¸º0ï¼Œå°±ä¼šé™·è¿›å»æ— æ³•ç»§ç»­è·³è·ƒã€‚æ²³æµä¸€å…±Nç±³å®½ï¼Œè¢‹é¼ åˆå§‹ä½ç½®å°±åœ¨ç¬¬ä¸€ä¸ªå¼¹ç°§ä¸Šé¢ï¼Œè¦è·³åˆ°æœ€åä¸€ä¸ªå¼¹ç°§ä¹‹åå°±ç®—è¿‡æ²³äº†ï¼Œç»™å®šæ¯ä¸ªå¼¹ç°§çš„åŠ›é‡ï¼Œæ±‚è¢‹é¼ æœ€å°‘éœ€è¦å¤šå°‘è·³èƒ½å¤Ÿåˆ°è¾¾å¯¹å²¸ã€‚å¦‚æœæ— æ³•åˆ°è¾¾è¾“å‡º-1</p></blockquote><h5 id="è¾“å…¥æè¿°"><a class="header-anchor" href="#è¾“å…¥æè¿°">Â¶</a>è¾“å…¥æè¿°:</h5><blockquote><p>è¾“å…¥åˆ†ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œæ˜¯æ•°ç»„é•¿åº¦N (1 â‰¤ N â‰¤ 10000)ï¼Œç¬¬äºŒè¡Œæ˜¯æ¯ä¸€é¡¹çš„å€¼ï¼Œç”¨ç©ºæ ¼åˆ†éš”ã€‚</p></blockquote><h5 id="è¾“å‡ºæè¿°"><a class="header-anchor" href="#è¾“å‡ºæè¿°">Â¶</a>è¾“å‡ºæè¿°:</h5><blockquote><p>è¾“å‡ºæœ€å°‘çš„è·³æ•°ï¼Œæ— æ³•åˆ°è¾¾è¾“å‡º-1</p></blockquote><h5 id="ç¤ºä¾‹1"><a class="header-anchor" href="#ç¤ºä¾‹1">Â¶</a>ç¤ºä¾‹1</h5><blockquote><p>è¾“å…¥<br>5<br>2 0 1 1 1<br>è¾“å‡º<br>4</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public class Jump &#123;</span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">Scanner sc = new Scanner(System.in);</span><br><span class="line">int N = sc.nextInt();</span><br><span class="line">int[] nums = new int[N + 1];</span><br><span class="line">int[] dp = new int[N + 1];</span><br><span class="line">for (int i = 0; i &lt; N; i++)</span><br><span class="line">nums[i] = sc.nextInt();</span><br><span class="line"></span><br><span class="line">for (int i = 0; i &lt;=N; i++)</span><br><span class="line">dp[i] = 100000;</span><br><span class="line">nums[N] = 1;</span><br><span class="line">dp[0] = 0;</span><br><span class="line">for (int i = 1; i &lt;= N; i++) &#123;</span><br><span class="line">if (nums[i] == 0)</span><br><span class="line">continue;</span><br><span class="line">for (int j = 0; j &lt; i; j++) &#123;</span><br><span class="line">if (nums[j] &gt;= i - j)</span><br><span class="line">dp[i] = Math.min(dp[j] + 1, dp[i]);</span><br><span class="line">System.out.println(&quot;i=&quot; + i + &quot;,&quot; + &quot;j=&quot; + j + &quot;  &quot; + &quot;dp[&quot; + i + &quot;]: &quot; + dp[i]);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">System.out.println((dp[N] == 100000) ? -1 : dp[N]);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>å†…éƒ¨ç±»</title>
      <link href="/2017/08/23/%E5%86%85%E9%83%A8%E7%B1%BB/"/>
      <url>/2017/08/23/%E5%86%85%E9%83%A8%E7%B1%BB/</url>
      <content type="html"><![CDATA[<p>è¿™æ˜¯æˆ‘å­¦ä¹ Javaå†…éƒ¨ç±»çš„ç¬”è®°<br>1.ä¸ºä»€ä¹ˆä½¿ç”¨å†…éƒ¨ç±»?<br>ä½¿ç”¨å†…éƒ¨ç±»æœ€å¸å¼•äººçš„åŸå› æ˜¯ï¼šæ¯ä¸ªå†…éƒ¨ç±»éƒ½èƒ½ç‹¬ç«‹åœ°ç»§æ‰¿ä¸€ä¸ªï¼ˆæ¥å£çš„ï¼‰å®ç°ï¼Œæ‰€ä»¥æ— è®ºå¤–å›´ç±»æ˜¯å¦å·²ç»ç»§æ‰¿äº†æŸä¸ªï¼ˆæ¥å£çš„ï¼‰å®ç°ï¼Œ<br>å¯¹äºå†…éƒ¨ç±»éƒ½æ²¡æœ‰å½±å“</p><a id="more"></a><p>1.1.ä½¿ç”¨å†…éƒ¨ç±»æœ€å¤§çš„ä¼˜ç‚¹å°±åœ¨äºå®ƒèƒ½å¤Ÿéå¸¸å¥½çš„è§£å†³å¤šé‡ç»§æ‰¿çš„é—®é¢˜,ä½¿ç”¨å†…éƒ¨ç±»è¿˜èƒ½å¤Ÿä¸ºæˆ‘ä»¬å¸¦æ¥å¦‚ä¸‹ç‰¹æ€§:<br>(1)ã€å†…éƒ¨ç±»å¯ä»¥ç”¨å¤šä¸ªå®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„çŠ¶æ€ä¿¡æ¯ï¼Œå¹¶ä¸”ä¸å…¶ä»–å¤–å›´å¯¹è±¡çš„ä¿¡æ¯ç›¸äº’ç‹¬ã€‚<br>(2)ã€åœ¨å•ä¸ªå¤–å›´ç±»ä¸­ï¼Œå¯ä»¥è®©å¤šä¸ªå†…éƒ¨ç±»ä»¥ä¸åŒçš„æ–¹å¼å®ç°åŒä¸€ä¸ªæ¥å£ï¼Œæˆ–è€…ç»§æ‰¿åŒä¸€ä¸ªç±»ã€‚<br>(3)ã€åˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡çš„æ—¶åˆ»å¹¶ä¸ä¾èµ–äºå¤–å›´ç±»å¯¹è±¡çš„åˆ›å»ºã€‚<br>(4)ã€å†…éƒ¨ç±»å¹¶æ²¡æœ‰ä»¤äººè¿·æƒ‘çš„â€œis-aâ€å…³ç³»ï¼Œä»–å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å®ä½“ã€‚<br>(5)ã€å†…éƒ¨ç±»æä¾›äº†æ›´å¥½çš„å°è£…ï¼Œé™¤äº†è¯¥å¤–å›´ç±»ï¼Œå…¶ä»–ç±»éƒ½ä¸èƒ½è®¿é—®ã€‚<br>2.å†…éƒ¨ç±»åˆ†ç±»:<br>(ä¸€).æˆå‘˜å†…éƒ¨ç±»:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public class Outer&#123;</span><br><span class="line">       private int age = 99;</span><br><span class="line">       String name = &quot;Coco&quot;;</span><br><span class="line">       public class Inner&#123;</span><br><span class="line">           String name = &quot;Jayden&quot;;</span><br><span class="line">           public void show()&#123;</span><br><span class="line">               System.out.println(Outer.this.name);</span><br><span class="line">               System.out.println(name);</span><br><span class="line">               System.out.println(age);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       public Inner getInnerClass()&#123;</span><br><span class="line">           return new Inner();</span><br><span class="line">       &#125;</span><br><span class="line">       public static void main(String[] args)&#123;</span><br><span class="line">           Outer o = new Outer();</span><br><span class="line">           Inner in = o.new Inner();</span><br><span class="line">           in.show();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>1.Inner ç±»å®šä¹‰åœ¨ Outer ç±»çš„å†…éƒ¨ï¼Œç›¸å½“äº Outer ç±»çš„ä¸€ä¸ªæˆå‘˜å˜é‡çš„ä½ç½®ï¼ŒInner ç±»å¯ä»¥ä½¿ç”¨ä»»æ„è®¿é—®æ§åˆ¶ç¬¦ï¼Œ<br>å¦‚ public ã€ protected ã€ private ç­‰<br>2.Inner ç±»ä¸­å®šä¹‰çš„ show() æ–¹æ³•å¯ä»¥ç›´æ¥è®¿é—® Outer ç±»ä¸­çš„æ•°æ®ï¼Œè€Œä¸å—è®¿é—®æ§åˆ¶ç¬¦çš„å½±å“ï¼Œ<br>å¦‚ç›´æ¥è®¿é—® Outer ç±»ä¸­çš„ç§æœ‰å±æ€§age<br>3.å®šä¹‰äº†æˆå‘˜å†…éƒ¨ç±»åï¼Œå¿…é¡»ä½¿ç”¨å¤–éƒ¨ç±»å¯¹è±¡æ¥åˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡ï¼Œè€Œä¸èƒ½ç›´æ¥å» new ä¸€ä¸ªå†…éƒ¨ç±»å¯¹è±¡ï¼Œ<br>å³ï¼šå†…éƒ¨ç±» å¯¹è±¡å = å¤–éƒ¨ç±»å¯¹è±¡.new å†…éƒ¨ç±»( );<br>4.ç¼–è¯‘ä¸Šé¢çš„ç¨‹åºåï¼Œä¼šå‘ç°äº§ç”Ÿäº†ä¸¤ä¸ª .class æ–‡ä»¶: Outer.class,Outer$Inner.class{}<br>5.æˆå‘˜å†…éƒ¨ç±»ä¸­ä¸èƒ½å­˜åœ¨ä»»ä½• static çš„å˜é‡å’Œæ–¹æ³•,å¯ä»¥å®šä¹‰å¸¸é‡:<br>(1).å› ä¸ºéé™æ€å†…éƒ¨ç±»æ˜¯è¦ä¾èµ–äºå¤–éƒ¨ç±»çš„å®ä¾‹,è€Œé™æ€å˜é‡å’Œæ–¹æ³•æ˜¯ä¸ä¾èµ–äºå¯¹è±¡çš„,ä»…ä¸ç±»ç›¸å…³,<br>ç®€è€Œè¨€ä¹‹:åœ¨åŠ è½½é™æ€åŸŸæ—¶,æ ¹æœ¬æ²¡æœ‰å¤–éƒ¨ç±»,æ‰€åœ¨åœ¨éé™æ€å†…éƒ¨ç±»ä¸­ä¸èƒ½å®šä¹‰é™æ€åŸŸæˆ–æ–¹æ³•,ç¼–è¯‘ä¸é€šè¿‡;<br>éé™æ€å†…éƒ¨ç±»çš„ä½œç”¨åŸŸæ˜¯å®ä¾‹çº§åˆ«<br>(2).å¸¸é‡æ˜¯åœ¨ç¼–è¯‘å™¨å°±ç¡®å®šçš„,æ”¾åˆ°æ‰€è°“çš„å¸¸é‡æ± äº†<br>â˜…â˜…å‹æƒ…æç¤º:<br>1.å¤–éƒ¨ç±»æ˜¯ä¸èƒ½ç›´æ¥ä½¿ç”¨å†…éƒ¨ç±»çš„æˆå‘˜å’Œæ–¹æ³•çš„ï¼Œå¯å…ˆåˆ›å»ºå†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œç„¶åé€šè¿‡å†…éƒ¨ç±»çš„å¯¹è±¡æ¥è®¿é—®å…¶æˆå‘˜å˜é‡å’Œæ–¹æ³•;<br>2.å¦‚æœå¤–éƒ¨ç±»å’Œå†…éƒ¨ç±»å…·æœ‰ç›¸åŒçš„æˆå‘˜å˜é‡æˆ–æ–¹æ³•ï¼Œå†…éƒ¨ç±»é»˜è®¤è®¿é—®è‡ªå·±çš„æˆå‘˜å˜é‡æˆ–æ–¹æ³•ï¼Œå¦‚æœè¦è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜å˜é‡ï¼Œ<br>å¯ä»¥ä½¿ç”¨ this å…³é”®å­—,å¦‚:Outer.this.name<br>(äºŒ).é™æ€å†…éƒ¨ç±»: æ˜¯ static ä¿®é¥°çš„å†…éƒ¨ç±»,<br>1.é™æ€å†…éƒ¨ç±»ä¸èƒ½ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„éé™æ€æˆå‘˜ï¼Œä½†å¯ä»¥é€šè¿‡ new å¤–éƒ¨ç±»().æˆå‘˜ çš„æ–¹å¼è®¿é—®<br>2.å¦‚æœå¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ä¸å†…éƒ¨ç±»çš„æˆå‘˜åç§°ç›¸åŒï¼Œå¯é€šè¿‡â€œç±»å.é™æ€æˆå‘˜â€è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ï¼›<br>å¦‚æœå¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ä¸å†…éƒ¨ç±»çš„æˆå‘˜åç§°ä¸ç›¸åŒï¼Œåˆ™å¯é€šè¿‡â€œæˆå‘˜åâ€ç›´æ¥è°ƒç”¨å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜<br>3.åˆ›å»ºé™æ€å†…éƒ¨ç±»çš„å¯¹è±¡æ—¶ï¼Œä¸éœ€è¦å¤–éƒ¨ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥åˆ›å»º å†…éƒ¨ç±» å¯¹è±¡å = new å†…éƒ¨ç±»();</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class Outer&#123;</span><br><span class="line">           private int age = 99;</span><br><span class="line">           static String name = &quot;Coco&quot;;</span><br><span class="line">           public static class Inner&#123;</span><br><span class="line">               String name = &quot;Jayden&quot;;</span><br><span class="line">               public void show()&#123;</span><br><span class="line">                   System.out.println(Outer.name);</span><br><span class="line">                   System.out.println(name);                  </span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           public static void main(String[] args)&#123;</span><br><span class="line">               Inner i = new Inner();</span><br><span class="line">               i.show();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><p>(ä¸‰).æ–¹æ³•å†…éƒ¨ç±»:è®¿é—®ä»…é™äºæ–¹æ³•å†…æˆ–è€…è¯¥ä½œç”¨åŸŸå†…<br>(1).å±€éƒ¨å†…éƒ¨ç±»å°±åƒæ˜¯æ–¹æ³•é‡Œé¢çš„ä¸€ä¸ªå±€éƒ¨å˜é‡ä¸€æ ·ï¼Œæ˜¯ä¸èƒ½æœ‰ publicã€protectedã€private ä»¥åŠ static ä¿®é¥°ç¬¦çš„<br>(2).åªèƒ½è®¿é—®æ–¹æ³•ä¸­å®šä¹‰çš„ final ç±»å‹çš„å±€éƒ¨å˜é‡,å› ä¸º:<br>å½“æ–¹æ³•è¢«è°ƒç”¨è¿è¡Œå®Œæ¯•ä¹‹åï¼Œå±€éƒ¨å˜é‡å°±å·²æ¶ˆäº¡äº†ã€‚ä½†å†…éƒ¨ç±»å¯¹è±¡å¯èƒ½è¿˜å­˜åœ¨,<br>ç›´åˆ°æ²¡æœ‰è¢«å¼•ç”¨æ—¶æ‰ä¼šæ¶ˆäº¡ã€‚æ­¤æ—¶å°±ä¼šå‡ºç°ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯å†…éƒ¨ç±»è¦è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„å±€éƒ¨å˜é‡;<br>==&gt;ä½¿ç”¨finalä¿®é¥°ç¬¦ä¸ä»…ä¼šä¿æŒå¯¹è±¡çš„å¼•ç”¨ä¸ä¼šæ”¹å˜,è€Œä¸”ç¼–è¯‘å™¨è¿˜ä¼šæŒç»­ç»´æŠ¤è¿™ä¸ªå¯¹è±¡åœ¨å›è°ƒæ–¹æ³•ä¸­çš„ç”Ÿå‘½å‘¨æœŸ.<br>å±€éƒ¨å†…éƒ¨ç±»å¹¶ä¸æ˜¯ç›´æ¥è°ƒç”¨æ–¹æ³•ä¼ è¿›æ¥çš„å‚æ•°ï¼Œè€Œæ˜¯å†…éƒ¨ç±»å°†ä¼ è¿›æ¥çš„å‚æ•°é€šè¿‡è‡ªå·±çš„æ„é€ å™¨å¤‡ä»½åˆ°äº†è‡ªå·±çš„å†…éƒ¨ï¼Œ<br>è‡ªå·±å†…éƒ¨çš„æ–¹æ³•è°ƒç”¨çš„å®é™…æ˜¯è‡ªå·±çš„å±æ€§è€Œä¸æ˜¯å¤–éƒ¨ç±»æ–¹æ³•çš„å‚æ•°;<br>é˜²æ­¢è¢«ç¯¡æ”¹æ•°æ®,è€Œå¯¼è‡´å†…éƒ¨ç±»å¾—åˆ°çš„å€¼ä¸ä¸€è‡´<br>   ä½¿ç”¨çš„å½¢å‚ä¸ºä½•è¦ä¸º final???<br>åœ¨å†…éƒ¨ç±»ä¸­çš„å±æ€§å’Œå¤–éƒ¨æ–¹æ³•çš„å‚æ•°ä¸¤è€…ä»å¤–è¡¨ä¸Šçœ‹æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œä½†å®é™…ä¸Šå´ä¸æ˜¯ï¼Œæ‰€ä»¥ä»–ä»¬ä¸¤è€…æ˜¯å¯ä»¥ä»»æ„å˜åŒ–çš„ï¼Œ<br>ä¹Ÿå°±æ˜¯è¯´åœ¨å†…éƒ¨ç±»ä¸­æˆ‘å¯¹å±æ€§çš„æ”¹å˜å¹¶ä¸ä¼šå½±å“åˆ°å¤–éƒ¨çš„å½¢å‚ï¼Œè€Œç„¶è¿™ä»ç¨‹åºå‘˜çš„è§’åº¦æ¥çœ‹è¿™æ˜¯ä¸å¯è¡Œçš„ï¼Œ<br>æ¯•ç«Ÿç«™åœ¨ç¨‹åºçš„è§’åº¦æ¥çœ‹è¿™ä¸¤ä¸ªæ ¹æœ¬å°±æ˜¯åŒä¸€ä¸ªï¼Œå¦‚æœå†…éƒ¨ç±»è¯¥å˜äº†ï¼Œè€Œå¤–éƒ¨æ–¹æ³•çš„å½¢å‚å´æ²¡æœ‰æ”¹å˜è¿™æ˜¯éš¾ä»¥ç†è§£<br>å’Œä¸å¯æ¥å—çš„ï¼Œæ‰€ä»¥ä¸ºäº†ä¿æŒå‚æ•°çš„ä¸€è‡´æ€§ï¼Œå°±è§„å®šä½¿ç”¨ final æ¥é¿å…å½¢å‚çš„ä¸æ”¹å˜</p>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">        public class Outer&#123;</span><br><span class="line">            public void Show()&#123;</span><br><span class="line">                final int a = 25;</span><br><span class="line">                int b = 13;</span><br><span class="line">                class Inner&#123;</span><br><span class="line">                    int c = 2;</span><br><span class="line">                    public void print()&#123;</span><br><span class="line">                        System.out.println(&quot;è®¿é—®å¤–éƒ¨ç±»:&quot; + a);</span><br><span class="line">                        System.out.println(&quot;è®¿é—®å†…éƒ¨ç±»:&quot; + c);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                Inner i = new Inner();</span><br><span class="line">                i.print();</span><br><span class="line">            &#125;</span><br><span class="line">            public static void main(String[] args)&#123;</span><br><span class="line">                Outer o = new Outer();</span><br><span class="line">                o.show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;  </span><br><span class="line">  ```  </span><br><span class="line">(å››).åŒ¿åå†…éƒ¨ç±»:</span><br><span class="line">(1).åŒ¿åå†…éƒ¨ç±»æ˜¯ç›´æ¥ä½¿ç”¨ new æ¥ç”Ÿæˆä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨;</span><br><span class="line">(2).å¯¹äºåŒ¿åå†…éƒ¨ç±»çš„ä½¿ç”¨å®ƒæ˜¯å­˜åœ¨ä¸€ä¸ªç¼ºé™·çš„ï¼Œå°±æ˜¯å®ƒä»…èƒ½è¢«ä½¿ç”¨ä¸€æ¬¡ï¼Œåˆ›å»ºåŒ¿åå†…éƒ¨ç±»æ—¶å®ƒä¼šç«‹å³åˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å®ä¾‹ï¼Œ</span><br><span class="line">è¯¥ç±»çš„å®šä¹‰ä¼šç«‹å³æ¶ˆå¤±ï¼Œæ‰€ä»¥åŒ¿åå†…éƒ¨ç±»æ˜¯ä¸èƒ½å¤Ÿè¢«é‡å¤ä½¿ç”¨;</span><br><span class="line">(3).ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»æ˜¯ç»§æ‰¿ä¸€ä¸ªç±»æˆ–è€…å®ç°ä¸€ä¸ªæ¥å£ï¼Œä½†æ˜¯ä¸¤è€…ä¸å¯å…¼å¾—ï¼ŒåŒæ—¶ä¹Ÿåªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»æˆ–è€…å®ç°ä¸€ä¸ªæ¥å£;</span><br><span class="line">(4).åŒ¿åå†…éƒ¨ç±»ä¸­æ˜¯ä¸èƒ½å®šä¹‰æ„é€ å‡½æ•°çš„,åŒ¿åå†…éƒ¨ç±»ä¸­ä¸èƒ½å­˜åœ¨ä»»ä½•çš„é™æ€æˆå‘˜å˜é‡å’Œé™æ€æ–¹æ³•;</span><br><span class="line">(5).åŒ¿åå†…éƒ¨ç±»ä¸­ä¸èƒ½å­˜åœ¨ä»»ä½•çš„é™æ€æˆå‘˜å˜é‡å’Œé™æ€æ–¹æ³•,åŒ¿åå†…éƒ¨ç±»ä¸èƒ½æ˜¯æŠ½è±¡çš„,å®ƒå¿…é¡»è¦å®ç°ç»§æ‰¿çš„ç±»æˆ–è€…å®ç°çš„æ¥å£çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•</span><br><span class="line">(6).åŒ¿åå†…éƒ¨ç±»åˆå§‹åŒ–:ä½¿ç”¨æ„é€ ä»£ç å—ï¼åˆ©ç”¨æ„é€ ä»£ç å—èƒ½å¤Ÿè¾¾åˆ°ä¸ºåŒ¿åå†…éƒ¨ç±»åˆ›å»ºä¸€ä¸ªæ„é€ å™¨çš„æ•ˆæœ</span><br></pre></td></tr></table></figure><p>public class OuterClass {<br>public InnerClass getInnerClass(final int   num,String str2){<br>return new InnerClass(){<br>int number = num + 3;<br>public int getNumber(){<br>return number;<br>}<br>};        /* æ³¨æ„ï¼šåˆ†å·ä¸èƒ½çœ */<br>}<br>public static void main(String[] args) {<br>OuterClass out = new OuterClass();<br>InnerClass inner = out.getInnerClass(2, â€œchenssyâ€);<br>System.out.println(inner.getNumber());<br>}<br>}<br>interface InnerClass {<br>int getNumber();<br>}</p><pre><code></code></pre>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Javaä¸­å•é“¾è¡¨çš„å®ç°</title>
      <link href="/2017/08/23/Java%E4%B8%AD%E5%8D%95%E9%93%BE%E8%A1%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
      <url>/2017/08/23/Java%E4%B8%AD%E5%8D%95%E9%93%BE%E8%A1%A8%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
      <content type="html"><![CDATA[<p>Javaä¸­æˆ‘ä»¬ä½¿ç”¨çš„ArrayListï¼Œå…¶å®ç°åŸç†æ˜¯æ•°ç»„ã€‚è€ŒLinkedListçš„å®ç°åŸç†å°±æ˜¯é“¾è¡¨äº†ã€‚é“¾è¡¨åœ¨è¿›è¡Œå¾ªç¯éå†æ—¶æ•ˆç‡ä¸é«˜ï¼Œä½†æ˜¯æ’å…¥å’Œåˆ é™¤æ—¶ä¼˜åŠ¿æ˜æ˜¾ã€‚ä¸‹é¢å¯¹å•å‘é“¾è¡¨åšä¸€ä¸ªä»‹ç»ã€‚</p><a id="more"></a><p>å•å‘é“¾è¡¨æ˜¯ä¸€ç§çº¿æ€§è¡¨ï¼Œå®é™…ä¸Šæ˜¯ç”±èŠ‚ç‚¹ï¼ˆNodeï¼‰ç»„æˆçš„ï¼Œä¸€ä¸ªé“¾è¡¨æ‹¥æœ‰ä¸å®šæ•°é‡çš„èŠ‚ç‚¹ã€‚å…¶æ•°æ®åœ¨å†…å­˜ä¸­å­˜å‚¨æ˜¯ä¸è¿ç»­çš„ï¼Œå®ƒå­˜å‚¨çš„æ•°æ®åˆ†æ•£åœ¨å†…å­˜ä¸­ï¼Œæ¯ä¸ªç»“ç‚¹åªèƒ½ä¹Ÿåªæœ‰å®ƒèƒ½çŸ¥é“ä¸‹ä¸€ä¸ªç»“ç‚¹çš„å­˜å‚¨ä½ç½®ã€‚ç”±Nå„èŠ‚ç‚¹ï¼ˆNodeï¼‰ç»„æˆå•å‘é“¾è¡¨ï¼Œæ¯ä¸€ä¸ªNodeè®°å½•æœ¬Nodeçš„æ•°æ®åŠä¸‹ä¸€ä¸ªNodeã€‚å‘å¤–æš´éœ²çš„åªæœ‰ä¸€ä¸ªå¤´èŠ‚ç‚¹ï¼ˆHeadï¼‰ï¼Œæˆ‘ä»¬å¯¹é“¾è¡¨çš„æ‰€æœ‰æ“ä½œï¼Œéƒ½æ˜¯ç›´æ¥æˆ–è€…é—´æ¥åœ°é€šè¿‡å…¶å¤´èŠ‚ç‚¹æ¥è¿›è¡Œçš„ã€‚</p><h5 id="ä¸‹é¢æ˜¯å…·ä½“çš„å®ç°"><a class="header-anchor" href="#ä¸‹é¢æ˜¯å…·ä½“çš„å®ç°">Â¶</a>ä¸‹é¢æ˜¯å…·ä½“çš„å®ç°</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">package mylink;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> *</span><br><span class="line"> * Javaä¸­é“¾è¡¨çš„åˆ›å»ºåŠç›¸å…³æ“ä½œ</span><br><span class="line"> *</span><br><span class="line"> * @author fisherman</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line">public class MyLink &#123;</span><br><span class="line">Node head = null;</span><br><span class="line"></span><br><span class="line">   class Node &#123;</span><br><span class="line">private int data;// å®šä¹‰æ•°æ®åŸŸ</span><br><span class="line">private Node next; // å®šä¹‰æŒ‡é’ˆåŸŸ</span><br><span class="line"></span><br><span class="line">public Node(int data) &#123;</span><br><span class="line">this.data = data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> /*  </span><br><span class="line">   class NodeOther&#123;</span><br><span class="line">   private int data;// å®šä¹‰æ•°æ®åŸŸ</span><br><span class="line">private Node next; // å®šä¹‰æŒ‡é’ˆåŸŸ</span><br><span class="line">   public NodeOther()&#123;</span><br><span class="line">   this.data= data;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;*/</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * æ’å…¥æ•°æ®</span><br><span class="line"> *</span><br><span class="line"> * @param</span><br><span class="line"> */</span><br><span class="line">public void addNode(int data) &#123;</span><br><span class="line">Node node = new Node(data);</span><br><span class="line">if (head == null) &#123;</span><br><span class="line">head = node;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line">Node tmp = head;</span><br><span class="line">while (tmp.next != null) &#123; // è‹¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ä¸ºç©ºï¼ŒæŒ‡é’ˆåç§»</span><br><span class="line">tmp = tmp.next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tmp.next = node; // ç„¶åæŠŠæ–°çš„èŠ‚ç‚¹æ·»åŠ </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * è®¡ç®—é“¾è¡¨çš„é•¿åº¦</span><br><span class="line"> *</span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line">public int size() &#123;</span><br><span class="line">int size = 0;</span><br><span class="line">Node tmp = head;</span><br><span class="line">while (tmp != null) &#123; // è‹¥å¤´ç»“ç‚¹ä¸ä¸ºç©º</span><br><span class="line">size++; // é•¿åº¦åŠ ä¸€</span><br><span class="line">tmp = tmp.next;// æŒ‡é’ˆåç§»ä¸€ä½ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åå†è¿›è¡Œå¾ªç¯ï¼Œé•¿åº¦å†åŠ ä¸€</span><br><span class="line">&#125;</span><br><span class="line">return size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * åˆ é™¤åºå·ä¸ºindexçš„èŠ‚ç‚¹</span><br><span class="line"> *</span><br><span class="line"> * @param index</span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line">public boolean deleteNode(int index) &#123;</span><br><span class="line">if (index &lt; 1 || index &gt; size())</span><br><span class="line">return false; // è‹¥æ‰€æ‰¾èŠ‚ç‚¹çš„åºå·ä¸å­˜åœ¨ ï¼Œè¿”å›false</span><br><span class="line">if (index == 1) &#123;</span><br><span class="line">head = head.next;</span><br><span class="line">return true; // è‹¥åºå·ä¸º1ï¼Œè¯´æ˜æ‰¾çš„æ˜¯å¤´ç»“ç‚¹</span><br><span class="line">&#125;</span><br><span class="line">int i = 2; // ä»ç¬¬äºŒä¸ªèŠ‚ç‚¹å¼€å§‹</span><br><span class="line">Node preNode = head; // åˆå§‹ä¸ºhead ä½œä¸ºå‰é©±èŠ‚ç‚¹</span><br><span class="line">Node currNode = preNode.next; // ç°åœ¨çš„èŠ‚ç‚¹ä¸ºheadçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">while (currNode != null) &#123;</span><br><span class="line"></span><br><span class="line">if (i == index) &#123;</span><br><span class="line">preNode.next = currNode.next; // åˆ é™¤ currNodeï¼ˆå½“å‰èŠ‚ç‚¹ï¼‰èŠ‚ç‚¹</span><br><span class="line">return true;</span><br><span class="line">&#125;</span><br><span class="line">preNode = currNode; // preNodeèŠ‚ç‚¹å˜ä¸ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">currNode = currNode.next; // currNodeèŠ‚ç‚¹å˜ä¸ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">i++; // ç»§ç»­å‘åæŸ¥æ‰¾</span><br><span class="line">&#125;</span><br><span class="line">return false;</span><br><span class="line">&#125;</span><br><span class="line">/**</span><br><span class="line"> * åœ¨ä¸çŸ¥é“å¤´æŒ‡é’ˆçš„æƒ…å†µä¸‹åˆ é™¤æŒ‡å®šèŠ‚ç‚¹</span><br><span class="line"> * @param node</span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line">public boolean deleteNodeOther(Node node) &#123;</span><br><span class="line">if (node == null || node.next == null)</span><br><span class="line">return false;</span><br><span class="line">int temp = node.data;</span><br><span class="line">node.data = node.next.data;// æŠŠå¾…åˆ é™¤èŠ‚ç‚¹ä¸‹ä¸€èŠ‚ç‚¹çš„æ•°æ®è¦†ç›–å¾…åˆ é™¤èŠ‚ç‚¹æ•°æ®</span><br><span class="line">node.next.data = temp;// ä¿å­˜äº†å·²åˆ é™¤èŠ‚ç‚¹çš„æ•°æ®</span><br><span class="line">node.next = node.next.next;</span><br><span class="line">return true;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * æ‰“å°é“¾è¡¨</span><br><span class="line"> *</span><br><span class="line"> * @param</span><br><span class="line"> */</span><br><span class="line">public void printList() &#123;</span><br><span class="line">Node tmp = head;</span><br><span class="line">while (tmp != null) &#123;</span><br><span class="line">System.out.println(tmp.data);</span><br><span class="line">tmp = tmp.next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">MyLink link = new MyLink();</span><br><span class="line">link.addNode(2);</span><br><span class="line">link.addNode(3);</span><br><span class="line">link.addNode(4);</span><br><span class="line">        link.addNode(5);</span><br><span class="line">System.out.println(&quot;é•¿åº¦ä¸ºï¼š&quot; + link.size());</span><br><span class="line">link.printList();</span><br><span class="line">System.out.println(&quot;åˆ é™¤ç¬¬äºŒä¸ªå…ƒç´ ï¼š&quot; + link.deleteNode(2));</span><br><span class="line">System.out.println(&quot;åˆ é™¤åé•¿åº¦ä¸ºï¼š&quot; + link.size());</span><br><span class="line">link.printList();</span><br><span class="line">/*  MyLink.NodeOther node=new MyLink().new NodeOther();</span><br><span class="line">System.err.println(&quot;åˆ é™¤ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼š&quot;+link.deleteNodeOther(node)); */</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Androidè¿›ç¨‹ä¼˜å…ˆçº§æ‚‰çŸ¥</title>
      <link href="/2017/08/01/Android%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7%E6%82%89%E7%9F%A5/"/>
      <url>/2017/08/01/Android%E8%BF%9B%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7%E6%82%89%E7%9F%A5/</url>
      <content type="html"><![CDATA[<h4 id="è¿›ç¨‹ä¼˜å…ˆçº§"><a class="header-anchor" href="#è¿›ç¨‹ä¼˜å…ˆçº§">Â¶</a>è¿›ç¨‹ä¼˜å…ˆçº§</h4><p>å½“ç³»ç»Ÿçš„å†…å­˜ä¸è¶³çš„æ—¶å€™ï¼Œandroidç³»ç»Ÿå°†æ ¹æ®è¿›ç¨‹ä¼˜å…ˆçº§é€‰æ‹©æ€æ­»ä¸€äº›ä¸å¤ªé‡è¦çš„è¿›ç¨‹ï¼Œè¿›ç¨‹ä¼˜å…ˆçº§ä»é«˜åˆ°åº•åˆ†åˆ«ä¸ºï¼š</p><ul><li>å‰å°è¿›ç¨‹ï¼š<ul><li>è¿›ç¨‹ä¸­å¤„äºå‰å°çš„æ­£ä¸ç”¨æˆ·äº¤äº’çš„activity</li><li>è¿›ç¨‹ä¸­åŒ…å«ä¸å‰å°activityç»‘å®šçš„service</li><li>è¿›ç¨‹ä¸­åŒ…å«è°ƒç”¨äº†startForegroundæ–¹æ³•çš„service</li><li>è¿›ç¨‹ä¸­åŒ…å«æ­£åœ¨æ‰§è¡Œçš„onCreate(),onStart()æˆ–onDestory()æ–¹æ³•çš„service</li><li>è¿›ç¨‹ä¸­åŒ…å«æ­£åœ¨æ‰§è¡ŒonReceive()æ–¹æ³•çš„BroadcastReceiver<br></li></ul></li></ul><a id="more"></a><p>ç³»ç»Ÿä¸­å‰å°è¿›ç¨‹çš„æ•°é‡å¾ˆå°‘ï¼Œå‰å°è¿›ç¨‹å‡ ä¹ä¸ä¼šè¢«æ€æ­»ï¼Œåªæœ‰å†…å­˜ä½åˆ°ä¸èƒ½ä¿è¯æ‰€æœ‰å‰å°è¿›ç¨‹åŒæ—¶è¿è¡Œæ—¶æ‰ä¼šé€‰æ‹©æ€æ­»æŸä¸ªå‰å°è¿›ç¨‹</p><ul><li>å¯è§†è¿›ç¨‹<ul><li>è¿›ç¨‹ä¸­åŒ…å«æœªå¤„äºå‰å°ä½†ä»ç„¶å¯è§çš„activity(è°ƒç”¨äº†activityçš„onPause()æ–¹æ³•ï¼Œä½†æ²¡æœ‰è°ƒç”¨onStop()æ–¹æ³•)<br>ï¼Œå…¸å‹çš„æƒ…å†µæ˜¯è¿è¡Œactivityæ˜¯å¼¹å‡ºå¯¹è¯æ¡†ï¼Œæ­¤æ—¶çš„activityè™½ç„¶ä¸æ˜¯å‰å°activityï¼Œä½†ä»ç„¶å¯è§</li><li>è¿›ç¨‹ä¸­åŒ…å«ä¸å¯è§activityç»‘å®šçš„service<br>å¯è§†è¿›ç¨‹ä¸ä¼šè¢«ç³»ç»Ÿæ€æ­»ï¼Œé™¤éä¸ºäº†ä¿è¯å‰å°è¿›ç¨‹ä¸å¾—å·²è€Œä¸ºä¹‹</li></ul></li><li>æœåŠ¡è¿›ç¨‹<ul><li>è¿›ç¨‹ä¸­åŒ…å«å·²å¯åŠ¨çš„service</li></ul></li><li>åå°è¿›ç¨‹<br>è¿›ç¨‹ä¸­åŒ…å«ä¸å¯è§çš„activity(onStop()æ–¹æ³•è°ƒç”¨åçš„activity)ï¼Œåå°è¿›ç¨‹ä¸ä¼šç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒï¼Œä¸ºäº†ä¿è¯å‰å°è¿›ç¨‹/å¯è§†è¿›ç¨‹/æœåŠ¡è¿›ç¨‹çš„è¿è¡Œï¼Œç³»ç»Ÿéšæ—¶éƒ½å¯èƒ½æ€æ­»ä¸€ä¸ªåå°è¿›ç¨‹ï¼Œä¸€ä¸ªæ­£ç¡®çš„å®ç°äº†ç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„activityå¤„äºåå°æ—¶è¢«ç³»ç»Ÿæ€æ­»ï¼Œå¯ä»¥åœ¨ç”¨æˆ·é‡æ–°å¯åŠ¨å®ƒæ—¶æ¢å¤ä¹‹å‰çš„è¿è¡ŒçŠ¶æ€</li><li>ç©ºè¿›ç¨‹<br>ä¸åŒ…å«ä»»ä½•å¤„äºæ´»åŠ¨çŠ¶æ€çš„è¿›ç¨‹æ˜¯ä¸€ä¸ªç©ºè¿›ç¨‹ï¼Œç³»ç»Ÿè¿›ç¨‹æ€æ­»ç©ºè¿›ç¨‹ã€‚è¿™ä¸ä¼šé€ æˆä»»ä½•å½±å“ï¼Œç©ºè¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€ç†ç”±æ˜¯ä¸ºäº†ç¼“å­˜ä¸€äº›å¯åŠ¨æ•°æ®ï¼Œä»¥ä¾¿ä¸‹æ¬¡æ›´å¿«çš„å¯åŠ¨ã€‚</li></ul><h3 id="è¿›ç¨‹ä¼˜å…ˆçº§çš„é¢å¤–è¯´æ˜"><a class="header-anchor" href="#è¿›ç¨‹ä¼˜å…ˆçº§çš„é¢å¤–è¯´æ˜">Â¶</a>è¿›ç¨‹ä¼˜å…ˆçº§çš„é¢å¤–è¯´æ˜</h3><p>1.ç³»ç»Ÿä¼šèµ‹äºˆè¿›ç¨‹å°½å¯èƒ½é«˜çš„ä¼˜å…ˆçº§. ä¾‹å¦‚ä¸€ä¸ªè¿›ç¨‹æ—¢åŒ…å«å·²å¯åŠ¨çš„service, ä¹ŸåŒ…å«å‰å°activity, åˆ™è¿™ä¸ªè¿›ç¨‹ä¼šè¢«è§†ä¸ºå‰å°è¿›ç¨‹ã€‚<br></p><p>2.ç”±äºç»„ä»¶ä¹‹é—´çš„ä¾èµ–æ€§, è¿›ç¨‹çš„ä¼˜å…ˆçº§æœ‰å¯èƒ½è¢«æé«˜. å‡å¦‚è¿›ç¨‹AæœåŠ¡äºè¿›ç¨‹B, åˆ™è¿›ç¨‹Açš„ä¼˜å…ˆçº§ä¸èƒ½ä½äºè¿›ç¨‹B. æ¯”å¦‚, è¿›ç¨‹Açš„ContentProviderç»„ä»¶æ­£åœ¨æœåŠ¡äºè¿›ç¨‹Bçš„æŸä¸ªç»„ä»¶, æˆ–è€…è¿›ç¨‹Açš„serviceç»„ä»¶å’Œè¿›ç¨‹Bçš„æŸä¸ªç»„ä»¶ç»‘å®šç­‰, è¿™äº›æƒ…å†µä¸‹, è¿›ç¨‹Açš„ä¼˜å…ˆçº§éƒ½ä¸ä¼šä½äºè¿›ç¨‹B(å¦‚æœæŒ‰ç…§ä¼˜å…ˆçº§è§„åˆ™, è¿›ç¨‹Açš„ä¼˜å…ˆçº§ç¡®å®ä½äºè¿›ç¨‹B, åˆ™ç³»ç»Ÿä¼šé€‰æ‹©æé«˜è¿›ç¨‹Açš„ä¼˜å…ˆçº§åˆ°å’Œè¿›ç¨‹Bç›¸åŒ)ã€‚<br></p><p>3.ç”±äºæœåŠ¡è¿›ç¨‹çš„ä¼˜å…ˆçº§é«˜äºåå°è¿›ç¨‹, å› æ­¤å¦‚æœactivityéœ€è¦æ‰§è¡Œè€—æ—¶æ“ä½œ, æœ€å¥½è¿˜æ˜¯å¯åŠ¨ä¸€ä¸ªserviceæ¥å®Œæˆ. å½“ç„¶, åœ¨activityä¸­å¯åŠ¨å­çº¿ç¨‹å®Œæˆè€—æ—¶æ“ä½œä¹Ÿå¯ä»¥, ä½†æ˜¯è¿™æ ·åšçš„ç¼ºç‚¹åœ¨äº, ä¸€æ—¦activityä¸å†å¯è§, activityæ‰€åœ¨çš„è¿›ç¨‹æˆä¸ºåå°è¿›ç¨‹, è€Œå†…å­˜ä¸è¶³æ—¶åå°è¿›ç¨‹éšæ—¶éƒ½æœ‰å¯èƒ½è¢«ç³»ç»Ÿæ€æ­»(ä½†æ˜¯å¯åŠ¨serviceå®Œæˆè€—æ—¶æ“ä½œä¼šå¸¦æ¥æ•°æ®äº¤äº’çš„é—®é¢˜, æ¯”å¦‚è€—æ—¶æ“ä½œéœ€è¦å®æ—¶æ›´æ–°UIæ§ä»¶çš„çŠ¶æ€çš„è¯, serviceå°±ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©). åŸºäºåŒæ ·çš„è€ƒè™‘, åœ¨BroadcastReceiverä¸­ä¹Ÿä¸åº”è¯¥æ‰§è¡Œè€—æ—¶æ“ä½œ, è€Œåº”è¯¥å¯åŠ¨serviceæ¥å®Œæˆ(å½“ç„¶, BroadcastReceiverçš„ç”Ÿå‘½å‘¨æœŸè¿‡äºçŸ­æš‚, ä¹Ÿå†³å®šäº†ä¸èƒ½åœ¨å…¶ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œ).</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>å°æ„Ÿæ‚Ÿ</title>
      <link href="/2017/07/29/%E5%B0%8F%E6%84%9F%E6%82%9F/"/>
      <url>/2017/07/29/%E5%B0%8F%E6%84%9F%E6%82%9F/</url>
      <content type="html"><![CDATA[<p><img src="http://oziqlv1ur.bkt.clouddn.com/%E5%B0%8F%E6%84%9F%E6%82%9F.jpg" alt="å°æ„Ÿæ‚Ÿ"></p><p>Â Â Â Â Â Â Â Â ä»Šå¤©çœ‹äº†VoidKingçš„åšå®¢ï¼Œæœ‰ä¸€äº›è‡ªå·±çš„æ„Ÿæ‚Ÿå§ï¼Œè°ˆä¸ä¸Šå¾ˆæ·±ï¼Œä½†ç»å¯¹æ˜¯è§¦åŠ¨äº†è‡ªå·±ã€‚<br><br>çœ‹åˆ°ä¸€äº›å¥å­ï¼š<br><br>Â Â Â Â Â Â Â Â å¥½çš„çˆ±æƒ…ï¼Œå…¶å®æœ€ç»ˆå¾—åˆ°çš„æ˜¯å¿ƒçµçš„ä¼‘æ¯ï¼Œæ²¡æœ‰ç´§å¼ ã€æ— é¡»è®¨å¥½ã€æ”¾æ‰é¢å…·ï¼Œä¸¤ä¸ªäººéƒ½èƒ½è¸å®åšè‡ªå·±ï¼Œè€Œä¸”ä»ä¸æ‹…å¿ƒå¯¹æ–¹ä¸èƒ½å®Œå…¨æ¥çº³è‡ªå·±çœŸå®çš„æ ·å­ï¼Œåœ¨æ¬£æ¬£ç„¶çš„æ”¾æ¾å’Œå–œæ»‹æ»‹çš„ç»™äºˆä¸­ï¼Œè·å¾—çŠ¹å¦‚å……ç”µèˆ¬çš„çˆ±çš„èƒ½é‡â€¦â€¦é‚£æ˜¯ä¸¤é¢—äº’ç›¸æ‡‚å¾—çš„å¿ƒå½¼æ­¤æ‰¾åˆ°äº†çœŸæ­£çš„å½’å®¿ã€‚â€”â€”é’éŸ³<br></p><a id="more"></a><p>Â Â Â Â Â Â Â Â æ„Ÿæ‚Ÿï¼šå…¶å®æ— è®ºçˆ±æƒ…çš„ä»€ä¹ˆé˜¶æ®µï¼Œæœ€ç»ˆéƒ½æ˜¯å¿ƒçµçš„æ –æ¯ï¼Œåœ¨çˆ±äººé¢å‰å±•ç°çš„æ˜¯æœ€çœŸå®çš„è‡ªå·±ï¼Œä¸è®ºæ˜¯ä¸å–„è¨€è°ˆï¼Œè¿˜æ˜¯è°ˆå¤©è¯´åœ°ï¼Œéƒ½æ˜¯ä¸¤ä¸ªäººæœ€æœ¬çœŸçš„è¡¨è¾¾ï¼Œå…¶å®æ²¡æœ‰ä»€ä¹ˆä¼šè§‰å¾—æ— èŠï¼Œåªæ˜¯åœ¨æœ€äº²è¿‘çš„äººçš„é¢å‰ï¼Œæ‰€è¡¨ç°å‡ºæ¥çš„è‡ªå·±ï¼Œæ‰æ˜¯æœ€ä¸ºè‡ªç„¶ï¼Œæœ€ä¸ºçœŸæŒšçš„æƒ…æ„Ÿä¸ç»†èŠ‚ï¼Œæ²¡æœ‰ç´§å¼ ï¼Œæ— éœ€è®¨å¥½ï¼ŒçœŸçš„æ˜¯ä¸¤é¢—äº’ç›¸æ‡‚å¾—çš„å¿ƒï¼Œå½¼æ­¤æ‰¾åˆ°äº†çœŸæ­£çš„å½’å®¿ã€‚<br><br>Â Â Â Â Â Â Â Â è¯æ˜ç›¸çˆ±çš„æœ€å¥½åŠæ³•å°±æ˜¯åˆ†å¼€ï¼Œéš¾è¿‡äº†ï¼Œæ€å¿µäº†ï¼Œé‚£å°±æ˜¯çœŸçˆ±ï¼Œå°±æ€»ä¼šæœ‰é‡è§çš„é‚£å¤©ã€‚<br><br>Â Â Â Â Â Â Â Â æ„Ÿæ‚Ÿï¼šå¦‚æœä¼šé‡è§ï¼Œé‚£å°±æ˜¯ä¸€è¾ˆå­äº†å§ã€‚<br><br>â€œå½“ä½ ä¸å»æ—…è¡Œï¼Œä¸å»å†’é™©ï¼Œä¸å»æ‹¼ä¸€ä»½å¥–å­¦é‡‘ï¼Œä¸è¿‡æ²¡è¯•è¿‡çš„ç”Ÿæ´»ï¼Œæ•´å¤©æŒ‚ç€QQï¼Œåˆ·ç€å¾®åšï¼Œé€›ç€æ·˜å®ï¼Œç©ç€ç½‘æ¸¸ã€‚å¹²ç€æˆ‘80å²éƒ½èƒ½åšçš„äº‹ï¼Œä½ è¦é’æ˜¥å¹²å˜›ï¼Ÿâ€<br>Â Â Â Â Â Â Â Â æ„Ÿæ‚Ÿ:æ›¾ç»çš„è‡ªå·±ä¹Ÿæ˜¯è¿™æ ·æƒ³çš„ï¼Œä½†éšç€æ…¢æ…¢æ¥è§¦çš„æ›´å¤šï¼Œå¿ƒæƒ…å˜å¾—è¶Šæ¥è¶Šæµ®èºï¼Œè¿™ä¸ªç¹åçš„ä¸–ç•Œï¼ŒæŠŠè‡ªå·±æå¾—ä¸€å›¢ç³Ÿï¼Œå…¶å®ä¸èƒ½è¯´æ˜¯å®Œå…¨çš„é€€æ­¥ï¼Œæ›´å› è¯¥è¯´è‡ªå·±å¯¹äºâ€œæ”¹å˜â€è¿™ä¸ªè¯çš„è®¤è¯†è¿˜ä¸å¤Ÿï¼Œæ”¹å˜çš„åº”è¯¥æ˜¯é¢å¯¹ä»»ä½•äº‹ç‰©çš„é™ˆæ—§çš„è§‚å¿µï¼Œè¦æ¥å—æ–°äº‹ç‰©æœ‰äº›æ—§çš„ä¸œè¥¿ï¼Œå¯ä»¥è¯´æ˜¯è™½ç„¶æ—§ï¼Œä½†çœŸçš„æ˜¯è¿‡å»çš„è‡ªå·±å¼•ä»¥ä¸ºå‚²çš„çš„ä¸œè¥¿ï¼Œè¿™äº›ä¸œè¥¿å¹¶ä¸èƒ½èˆå¼ƒï¼Œè¦èˆå¼ƒçš„æ˜¯å¹´å°‘æ— çŸ¥è€Œå…»æˆçš„ä¹ æƒ¯æˆ–è€…æ˜¯ç”Ÿæ´»æ–¹å¼ã€‚è¦æ˜¯ç°åœ¨å’Œåˆ«äººåšçš„ä¸€æ ·çš„äº‹æƒ…ï¼Œé‚£ä»¥åç”¨ä»€ä¹ˆèµ„æœ¬å»å’Œä»–ä»¬æ‹¼ã€‚å¯èƒ½é’æ˜¥éœ€è¦ç–¯ç‹‚ï¼Œä½†é’æ˜¥çš„ç–¯ç‹‚ç»å¯¹ä¸æ˜¯ï¼Œè°ˆä¸€åœºè½°è½°çƒˆçƒˆçš„æ‹çˆ±ï¼Œä¹Ÿç»å¯¹ä¸æ˜¯åšä¸€ä»¶è®©æ‰€æœ‰äººéƒ½å¹ä¸ºè§‚æ­¢çš„è½°ç„¶ä¸¾åŠ¨ï¼Œè€Œæ˜¯å»è¿‡æ²¡æœ‰è¯•è¿‡çš„ç”Ÿæ´»ï¼Œè¿™æ˜¯ä¸€ç§è®©ä½ å˜å¾—æ›´åŠ ä¼˜ç§€çš„ç”Ÿæ´»ã€‚</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ€æƒ³ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ç®—æ³•</title>
      <link href="/2017/07/28/%E7%AE%97%E6%B3%95/"/>
      <url>/2017/07/28/%E7%AE%97%E6%B3%95/</url>
      <content type="html"><![CDATA[<h5 id="äºŒåˆ†æŸ¥æ‰¾æ³•"><a class="header-anchor" href="#äºŒåˆ†æŸ¥æ‰¾æ³•">Â¶</a>äºŒåˆ†æŸ¥æ‰¾æ³•</h5><p>å¯¹äºä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œæˆ‘ä»¬é€šå¸¸é‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼æ¥å®šä½æŸä¸€å…ƒç´ ï¼Œè¯·ç¼–å†™äºŒåˆ†æŸ¥æ‰¾çš„ç®—æ³•ï¼Œåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾æŒ‡å®šå…ƒç´ ã€‚<br>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„AåŠå®ƒçš„å¤§å°nï¼ŒåŒæ—¶ç»™å®šè¦æŸ¥æ‰¾çš„å…ƒç´ valï¼Œè¯·è¿”å›å®ƒåœ¨æ•°ç»„ä¸­çš„ä½ç½®(ä»0å¼€å§‹)ï¼Œè‹¥ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œ<br>è¿”å›-1ã€‚è‹¥è¯¥å…ƒç´ å‡ºç°å¤šæ¬¡ï¼Œè¯·è¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</p><a id="more"></a><p>æµ‹è¯•æ ·ä¾‹ï¼š</p><blockquote><p>[1,3,5,7,9],5,3</p></blockquote><blockquote><p>è¿”å› ï¼š 1</p></blockquote><p>è§£ç­”ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">public class BinarySearch &#123;</span><br><span class="line">    public int getPos(int[] A, int n, int val) &#123;</span><br><span class="line">        // å› ä¸ºå·²æ˜¯æœ‰åºæ•°ç»„ï¼Œæ‰€ä»¥ä¸å¿…æ’åº</span><br><span class="line">        int low=0,high=n-1,mid;</span><br><span class="line">while(low&lt;=high)&#123;</span><br><span class="line">mid=(low+high)/2;</span><br><span class="line">if(val&lt;A[mid])&#123;</span><br><span class="line">high=mid-1;</span><br><span class="line">&#125;else if(val&gt;A[mid])&#123;</span><br><span class="line">low=mid+1;</span><br><span class="line"></span><br><span class="line">&#125;else &#123;</span><br><span class="line">          //å¤„ç†ä¸¤ä¸ªç›¸é‚»å…ƒç´ ç›¸ç­‰æƒ…å†µ</span><br><span class="line">                    if(mid&gt;0&amp;&amp;A[mid]==A[mid-1])</span><br><span class="line">                    return mid-1;</span><br><span class="line">                    else return mid;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return -1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">          int[] A=&#123;1,2,4,4,5,5,6&#125;;</span><br><span class="line">          n=a.length;</span><br><span class="line">          val=5;</span><br><span class="line"> int result=getPos(A, n, val);</span><br><span class="line">System.out.println(result);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ä¸–ç•Œä¸Šæœ‰10ç§äºº-ä¸€ç§æ‡‚äºŒè¿›åˆ¶-ä¸€ç§ä¸æ‡‚-é‚£ä¹ˆä½ çŸ¥é“ä¸¤ä¸ªint32æ•´æ•°må’Œnçš„äºŒè¿›åˆ¶è¡¨è¾¾-æœ‰å¤šå°‘ä¸ªä½-bit-ä¸åŒä¹ˆï¼Ÿ"><a class="header-anchor" href="#ä¸–ç•Œä¸Šæœ‰10ç§äºº-ä¸€ç§æ‡‚äºŒè¿›åˆ¶-ä¸€ç§ä¸æ‡‚-é‚£ä¹ˆä½ çŸ¥é“ä¸¤ä¸ªint32æ•´æ•°må’Œnçš„äºŒè¿›åˆ¶è¡¨è¾¾-æœ‰å¤šå°‘ä¸ªä½-bit-ä¸åŒä¹ˆï¼Ÿ">Â¶</a>ä¸–ç•Œä¸Šæœ‰10ç§äººï¼Œä¸€ç§æ‡‚äºŒè¿›åˆ¶ï¼Œä¸€ç§ä¸æ‡‚ã€‚é‚£ä¹ˆä½ çŸ¥é“ä¸¤ä¸ªint32æ•´æ•°må’Œnçš„äºŒè¿›åˆ¶è¡¨è¾¾ï¼Œæœ‰å¤šå°‘ä¸ªä½(bit)ä¸åŒä¹ˆï¼Ÿ</h5><p>public class Solution {<br>public static int countBitDiff(int m, int n) {<br>int k = m ^ n; //å…ˆå°†äºŒè€…åšå¼‚æˆ–è¿ç®—ï¼Œå¾—åˆ°ç»“æœï¼›<br>int num = 0;<br>while(k&gt;0)<br>{                  //ç»Ÿè®¡ä¸€ä¸ªæ•´æ•°kå«æœ‰å¤šå°‘ä¸ª1ï¼›<br>k &amp;= (k-1);<br>num++;<br>}<br>return num;<br>}</p><pre><code>public static void main(String[] args) {    int b=count(1999,2299);System.out.println(&quot;-----&quot;+b);}</code></pre><p>}</p><p>ä¸¾ä¸ªä¾‹å­ï¼šå‡å¦‚ä¼ å…¥æ•°æ®count(5,3);</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">        åè¿›åˆ¶     äºŒè¿›åˆ¶</span><br><span class="line">         5        0 1 0 1</span><br><span class="line">      ^                      ä½å¼‚æˆ–:å¯¹åº”ä½ç›¸åä¸ºä¸€ï¼Œç›¸åŒä¸º0    </span><br><span class="line">         3        0 0 1 1</span><br><span class="line">      - - - - - - - - - - - -</span><br><span class="line">         6        0 1 1 0</span><br><span class="line">n=1   &amp;                      ä¸è¿ç®—ï¼šå¯¹åº”ä½éƒ½ä¸º1ï¼Œåˆ™ç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0</span><br><span class="line">         5        0 1 0 1</span><br><span class="line">      - - - - - - - - - - - -</span><br><span class="line">         4        0 1 0 0</span><br><span class="line">n=2   &amp;                      ä¸è¿ç®—ï¼šå¯¹åº”ä½éƒ½ä¸º1ï¼Œåˆ™ç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0</span><br><span class="line">         3        0 0 1 1</span><br><span class="line">      - - - - - - - - - - - -</span><br><span class="line">         0        0 0 0 0</span><br><span class="line"></span><br><span class="line">      å½“ç„¶ç»“æœä¸º2äº†ã€‚</span><br></pre></td></tr></table></figure><p>#####åˆ†æä¸€ä¸‹ä»£ç ï¼š</p><p>å¦‚æœä¸€ä¸ªæ•´æ•°ä¸ä¸º0ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•´æ•°è‡³å°‘æœ‰ä¸€ä½æ˜¯1ã€‚å¦‚æœæˆ‘ä»¬æŠŠè¿™ä¸ªæ•´æ•°å‡1ï¼Œé‚£ä¹ˆåŸæ¥å¤„åœ¨æ•´æ•°æœ€å³è¾¹çš„1å°±ä¼šå˜ä¸º0ï¼ŒåŸæ¥åœ¨1åé¢çš„æ‰€æœ‰çš„0éƒ½ä¼šå˜æˆ1(å¦‚æœæœ€å³è¾¹çš„1åé¢è¿˜æœ‰0çš„è¯)ã€‚å…¶ä½™æ‰€æœ‰ä½å°†ä¸ä¼šå—åˆ°å½±å“ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼šä¸€ä¸ªäºŒè¿›åˆ¶æ•°1100ï¼Œä»å³è¾¹æ•°èµ·ç¬¬ä¸‰ä½æ˜¯å¤„äºæœ€å³è¾¹çš„ä¸€ä¸ª1ã€‚å‡å»1åï¼Œç¬¬ä¸‰ä½å˜æˆ0ï¼Œå®ƒåé¢çš„ä¸¤ä½0å˜æˆäº†1ï¼Œè€Œå‰é¢çš„1ä¿æŒä¸å˜ï¼Œå› æ­¤å¾—åˆ°çš„ç»“æœæ˜¯1011.æˆ‘ä»¬å‘ç°å‡1çš„ç»“æœæ˜¯æŠŠæœ€å³è¾¹çš„ä¸€ä¸ª1å¼€å§‹çš„æ‰€æœ‰ä½éƒ½å–åäº†ã€‚è¿™ä¸ªæ—¶å€™å¦‚æœæˆ‘ä»¬å†æŠŠåŸæ¥çš„æ•´æ•°å’Œå‡å»1ä¹‹åçš„ç»“æœåšä¸è¿ç®—ï¼Œä»åŸæ¥æ•´æ•°æœ€å³è¾¹ä¸€ä¸ª1é‚£ä¸€ä½å¼€å§‹æ‰€æœ‰ä½éƒ½ä¼šå˜æˆ0ã€‚å¦‚1100&amp;1011=1000.ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠä¸€ä¸ªæ•´æ•°å‡å»1ï¼Œå†å’ŒåŸæ•´æ•°åšä¸è¿ç®—ï¼Œä¼šæŠŠè¯¥æ•´æ•°æœ€å³è¾¹ä¸€ä¸ª1å˜æˆ0.é‚£ä¹ˆä¸€ä¸ªæ•´æ•°çš„äºŒè¿›åˆ¶æœ‰å¤šå°‘ä¸ª1ï¼Œå°±å¯ä»¥è¿›è¡Œå¤šå°‘æ¬¡è¿™æ ·çš„æ“ä½œã€‚</p><p>ps : è®¡ç®—æœºåŸºç¡€ï¼ŒäºŒè¿›åˆ¶å‡æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   1 1 0 0 0 0                      1 2 0 0 0</span><br><span class="line">-    1 0 1 1 1            ç±»æ¯”        3 9 9 9  </span><br><span class="line">- - - - - - - -         &lt;-----    - - - - - - - -</span><br><span class="line">     1 1 0 0 1                        8 0 0 1</span><br></pre></td></tr></table></figure><h4 id="çŸ¥è¯†ç‚¹è¡¥å……"><a class="header-anchor" href="#çŸ¥è¯†ç‚¹è¡¥å……">Â¶</a>çŸ¥è¯†ç‚¹è¡¥å……</h4><p>Java ä½è¿ç®—(ç§»ä½ã€ä½ä¸ã€æˆ–ã€å¼‚æˆ–ã€é)</p><h5 id="javaæä¾›çš„ä½è¿ç®—ç¬¦æœ‰ï¼šå·¦ç§»-å³ç§»-æ— ç¬¦å·å³ç§»-ä½ä¸-ä½æˆ–-ä½é-ä½å¼‚æˆ–-é™¤äº†ä½é-æ˜¯ä¸€å…ƒæ“ä½œç¬¦å¤–-å…¶å®ƒçš„éƒ½æ˜¯äºŒå…ƒæ“ä½œç¬¦"><a class="header-anchor" href="#javaæä¾›çš„ä½è¿ç®—ç¬¦æœ‰ï¼šå·¦ç§»-å³ç§»-æ— ç¬¦å·å³ç§»-ä½ä¸-ä½æˆ–-ä½é-ä½å¼‚æˆ–-é™¤äº†ä½é-æ˜¯ä¸€å…ƒæ“ä½œç¬¦å¤–-å…¶å®ƒçš„éƒ½æ˜¯äºŒå…ƒæ“ä½œç¬¦">Â¶</a>Javaæä¾›çš„ä½è¿ç®—ç¬¦æœ‰ï¼šå·¦ç§»( &lt;&lt; )ã€å³ç§»( &gt;&gt; ) ã€æ— ç¬¦å·å³ç§»( &gt;&gt;&gt; ) ã€ä½ä¸( &amp; ) ã€ä½æˆ–( | )ã€ä½é( ~ )ã€ä½å¼‚æˆ–( ^ )ï¼Œé™¤äº†ä½é( ~ )æ˜¯ä¸€å…ƒæ“ä½œç¬¦å¤–ï¼Œå…¶å®ƒçš„éƒ½æ˜¯äºŒå…ƒæ“ä½œç¬¦ã€‚</h5><ol><li>å·¦ç§»( &lt;&lt; )</li></ol><p>Test1ã€å°†5å·¦ç§»2ä½ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[java]</span><br><span class="line">package com.xcy;</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">Â  Â public static void main(String[] args) &#123;</span><br><span class="line">Â  Â  Â  Â System.out.println(5&lt;&lt;2);//è¿è¡Œç»“æœæ˜¯20</span><br><span class="line">Â  Â &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœæ˜¯20ï¼Œä½†æ˜¯ç¨‹åºæ˜¯æ€æ ·æ‰§è¡Œçš„å‘¢ï¼Ÿ<br>é¦–å…ˆä¼šå°†5è½¬ä¸º2è¿›åˆ¶è¡¨ç¤ºå½¢å¼(javaä¸­ï¼Œæ•´æ•°é»˜è®¤å°±æ˜¯intç±»å‹,ä¹Ÿå°±æ˜¯32ä½):<br>0000 0000 0000 0000 0000 0000 0000 0101 Â  Â  Â  Â  Â  ç„¶åå·¦ç§»2ä½åï¼Œä½ä½è¡¥0ï¼š<br>0000 0000 0000 0000 0000 0000 0001 0100 Â  Â  Â  Â  Â  æ¢ç®—æˆ10è¿›åˆ¶ä¸º20</p><ol start="2"><li>å³ç§»( &gt;&gt; ) ï¼Œå³ç§»åŒç†ï¼Œåªæ˜¯æ–¹å‘ä¸ä¸€æ ·ç½¢äº†(æ„Ÿè§‰å’Œæ²¡è¯´ä¸€æ ·)<br>[java]<br>System.out.println(5&gt;&gt;2);//è¿è¡Œç»“æœæ˜¯1<br>è¿˜æ˜¯å…ˆå°†5è½¬ä¸º2è¿›åˆ¶è¡¨ç¤ºå½¢å¼ï¼š<br>0000 0000 0000 0000 0000 0000 0000 0101 ç„¶åå³ç§»2ä½ï¼Œé«˜ä½è¡¥0ï¼š<br>0000 0000 0000 0000 0000 0000 0000 0001</li><li>æ— ç¬¦å·å³ç§»( &gt;&gt;&gt; )<br>æˆ‘ä»¬çŸ¥é“åœ¨Javaä¸­intç±»å‹å 32ä½ï¼Œå¯ä»¥è¡¨ç¤ºä¸€ä¸ªæ­£æ•°ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºä¸€ä¸ªè´Ÿæ•°ã€‚æ­£æ•°æ¢ç®—æˆäºŒè¿›åˆ¶åçš„æœ€é«˜ä½ä¸º0ï¼Œè´Ÿæ•°çš„äºŒè¿›åˆ¶æœ€é«˜ä¸ºä¸º1<br>ä¾‹å¦‚ Â -5æ¢ç®—æˆäºŒè¿›åˆ¶åä¸ºï¼š<br>1111 1111 1111 1111 1111 1111 1111 1011 Â  (åˆšå¼€å§‹æ¥è§¦äºŒè¿›åˆ¶æ—¶ï¼Œä¸çŸ¥é“æœ€é«˜ä½æ˜¯ç”¨æ¥è¡¨ç¤ºæ­£è´Ÿä¹‹åˆ†çš„ï¼Œå½“æ—¶å°±æ€»æƒ³ä¸é€šã€‚ã€‚æ˜æ˜ç®—èµ·æ¥å¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ªæ­£æ•°-_-)<br>æˆ‘ä»¬åˆ†åˆ«å¯¹5è¿›è¡Œå³ç§»3ä½ã€ -5è¿›è¡Œå³ç§»3ä½å’Œæ— ç¬¦å·å³ç§»3ä½ï¼š</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[java]</span><br><span class="line">package com.xcy;</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">Â  Â public static void main(String[] args) &#123;</span><br><span class="line">Â  Â  Â  Â System.out.println(5&gt;&gt;3);//ç»“æœæ˜¯0</span><br><span class="line">Â  Â  Â  Â System.out.println(-5&gt;&gt;3);//ç»“æœæ˜¯-1</span><br><span class="line">Â  Â  Â  Â System.out.println(-5&gt;&gt;&gt;3);//ç»“æœæ˜¯536870911</span><br><span class="line">Â  Â &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒçš„ç§»ä½è¿‡ç¨‹(å¯ä»¥é€šè¿‡å…¶ç»“æœæ¢ç®—æˆäºŒè¿›åˆ¶è¿›è¡Œå¯¹æ¯”)ï¼š</p><p>5æ¢ç®—æˆäºŒè¿›åˆ¶ï¼š</p><p>0000 0000 0000 0000 0000 0000 0000 0101</p><p>5å³ç§»3ä½åç»“æœä¸º0ï¼Œ0çš„äºŒè¿›åˆ¶ä¸ºï¼š</p><p>0000 0000 0000 0000 0000 0000 0000 0000 Â  Â  Â  Â // (ç”¨0è¿›è¡Œè¡¥ä½)</p><p>-5æ¢ç®—æˆäºŒè¿›åˆ¶ï¼š</p><p>1111 1111 1111 1111 1111 1111 1111 1011</p><p>-5å³ç§»3ä½åç»“æœä¸º-1ï¼Œ-1çš„äºŒè¿›åˆ¶ä¸ºï¼š</p><p>1111 1111 1111 1111 1111 1111 1111 1111 Â  // (ç”¨1è¿›è¡Œè¡¥ä½)</p><p>-5æ— ç¬¦å·å³ç§»3ä½åçš„ç»“æœ 536870911 æ¢ç®—æˆäºŒè¿›åˆ¶ï¼š<br>0001 1111 1111 1111 1111 1111 1111 1111 Â  // (ç”¨0è¿›è¡Œè¡¥ä½)</p><p>é€šè¿‡å…¶ç»“æœè½¬æ¢æˆäºŒè¿›åˆ¶åï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæ­£æ•°å³ç§»ï¼Œé«˜ä½ç”¨0è¡¥ï¼Œè´Ÿæ•°å³ç§»ï¼Œé«˜ä½ç”¨1è¡¥ï¼Œå½“è´Ÿæ•°<br>ä½¿ç”¨æ— ç¬¦å·å³ç§»æ—¶ï¼Œç”¨0è¿›è¡Œéƒ¨ä½(è‡ªç„¶è€Œç„¶çš„ï¼Œå°±ç”±è´Ÿæ•°å˜æˆäº†æ­£æ•°äº†)<br>æ³¨æ„ï¼šç¬”è€…åœ¨è¿™é‡Œè¯´çš„æ˜¯å³ç§»ï¼Œé«˜ä½è¡¥ä½çš„æƒ…å†µã€‚æ­£æ•°æˆ–è€…è´Ÿæ•°å·¦ç§»ï¼Œä½ä½éƒ½æ˜¯ç”¨0è¡¥ã€‚(è‡ªè¡Œæµ‹è¯•)</p><h5 id="æœ€å-äºŒè¿›åˆ¶çš„è¿ç®—"><a class="header-anchor" href="#æœ€å-äºŒè¿›åˆ¶çš„è¿ç®—">Â¶</a>æœ€åï¼ŒäºŒè¿›åˆ¶çš„è¿ç®—</h5><p>å‚è€ƒ(<a href="http://www.chinatax.gov.cn/jypx/jsjjczs/multiply.htm" target="_blank" rel="noopener">http://www.chinatax.gov.cn/jypx/jsjjczs/multiply.htm</a>)</p><h5 id="æŠ½è±¡ç±»-ä¸-æ¥å£"><a class="header-anchor" href="#æŠ½è±¡ç±»-ä¸-æ¥å£">Â¶</a>æŠ½è±¡ç±» ä¸ æ¥å£</h5><ul><li>æŠ½è±¡ç±»ï¼šç”¨abstractä¿®é¥°ï¼ŒæŠ½è±¡ç±»ä¸­å¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ï¼Œä½†æŠ½è±¡æ–¹æ³•è‚¯å®šåœ¨æŠ½è±¡ç±»ä¸­ï¼Œä¸”æŠ½è±¡æ–¹æ³•å®šä¹‰æ—¶ä¸èƒ½æœ‰æ–¹æ³•ä½“ï¼›æŠ½è±¡ç±»ä¸å¯ä»¥å®ä¾‹åŒ–åªèƒ½é€šè¿‡ç»§æ‰¿åœ¨å­ç±»ä¸­å®ç°å…¶æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•ï¼›æŠ½è±¡ç±»å¦‚æœä¸è¢«ç»§æ‰¿å°±æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼›æŠ½è±¡ç±»ä¸ºå­ç±»å®šä¹‰äº†ä¸€ä¸ªå…¬å…±ç±»å‹ï¼Œå°è£…äº†å­ç±»ä¸­çš„é‡å¤å†…å®¹ã€‚</li><li>æ¥å£:åŒInterfaceå…³é”®å­—å®šä¹‰æ¥å£ï¼Œæ˜¯ç‰¹æ®Šçš„æŠ½è±¡ç±»å› ä¸ºç±»ä¸­åªåŒ…å«æŠ½è±¡æ–¹æ³•ï¼›æ¥å£ä¸­ä¸èƒ½å®šä¹‰æˆå‘˜å˜é‡å¯ä»¥å®šä¹‰å¸¸é‡ï¼›æ¥å£æ˜¯å…¶é€šè¿‡å…¶ä»–ç±»ä½¿ç”¨implementså…³é”®å­—å®šä¹‰å®ç°ç±»ï¼Œä¸€ä¸ªç±»ä¸€æ—¦å®ç°æ¥å£å°±å¿…é¡»å®ç°å…¶ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼Œä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œæ¥å£åä¹‹é—´ç”¨é€—å·éš”å¼€å³å¯ï¼›ä¸€ä¸ªæ¥å£å¯ä»¥é€šè¿‡extendså…³é”®å­—ç»§æ‰¿å¦ä¸€ä¸ªæ¥å£ï¼Œä¸æ­¤åŒæ—¶ç»§æ‰¿äº†çˆ¶ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•ã€‚</li></ul>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>æ•°æ®ç»“æ„</title>
      <link href="/2017/07/27/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
      <url>/2017/07/27/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
      <content type="html"><![CDATA[<ol><li>æ’åºï¼š</li></ol><p>æ¦‚å¿µï¼šå°†ä¸€ä¸ªæ•°æ®å…ƒç´ (æˆ–è®°å½•)çš„ä»»æ„åºåˆ—ï¼Œé‡æ–°æ’åˆ—æˆä¸€ä¸ªæŒ‰å…³é”®å­—æœ‰åºçš„åºåˆ—ã€‚</p><p>åˆ†ç±»ï¼š</p><ul><li>å†…éƒ¨æ’åºå’Œ</li><li>å¤–éƒ¨æ’åº(æ•°æ®é‡å¤§æ—¶ï¼Œéœ€è¦å°†æ•°æ®ä»å†…å­˜è°ƒåˆ°å¤–å­˜)</li></ul><a id="more"></a><p>æ’åºçš„æ€§è´¨ï¼š</p><ul><li>ç¨³å®šæ’åº</li><li>ä¸ç¨³å®šæ’åºï¼ˆæŸä¸ªç®—æ³•è§„å®ša&gt;b,åœ¨æ’åºè¿‡ç¨‹ä¸­å§‹ç»ˆa&gt;bï¼‰</li></ul><p>å¸¸ç”¨å†…éƒ¨æ’åºï¼š</p><ul><li>æ’å…¥æ’åºï¼š(æŒ‰æŸ¥æ‰¾çš„æ–¹å¼ä¸åŒ)ç›´æ¥æ’å…¥æ’åºã€æŠ˜åŠæ’å…¥æ’åºã€2è·¯æ’å…¥æ’åºã€è¡¨æ’å…¥æ’åºã€å¸Œå°”æ’åº</li><li>äº¤æ¢ç±»æ’åºï¼šå†’æ³¡æ’åºã€ å¿«é€Ÿæ’åº</li><li>é€‰æ‹©ç±»æ’åºï¼šç®€å•é€‰æ‹©æ’åºã€å †æ’åº</li><li>å½’å¹¶æ’åº</li><li>åˆ†é…ç±»æ’åºï¼šå¤šå…³é”®å­—æ’åºã€åŸºæ•°æ’åº</li></ul><hr><p>1ã€  ç›´æ¥æ’å…¥æ’åºï¼š</p><p>â‘   æ€æƒ³ï¼šå°†ä¸€ä¸ªå…ƒç´ æ’å…¥åˆ°ä¸€ä¸ªæœ‰åºè¡¨ä¸­ã€‚ä¸‹æ ‡ä¸º 0 çš„ä½ç½®ä½œä¸ºæ£€æµ‹ä½ï¼Œä»ä¸€ä¸ªå…ƒç´ é€æ­¥æ‰©å¤§æœ‰åºåºåˆ—</p><p>â‘¡ æ—¶é—´å¤æ‚åº¦ï¼šå¹³å‡æƒ…å†µ:O(nÂ²) æœ€å¥½æƒ…å†µï¼šO(n) æœ€åæƒ…å†µ:O(nÂ²)</p><p>â‘¢ ç©ºé—´å¤æ‚åº¦ï¼šS(n) = O(1)</p><p>â‘£   ç¨³å®šæ€§ï¼šç¨³å®šæ’åºã€‚<br>ä¸¾ä¾‹ï¼š100ä¸ªæ•°æ—¶æ— åºçš„ï¼Œå…ˆå–ä¸€ä¸ªæ•°ï¼ˆä¹ æƒ¯å–ç¬¬ä¸€ä¸ªæ•°ï¼‰æ‹¿å‡ºæ¥ä½œä¸ºæœ‰åºåºåˆ—ï¼Œå†å°†å‰©ä¸‹çš„99ä¸ªæ•°é‡Œå–å‡ºä¸€ä¸ªæ•°ï¼Œæ’å…¥åˆ°æœ‰åºåºåˆ—ï¼Œæœ‰åºåºåˆ—åœ¨å¢å¤§ï¼Œæ— åºåºåˆ—åœ¨å‡å°ï¼Œæ’åºå®Œæˆ<br>â‘¤   ç¨‹åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">for (i = 1; i &lt; a.length; i++) &#123;</span><br><span class="line">if (a[i] &lt; a[i - 1]) &#123;               // è¿™ä¸ªåŠ ä¸åŠ éƒ½å¯ä»¥</span><br><span class="line">temp = a[i];                       // æŠŠæ•°ç»„0ä½ç½®çš„å…ƒç´ çœ‹ä½œæœ‰åºåºåˆ—ï¼Œä»æ•°ç»„ä¸€ä½ç½®å¼€å§‹ï¼Œå…ˆæŠŠtemp=a[1],ä¿ç•™a[1]ï¼Œ</span><br><span class="line">for (j = i - 1; j &gt;= 0 &amp;&amp; temp &lt; a[j]; j--) &#123;</span><br><span class="line">                                         // åˆ¤æ–­a[i-1]ä¸tempçš„å¤§å° å¦‚æœtemp&lt;a[i-1]ï¼ŒæŠŠa[i-1]ï¼ˆå¤§äºtempçš„æ•°åç§»ä¸€ä½ï¼‰</span><br><span class="line">a[j + 1] = a[j];</span><br><span class="line">a[j] = temp;                     // ç›´åˆ°jå‡ä¸º0 æŠŠ tempçš„å€¼èµ‹å€¼ç»™a[0]; è¿™é‡Œç›¸å½“äºæ¯æ¬¡éƒ½å°†tempä¸å·¦è¾¹æ¯”å®ƒå¤§çš„æ•°äº¤æ¢</span><br><span class="line">&#125;</span><br><span class="line">                                   // è¿™é‡Œä¹Ÿå¯ä»¥è¿™æ ·a[j+1]=temp; ä¸ a[j] = temp; æ‰§è¡Œç»“æœç±»ä¼¼ï¼Œå®ƒæ˜¯æŠŠtempè¿™ä¸ªä½ç½®çš„å€¼ç©ºå¼€äº†</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€ æŠ˜åŠæ’å…¥æ’åº</p><p>â‘    æ€æƒ³ï¼šå› ä¸ºæ˜¯å·²ç»ç¡®å®šäº†å‰éƒ¨åˆ†æ˜¯æœ‰åºåºåˆ—ï¼Œæ‰€ä»¥åœ¨æŸ¥æ‰¾æ’å…¥ä½ç½®çš„æ—¶å€™å¯ä»¥ç”¨æŠ˜åŠæŸ¥æ‰¾çš„æ–¹æ³•è¿›è¡ŒæŸ¥æ‰¾ï¼Œæé«˜æ•ˆç‡ã€‚</p><p>â‘¡   æ—¶é—´å¤æ‚åº¦ï¼šæ¯”è¾ƒæ—¶çš„æ—¶é—´å‡ä¸ºO(nã’n)ï¼Œä½†æ˜¯ç§»åŠ¨å…ƒç´ çš„æ—¶é—´è€—è´¹æœªå˜ï¼Œæ‰€ä»¥æ€»æ˜¯å¾—æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯O(nÂ²)ã€‚</p><p>â‘¢   ç©ºé—´å¤æ‚åº¦ï¼šS(n) = O(1)ã€‚</p><p>â‘£   ç¨³å®šæ€§ï¼šç¨³å®šæ’åºã€‚</p><p>â‘¤   ç¨‹åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">for(i=1;i&lt;a.length;i++)&#123;</span><br><span class="line">if(a[i]&lt;a[i-1])&#123;                         //æ²¡æœ‰è¿™ä¸ªåˆ¤æ–­ä¹Ÿå¯ä»¥</span><br><span class="line">temp=a[i];                             //æŠŠa[i]çš„å€¼ç¼“å­˜</span><br><span class="line">            low=0;    high=i-1;              //æ ‡æ˜ä¸Šç•Œå’Œä¸‹ç•Œ            </span><br><span class="line">            while(low&lt;=high)&#123;                //low=highçš„æ—¶å€™åœæ­¢</span><br><span class="line">            mid=(low+high)/2;       </span><br><span class="line">            if(temp&gt;a[mid])&#123;      </span><br><span class="line">            low=mid+1;</span><br><span class="line">            &#125;else high=mid-1;            </span><br><span class="line">            &#125;</span><br><span class="line">            for(j=i;j&gt;low;j--)&#123;              //æ‰€æœ‰å¤§äºtempçš„æ•°éƒ½åç§»ä¸€ä½ (å› ä¸ºj&gt;lowæ‰€ä»¥a[low]å–ä¸åˆ°)</span><br><span class="line">            a[j]=a[j-1] ;                  //æœ€åä¸€æ¬¡ç§»ä½æ˜¯å°†a[low+1]=a[low]</span><br><span class="line">            &#125;</span><br><span class="line">            a[low]=temp;                     //ç„¶åæŠŠtempçš„å€¼ç»™a[low]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(äº†è§£)  2-è·¯æ’å…¥æ’åº</p><p>â‘  æ€æƒ³ï¼šå‡å°‘ç›´æ¥æ’å…¥æ³•çš„ç§»åŠ¨å…ƒç´ ä¸ªæ•°ï¼Œåˆ†æˆä¸¤è·¯å­æœ‰åºåºåˆ—ï¼Œéœ€è¦Nä¸ªè®°å½•çš„è¾…åŠ©ç©ºé—´</p><p>(äº†è§£)  è¡¨æ’å…¥æ’åº</p><p>â‘  æ€æƒ³ï¼šå¯¹é™æ€é“¾è¡¨åšæ’å…¥æ’åº</p><p>åšæ³•ï¼šå°†ä¸€ä¸ªè®°å½•æ’å…¥åˆ°å·²æ’å¥½åºçš„æœ‰åºè¡¨ä¸­ï¼Œä¸ç›´æ¥æ’å…¥ä¸åŒï¼Œå·²ä¿®æ”¹2næ¬¡æŒ‡é’ˆå€¼ä»£æ›¿ç§»åŠ¨è®°å½•</p><p>3ã€ å¸Œå°”æ’åº</p><p>â‘    æ€æƒ³ï¼šåˆç§°ç¼©å°å¢é‡æ’åºæ³•ã€‚æŠŠå¾…æ’åºåºåˆ—åˆ†æˆè‹¥å¹²è¾ƒå°çš„å­åºåˆ—ï¼Œç„¶åé€ä¸ªä½¿ç”¨ç›´æ¥æ’å…¥æ’åºæ³•æ’åºï¼Œæœ€åå†å¯¹ä¸€ä¸ªè¾ƒä¸ºæœ‰åºçš„åºåˆ—è¿›è¡Œä¸€æ¬¡æ’åºï¼Œä¸»è¦æ˜¯ä¸ºäº†å‡å°‘ç§»åŠ¨çš„æ¬¡æ•°ï¼Œæé«˜æ•ˆç‡ã€‚è¿™é‡Œæ˜¯å°†å¢é‡ä»¥å…ƒç´ ä¸ªæ•°çš„ä¸€åŠå¼€å§‹ã€‚</p><blockquote><pre><code>                   38,49,65,97,76,13,27,49</code></pre></blockquote><pre><code>                    |     |     |     |                    0  1  2  3  4  5  6  7</code></pre><p>â‘¡   æ—¶é—´å¤æ‚åº¦ï¼š å¹³å‡æƒ…å†µï¼šO(n^1.5) æœ€å¥½æƒ…å†µï¼šO(n) æœ€åæƒ…å†µ:O(nÂ²)</p><p>â‘¢   ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p><p>â‘£   ç¨³å®šæ€§ï¼šä¸ç¨³å®šæ’åºã€‚{2,4,1,2}ï¼Œ2å’Œ1ä¸€ç»„4å’Œ2ä¸€ç»„ï¼Œè¿›è¡Œå¸Œå°”æ’åºï¼Œç¬¬ä¸€ä¸ª2å’Œæœ€åä¸€ä¸ª2ä¼šå‘ç”Ÿä½ç½®ä¸Šçš„å˜åŒ–ã€‚</p><p>â‘¤   ç¨‹åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public static int Sort(int[] a)&#123;</span><br><span class="line">int i,j,temp;</span><br><span class="line">   int n=a.length;</span><br><span class="line">   int d=n/2;                //ä»¥ä¸€åŠåˆ†ç»„</span><br><span class="line">while(d&gt;=1)&#123;</span><br><span class="line">                         //ç›´æ¥æ’å…¥æ’åº       æŠŠæ¯ç»„å†…çš„å…ƒç´ éƒ½çœ‹æˆä¸€ä¸ªåºåˆ—ï¼Œå¯¹è¿™ä¸ªåºåˆ—è¿›è¡Œç›´æ¥æ’å…¥æ’åº</span><br><span class="line">for(i=d;i&lt;a.length;i++)&#123; //i++æ§åˆ¶ æ¯ç»„è¦åšæ¯”è¾ƒ</span><br><span class="line">temp=a[i];</span><br><span class="line">for(j=i-d;j&gt;=0&amp;&amp;temp&lt;a[j];j=j-d)&#123;</span><br><span class="line">a[j+d]=a[j];</span><br><span class="line">&#125;</span><br><span class="line">a[j+d]=temp;</span><br><span class="line">&#125;</span><br><span class="line">d/=2;</span><br><span class="line">&#125;</span><br><span class="line">for (int k : a) &#123;</span><br><span class="line">System.out.print(&quot; &quot;+k);</span><br><span class="line">&#125;</span><br><span class="line">return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4ã€ å†’æ³¡æ’åº</p><p>â‘    æ€æƒ³ï¼šåå¤æ‰«æå¾…æ’åºåºåˆ—ï¼Œåœ¨æ‰«æçš„è¿‡ç¨‹ä¸­é¡ºæ¬¡æ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ çš„å¤§å°ï¼Œè‹¥é€†åºå°±äº¤æ¢ä½ç½®ã€‚ç¬¬ä¸€è¶Ÿï¼Œä»ç¬¬ä¸€ä¸ªæ•°æ®å¼€å§‹ï¼Œæ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªæ•°æ®ï¼Œï¼ˆä»¥å‡åºä¸ºä¾‹ï¼‰å¦‚æœå¤§å°±äº¤æ¢ï¼Œå¾—åˆ°ä¸€ä¸ªæœ€å¤§æ•°æ®åœ¨æœ«å°¾ï¼›ç„¶åè¿›è¡Œç¬¬äºŒè¶Ÿï¼Œåªæ‰«æå‰n-1ä¸ªå…ƒç´ ï¼Œå¾—åˆ°æ¬¡å¤§çš„æ”¾åœ¨å€’æ•°ç¬¬äºŒä½ã€‚ä»¥æ­¤ç±»æ¨ï¼Œæœ€åå¾—åˆ°å‡åºåºåˆ—ã€‚å¦‚æœåœ¨æ‰«æè¿‡ç¨‹ä¸­ï¼Œå‘ç°æ²¡æœ‰äº¤æ¢ï¼Œè¯´æ˜å·²ç»æ’å¥½åºåˆ—ï¼Œç›´æ¥ç»ˆæ­¢æ‰«æã€‚æ‰€ä»¥æœ€å¤šè¿›è¡Œn-1è¶Ÿæ‰«æã€‚</p><p>â‘¡   æ—¶é—´å¤æ‚åº¦ï¼šå¹³å‡ \æœ€åO(nÂ²) æœ€å¥½ O(n)</p><p>â‘¢   ç©ºé—´å¤æ‚åº¦ï¼šS(n) = O(1)ã€‚</p><p>â‘£   ç¨³å®šæ€§ï¼šç¨³å®šæ’åºã€‚</p><p>â‘¤   ç¨‹åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">private static void Sort(int[] a)&#123;</span><br><span class="line">for(int i=0;i&lt;a.length-1;i++)&#123; //æ§åˆ¶æ¯ä¸€è¶Ÿçš„æ¯”è¾ƒï¼Œå› ä¸ºæ¯”è¾ƒä¸€è¶Ÿå°±æœ‰ä¸€ä¸ªæ•°ä¸ç”¨æ¯”è¾ƒäº†ï¼ˆi=0  å¾ªç¯å®Œï¼Œä¸€ä¸ªæ•°å°±ä¸ç”¨è€ƒè™‘äº†ï¼Œä»¥æ­¤ç±»æ¨ï¼‰éœ€è¦æ¯”è¾ƒ</span><br><span class="line">                                 //æ¯”è¾ƒ7æ¬¡ï¼Œä½†æ˜¯æœ€åä¸€è½®ï¼Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªæ•°å°±ç¡®å®šäº†ä¸ç”¨æ¯”è¾ƒäº†ï¼Œæ‰€ä»¥æ¯”è¾ƒ6æ¬¡ å³&lt;a.lenth-1 ,æ³¨æ„æ˜¯&lt;</span><br><span class="line">for(int j=0;j&lt;a.length-1-i;j++)&#123;  // å› ä¸ºæ¯æ¬¡æ¯”è¾ƒå®Œéƒ½å°‘ä¸€ä¸ªæ•°æ‰€ä»¥åœ¨a.length-1åŸºç¡€ä¸Šå‡i</span><br><span class="line">if(a[j+1]&lt;=a[j])&#123;</span><br><span class="line">int temp=a[j+1];</span><br><span class="line">a[j+1]=a[j];       </span><br><span class="line">a[j]=temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">for (int k : a) &#123;</span><br><span class="line">System.out.println(k);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5ã€ å¿«é€Ÿæ’åº</p><p>â‘  æ€æƒ³ï¼š</p><p>E1ï¼šå¯¹å¾…æ’åºåºåˆ—è¿›è¡Œåˆ’åˆ†ï¼Œä½¿å‰ä¸€éƒ¨åˆ†çš„keyå€¼å‡å°äºåä¸€éƒ¨åˆ†ï¼›ä¸ºæ­¤éœ€è¦é€‰å®šæ¢è½´ï¼ˆæ”¯ç‚¹ï¼‰</p><p>E2ï¼šå¯¹å‰åŠå­åºåˆ—è¿›è¡Œå¿«é€Ÿæ’åºï¼›</p><p>E3ï¼šå¯¹ååŠå­åºåˆ—è¿›è¡Œå¿«é€Ÿæ’åºï¼›</p><blockquote><p>æ€è·¯ï¼š low  --------- high</p></blockquote><p>ä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºåŸºå‡†ï¼Œå…ˆä»åå¾€å‰çœ‹</p><p>low  å·¦é¢éƒ½æ¯”å®ƒå°ï¼Œé‡åˆ°ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°å°±æ¢åˆ°åé¢ï¼Œç„¶åhigh-1</p><p>high å³é¢çš„æ•°éƒ½ä¸å°äºå®ƒï¼Œé‡åˆ°ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°ï¼Œå°±æ¢åˆ°å‰é¢ï¼Œç„¶ålow+1<br>â‘¡   æ—¶é—´å¤æ‚åº¦ï¼šå¹³å‡T(n) = O(nã’n)ï¼Œæœ€åO(nÂ²)ã€‚</p><p>â‘¢   ç©ºé—´å¤æ‚åº¦ï¼šS(n) = O(ã’n)ã€‚</p><p>â‘£   ç¨³å®šæ€§ï¼šä¸ç¨³å®šæ’åºã€‚{3ï¼Œ 2ï¼Œ 2}</p><p>â‘¤   ç¨‹åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public static void Sort(int a[], int low, int hight) &#123;</span><br><span class="line">        int i, j, index;</span><br><span class="line">        if (low &gt; hight) &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        i = low;</span><br><span class="line">        j = hight;</span><br><span class="line">        index = a[i];          // ç”¨å­è¡¨çš„ç¬¬ä¸€ä¸ªè®°å½•åšåŸºå‡†</span><br><span class="line">        while (i &lt; j) &#123;        // ä»è¡¨çš„ä¸¤ç«¯äº¤æ›¿å‘ä¸­é—´æ‰«æ</span><br><span class="line">            while (i &lt; j &amp;&amp; a[j] &gt;= index) //æ§åˆ¶</span><br><span class="line">                j--;</span><br><span class="line">            if (i &lt; j)</span><br><span class="line">                a[i++] = a[j]; // ç”¨æ¯”åŸºå‡†å°çš„è®°å½•æ›¿æ¢ä½ä½è®°å½•</span><br><span class="line">            while (i &lt; j &amp;&amp; a[i] &lt; index)</span><br><span class="line">                i++;</span><br><span class="line">            if (i &lt; j)         // ç”¨æ¯”åŸºå‡†å¤§çš„è®°å½•æ›¿æ¢é«˜ä½è®°å½•</span><br><span class="line">                a[j--] = a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        a[i] = index;          // å°†åŸºå‡†æ•°å€¼æ›¿æ¢å› a[i]</span><br><span class="line">        Sort(a, low, i - 1);   // å¯¹ä½å­è¡¨è¿›è¡Œé€’å½’æ’åº</span><br><span class="line">        Sort(a, i + 1, hight); // å¯¹é«˜å­è¡¨è¿›è¡Œé€’å½’æ’åº</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>6ã€ ç®€å•é€‰æ‹©æ’åºï¼š<br>â‘    æ€æƒ³ï¼šç¬¬ä¸€è¶Ÿæ—¶ï¼Œä»ç¬¬ä¸€ä¸ªè®°å½•å¼€å§‹ï¼Œé€šè¿‡n â€“ 1æ¬¡å…³é”®å­—çš„æ¯”è¾ƒï¼Œä»nä¸ªè®°å½•ä¸­é€‰å‡ºå…³é”®å­—æœ€å°çš„è®°å½•ï¼Œå¹¶å’Œç¬¬ä¸€ä¸ªè®°å½•è¿›è¡Œäº¤æ¢ã€‚ç¬¬äºŒè¶Ÿä»ç¬¬äºŒä¸ªè®°å½•å¼€å§‹ï¼Œé€‰æ‹©æœ€å°çš„å’Œç¬¬äºŒä¸ªè®°å½•äº¤æ¢ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´è‡³å…¨éƒ¨æ’åºå®Œæ¯•ã€‚  /<em>é€‰æ‹©æ’åºä¸å‰é¢çš„ç®€å•(å†’æ³¡)æ’åºç®—æ³•æ€è·¯ä¸€æ¨¡ä¸€æ ·ï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œåœ¨å¯»æ‰¾æœ€å°å…ƒç´ çš„æ—¶å€™ï¼Œå‰è€…æ˜¯æ¯æ¬¡éƒ½å°†æœ€å°å…ƒç´ å­˜æ”¾åˆ°ç›®çš„åœ°ï¼Œè€Œåè€…åˆ™åªæ˜¯æš‚æ—¶å­˜æ”¾ä¸€ä¸‹å…¶åœ°å€ï¼Œåˆ°æœ€åçš„æ—¶å€™æ‰éœ€è¦äº¤æ¢ã€‚å› æ­¤ï¼Œåè€…çœç•¥äº†å¾ˆå¤šçš„äº¤æ¢æ“ä½œï¼Œæ›´ä¼˜ã€‚</em>/</p><p>â‘¡   æ—¶é—´å¤æ‚åº¦ï¼šæœ€å¥½ã€æœ€åã€å¹³å‡æƒ…å†µéƒ½æ˜¯O(nÂ²)ã€‚</p><p>â‘¢   ç©ºé—´å¤æ‚åº¦ï¼šS(n) = O(1)ã€‚</p><p>â‘£   ç¨³å®šæ€§ï¼šä¸ç¨³å®šæ’åºï¼Œ{3ï¼Œ 3ï¼Œ 2}ã€‚</p><p>â‘¤   ç¨‹åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">private static void Sort(int[] a)&#123;</span><br><span class="line">int min;</span><br><span class="line">for(int i=0;i&lt;a.length-1;i++)   //å‡è®¾æœ‰nä¸ªå…ƒç´ ï¼Œéœ€è¦ç¡®å®šçš„ä¸‹æ ‡æœ‰0åˆ°n-1ã€‚æœ€åä¸€ä¸ªå…ƒç´ æ— éœ€æ¯”è¾ƒ</span><br><span class="line">&#123;   min=i;</span><br><span class="line">for(int j=i+1;j&lt;a.length;j++)&#123;  </span><br><span class="line">       if(a[j]&lt;a[min])      //ä½¿minæ€»æ˜¯æŒ‡å‘æœ€å°çš„å…ƒç´ </span><br><span class="line">       min=j;</span><br><span class="line">&#125;</span><br><span class="line">        if(min!=i)&#123;             //minæœ‰ç§»åŠ¨è¿‡</span><br><span class="line">        int temp =a[i];</span><br><span class="line">        a[i]=a[min];</span><br><span class="line">        a[min]=temp;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7ã€å †æ’åº</p><p>â‘    æ€æƒ³ï¼šæŠŠå¾…æ’åºè®°å½•çš„å…³é”®å­—å­˜æ”¾åœ¨æ•°ç»„r[1â€¦n]ä¸­ï¼Œå°†rçœ‹æˆæ˜¯ä¸€åˆ»å®Œå…¨äºŒå‰æ ‘çš„é¡ºåºè¡¨ç¤ºï¼Œæ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªè®°å½•ï¼Œç¬¬ä¸€ä¸ªè®°å½•r[1]ä½œä¸ºäºŒå‰æ ‘çš„æ ¹ï¼Œä¸€ä¸‹ä¸ªè®°å½•r[2â€¦n]ä¾æ¬¡é€å±‚ä»å·¦åˆ°å³é¡ºåºæ’åˆ—ï¼Œä»»æ„èŠ‚ç‚¹r[i]çš„å·¦å­©å­æ˜¯r[2i]ï¼Œå³å­©å­æ˜¯r[2i+1]ï¼ŒåŒäº²æ˜¯r[i/2å‘ä¸‹å–æ•´]ã€‚ç„¶åå¯¹è¿™æ£µå®Œå…¨äºŒå‰æ ‘è¿›è¡Œè°ƒæ•´å»ºå †ã€‚</p><blockquote><p>è®¾æœ‰ä¸€ä¸ªå…³é”®å­—é›†åˆï¼ŒæŒ‰å®Œå…¨äºŒå‰æ ‘çš„é¡ºåºå­˜å‚¨æ–¹å¼å­˜æ”¾åœ¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ä¸­ã€‚è‹¥æ»¡è¶³<br>Ki &lt;= K2i              Ki &gt;= K2i<br>Ki &lt;= K2i+1    æˆ–    Ki &gt;= K2i+1<br>åˆ™ç§°è¯¥å…³é”®å­—é›†åˆæ„æˆä¸€ä¸ªå †ï¼›<br>å‰è€…æˆä¸ºå°é¡¶å †ï¼Œåè€…ç§°ä¸ºå¤§é¡¶å †ã€‚å…¶ä¸­äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ç§°ä¸ºå †é¡¶ã€‚<br>i å’Œ  ï¼ˆ2iå’Œ2i+1ï¼‰æ¯”è¾ƒ<br>å­˜å‚¨ç»“æ„:æ•°ç»„<br>å¯¹åº”é€»è¾‘ç»“æ„ï¼š äºŒå‰æ ‘</p></blockquote><p>â‘¡   æ—¶é—´å¤æ‚åº¦ï¼šT(n) = O(nã’n)ã€‚(å¹³å‡ã€æœ€å¥½ã€æœ€åæƒ…å†µéƒ½æ˜¯)</p><p>â‘¢   ç©ºé—´å¤æ‚åº¦ï¼šS(n) = O(1)ã€‚</p><p>â‘£   ç¨³å®šæ€§ï¼šä¸ç¨³å®šæ’åºã€‚{5ï¼Œ 5ï¼Œ 3}</p><p>â‘¤   ç¨‹åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">public class HeapSort &#123;</span><br><span class="line"></span><br><span class="line">public static void heapSort(int[] array) &#123;</span><br><span class="line">if (array == null || array.length &lt;= 1) &#123;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">buildMaxHeap(array); // å»ºç«‹å¤§é¡¶å †</span><br><span class="line"></span><br><span class="line">for (int i = array.length - 1; i &gt;= 1; i--) &#123;</span><br><span class="line">ArrayUtils.exchangeElements(array, 0, i); // è¾“å‡ºå †é¡¶å…ƒç´ å’Œå †åº•å…ƒç´ äº¤æ¢</span><br><span class="line"></span><br><span class="line">maxHeap(array, i, 0);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private static void buildMaxHeap(int[] array) &#123;</span><br><span class="line">if (array == null || array.length &lt;= 1) &#123;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int half = array.length / 2; // ä»i=[n/2]---1åå¤è°ƒæ•´å †</span><br><span class="line">for (int i = half; i &gt;= 0; i--) &#123;</span><br><span class="line">maxHeap(array, array.length, i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private static void maxHeap(int[] array, int heapSize, int index) &#123;</span><br><span class="line">int left = index * 2 + 1; // è°ƒæ•´å…ƒç´ </span><br><span class="line">int right = index * 2 + 2;</span><br><span class="line"></span><br><span class="line">int largest = index;</span><br><span class="line">if (left &lt; heapSize &amp;&amp; array[left] &gt; array[index]) &#123;</span><br><span class="line">largest = left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (right &lt; heapSize &amp;&amp; array[right] &gt; array[largest]) &#123;</span><br><span class="line">largest = right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (index != largest) &#123;</span><br><span class="line">ArrayUtils.exchangeElements(array, index, largest);</span><br><span class="line"></span><br><span class="line">maxHeap(array, heapSize, largest);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">int[] array = &#123; 60, 45, 30, 14, 2, 85, 42, 30 &#125;;</span><br><span class="line"></span><br><span class="line">System.out.println(&quot;Before heap:&quot;);</span><br><span class="line">ArrayUtils.printArray(array);</span><br><span class="line"></span><br><span class="line">heapSort(array);</span><br><span class="line"></span><br><span class="line">System.out.println(&quot;After heap sort:&quot;);</span><br><span class="line">ArrayUtils.printArray(array);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>8ã€å½’å¹¶æ’åº<br>â‘    æ€æƒ³ï¼šå‡è®¾åˆå§‹åºåˆ—å³nä¸ªè®°å½•ï¼Œé¦–å…ˆå°†è¿™nä¸ªè®°å½•çœ‹æˆnä¸ªæœ‰åºçš„å­åºåˆ—ï¼Œæ¯ä¸ªå­åºåˆ—çš„é•¿åº¦ä¸º1ï¼Œç„¶åä¸¤ä¸¤å½’å¹¶ï¼Œå¾—åˆ°n/2å‘ä¸Šå–æ•´ ä¸ªé•¿åº¦ä¸º2ï¼ˆnä¸ºå¥‡æ•°æ—¶ï¼Œæœ€åä¸€ä¸ªåºåˆ—çš„é•¿åº¦ä¸º1ï¼‰çš„æœ‰åºå­åºåˆ—ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œåœ¨å¯¹é•¿åº¦ä¸º2çš„æœ‰åºå­åºåˆ—è¿›è¡Œä¸¤ä¸¤å½’å¹¶ï¼Œå¾—åˆ°è‹¥å¹²ä¸ªé•¿åº¦ä¸º4çš„æœ‰åºå­åºåˆ—ã€‚å¦‚æ­¤é‡å¤ï¼Œç›´è‡³å¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æœ‰åºåºåˆ—ä¸ºæ­¢ã€‚å°†ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„æœ‰åºè¡¨ç»„åˆæˆä¸€ä¸ªæ–°çš„æœ‰åºè¡¨</p><p>â‘¡   æ—¶é—´å¤æ‚åº¦ï¼šT(n) = O(nã’n)ã€‚(å¹³å‡ã€æœ€åã€æœ€å¥½æƒ…å†µéƒ½æ˜¯)</p><p>â‘¢   ç©ºé—´å¤æ‚åº¦ï¼šS(n) = O(n)ã€‚</p><p>â‘£   ç¨³å®šæ€§ï¼šç¨³å®šæ’åºã€‚</p><p>â‘¤   ç¨‹åºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">public class MergeSort &#123;</span><br><span class="line">/**</span><br><span class="line"> * å½’å¹¶æ’åº</span><br><span class="line"> * ç®€ä»‹:å°†ä¸¤ä¸ªï¼ˆæˆ–ä¸¤ä¸ªä»¥ä¸Šï¼‰æœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæ–°çš„æœ‰åºè¡¨ å³æŠŠå¾…æ’åºåºåˆ—åˆ†ä¸ºè‹¥å¹²ä¸ªå­åºåˆ—ï¼Œæ¯ä¸ªå­åºåˆ—æ˜¯æœ‰åºçš„ã€‚ç„¶åå†æŠŠæœ‰åºå­åºåˆ—åˆå¹¶ä¸ºæ•´ä½“æœ‰åºåºåˆ—</span><br><span class="line"> * æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)</span><br><span class="line"> * ç¨³å®šæ’åºæ–¹å¼</span><br><span class="line"> * @param nums å¾…æ’åºæ•°ç»„</span><br><span class="line"> * @return è¾“å‡ºæœ‰åºæ•°ç»„</span><br><span class="line"> */</span><br><span class="line">public static int[] sort(int[] nums, int low, int high) &#123;</span><br><span class="line">int mid = (low + high) / 2;        //å…ˆåˆ†ä¸€åŠ</span><br><span class="line">if (low &lt; high) &#123;</span><br><span class="line">// å·¦è¾¹</span><br><span class="line">sort(nums, low, mid);</span><br><span class="line">// å³è¾¹</span><br><span class="line">sort(nums, mid + 1, high);</span><br><span class="line">// å·¦å³å½’å¹¶</span><br><span class="line">merge(nums, low, mid, high);</span><br><span class="line">&#125;</span><br><span class="line">return nums;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public static void merge(int[] nums, int low, int mid, int high) &#123;</span><br><span class="line">int[] temp = new int[high - low + 1];</span><br><span class="line">int i = low;// å·¦æŒ‡é’ˆ</span><br><span class="line">int j = mid + 1;// å³æŒ‡é’ˆ</span><br><span class="line">int k = 0;</span><br><span class="line"></span><br><span class="line">// æŠŠè¾ƒå°çš„æ•°å…ˆç§»åˆ°æ–°æ•°ç»„ä¸­</span><br><span class="line">while (i &lt;= mid &amp;&amp; j &lt;= high) &#123;</span><br><span class="line">if (nums[i] &lt; nums[j]) &#123;</span><br><span class="line">temp[k++] = nums[i++];</span><br><span class="line">&#125; else &#123;</span><br><span class="line">temp[k++] = nums[j++];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æŠŠå·¦è¾¹å‰©ä½™çš„æ•°ç§»å…¥æ•°ç»„</span><br><span class="line">while (i &lt;= mid) &#123;</span><br><span class="line">temp[k++] = nums[i++];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æŠŠå³è¾¹è¾¹å‰©ä½™çš„æ•°ç§»å…¥æ•°ç»„</span><br><span class="line">while (j &lt;= high) &#123;</span><br><span class="line">temp[k++] = nums[j++];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æŠŠæ–°æ•°ç»„ä¸­çš„æ•°è¦†ç›–numsæ•°ç»„</span><br><span class="line">for (int k2 = 0; k2 &lt; temp.length; k2++) &#123;</span><br><span class="line">nums[k2 + low] = temp[k2];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">// å½’å¹¶æ’åºçš„å®ç°</span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line">int[] nums = &#123;5,2,95,48,32,45,11,97,48&#125;;</span><br><span class="line"></span><br><span class="line">MergeSort.sort(nums, 0, nums.length-1);</span><br><span class="line">ArrayUtils.printArray(nums);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>9ã€åˆ†é…ç±»æ’åº</p><p>ä¸€ã€å¤šå…³é”®å­—çš„æ’åº</p><ul><li>é«˜ä½ä¼˜å…ˆæ³•</li><li>åˆ’åˆ†å­åºåˆ—çš„æ€æƒ³</li><li>ä½ä½ä¼˜å…ˆæ³•</li><li>åˆ†é…å†æ”¶é›†çš„æ€æƒ³</li></ul><p>äºŒã€é“¾å¼åŸºæ•°æ’åº<br>â‘    æ€æƒ³ï¼šå…ˆåˆ†é…ï¼Œå†æ”¶é›†ï¼Œå°±æ˜¯å…ˆæŒ‰ç…§ä¸€ä¸ªæ¬¡å…³é”®å­—æ”¶é›†ä¸€ä¸‹ï¼Œç„¶åè¿›è¡Œæ”¶é›†ï¼ˆç¬¬ä¸€ä¸ªæ’åºï¼‰ï¼Œç„¶åå†æ¢ä¸€ä¸ªå…³é”®å­—æŠŠæ–°åºåˆ—åˆ†é…ä¸€ä¸‹ï¼Œç„¶åå†æ”¶é›†èµ·æ¥ï¼Œåˆå®Œæˆä¸€æ¬¡æ’åºï¼Œè¿™æ ·æ‰€æœ‰å…³é”®å­—åˆ†é…æ”¶é›†å®Œåï¼Œå°±å®Œæˆäº†æ’åºã€‚</p><p>â‘¡   æ—¶é—´å¤æ‚åº¦ï¼šT(n) = O( d ( n + rd ) )ã€‚</p><p>â‘¢   ç©ºé—´å¤æ‚åº¦ï¼šS(n) = O(rd)ã€‚</p><p>â‘£   ç¨³å®šæ€§ï¼šç¨³å®šæ’åºã€‚</p><p>â‘¤   ç¨‹åºï¼š</p><p>10ã€ æ€»ç»“ï¼š</p><p>ï¼ˆ1ï¼‰ç®€å•æ’åºæ³•ä¸€èˆ¬åªç”¨äºnè¾ƒå°çš„æƒ…å†µï¼ˆä¾‹å¦‚n&lt;30ï¼‰ã€‚å½“åºåˆ—çš„è®°å½•â€œåŸºæœ¬æœ‰åºâ€æ—¶ï¼Œç›´æ¥æ’å…¥æ’åºæ˜¯æœ€ä½³çš„æ’åºæ–¹æ³•ã€‚å¦‚æœè®°å½•ä¸­çš„æ•°æ®è¾ƒå¤šï¼Œåˆ™åº”é‡‡ç”¨ç§»åŠ¨æ¬¡æ•°è¾ƒå°‘çš„ç®€å•é€‰æ‹©æ’åºæ³•ã€‚</p><p>ï¼ˆ2ï¼‰å¿«é€Ÿæ’åºã€å †æ’åºå’Œå½’å¹¶æ’åºçš„å¹³å‡æ—¶é—´å¤æ‚åº¦å‡ä¸ºO(nã’n)ï¼Œä½†å®éªŒç»“æœè¡¨æ˜ï¼Œå°±å¹³å‡æ—¶é—´æ€§èƒ½è€Œè¨€ï¼Œå¿«é€Ÿæ’åºæ˜¯æ‰€æœ‰æ’åºæ–¹æ³•ä¸­æœ€å¥½çš„ã€‚é—æ†¾çš„æ˜¯ï¼Œå¿«é€Ÿæ’åºåœ¨æœ€åæƒ…å†µä¸‹çš„æ—¶é—´æ€§èƒ½ä¸ºO(nÂ²)ã€‚å †æ’åºå’Œå½’å¹¶æ’åºçš„æœ€åæ—¶é—´å¤æ‚åº¦ä»ä¸ºO(nã’n)ï¼Œå½“nè¾ƒå¤§æ—¶ï¼Œå½’å¹¶æ’åºçš„æ—¶é—´æ€§èƒ½ä¼˜äºå †æ’åºï¼Œä½†å®ƒæ‰€éœ€çš„è¾…åŠ©ç©ºé—´æœ€å¤šã€‚</p><p>ï¼ˆ3ï¼‰å¯ä»¥å°†ç®€å•æ’åºæ³•ä¸æ€§èƒ½è¾ƒå¥½çš„æ’åºæ–¹æ³•ç»“åˆä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨å¿«é€Ÿæ’åºä¸­ï¼Œå½“åˆ’åˆ†å­åŒºé—´çš„é•¿åº¦å°äºæŸå€¼æ—¶ï¼Œå¯ä»¥è½¬è€Œè°ƒç”¨ç›´æ¥æ’å…¥æ’åºæ³•ï¼›æˆ–è€…å…ˆå°†å¾…æ’åºåºåˆ—åˆ’åˆ†æˆè‹¥å¹²å­åºåˆ—ï¼Œåˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œç„¶åå†åˆ©ç”¨å½’å¹¶æ’åºæ³•ï¼Œå°†æœ‰åºå­åºåˆ—åˆå¹¶æˆä¸€ä¸ªå®Œæ•´çš„æœ‰åºåºåˆ—ã€‚</p><p>ï¼ˆ4ï¼‰åŸºæ•°æ’åºçš„æ—¶é—´å¤æ‚åº¦å¯ä»¥å†™æˆO(dÂ·n)ã€‚å› æ­¤ï¼Œå®ƒæœ€é€‚åˆäºnå€¼å¾ˆå¤§è€Œå…³é”®å­—çš„ä½æ•°dè¾ƒå°çš„åºåˆ—ã€‚å½“dè¿œå°äºnæ—¶ï¼Œå…¶æ—¶é—´å¤æ‚åº¦æ¥è¿‘O(n)ã€‚</p><p>ï¼ˆ5ï¼‰ä»æ’åºçš„ç¨³å®šæ€§ä¸Šæ¥çœ‹ï¼Œåœ¨æ‰€æœ‰ç®€å•æ’åºæ³•ä¸­ï¼Œç®€å•é€‰æ‹©æ’åºæ˜¯ä¸ç¨³å®šçš„ï¼Œå…¶ä»–å„ç§ç®€å•æ’åºæ³•éƒ½æ˜¯ç¨³å®šçš„ã€‚ç„¶è€Œï¼Œåœ¨é‚£äº›æ—¶é—´æ€§èƒ½è¾ƒå¥½çš„æ’åºæ–¹æ³•ä¸­ï¼Œå¸Œå°”æ’åºã€å¿«é€Ÿæ’åºã€å †æ’åºéƒ½æ˜¯ä¸ç¨³å®šçš„ï¼Œåªæœ‰å½’å¹¶æ’åºã€åŸºæ•°æ’åºæ˜¯ç¨³å®šçš„ã€‚</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ä½ ä¸çŸ¥é“çš„javaï¼ˆäºŒï¼‰</title>
      <link href="/2017/07/16/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Java%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2017/07/16/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Java%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>JavaåŸºç¡€ç¬¬äºŒå¤©æ‰“å¡ï¼šæ¯å¤©éƒ½è¿‡ä¸€ç‚¹javaåŸºç¡€ï¼Œè¿™äº›çœ‹ä¼¼å¯ä»¥å¿½ç•¥çš„å¾€å¾€æœ€ä¸å¯ä»¥å¿½ç•¥ã€‚</p><a id="more"></a><p>åœ¨ Java ç¨‹åºä¸­ï¼Œé€šè¿‡ç±»çš„å®šä¹‰åªèƒ½å®ç° å• é‡ç»§æ‰¿ï¼Œä½†é€šè¿‡æ¥å£çš„å®šä¹‰å¯ä»¥å®ç° å¤š é‡ç»§æ‰¿å…³ç³»ã€‚</p><h5 id="å…³äºç»§æ‰¿ï¼š"><a class="header-anchor" href="#å…³äºç»§æ‰¿ï¼š">Â¶</a>å…³äºç»§æ‰¿ï¼š</h5><p>åœ¨javaä¸­ï¼Œå­ç±»æ„é€ å™¨ä¼šé»˜è®¤è°ƒç”¨super()(æ— è®ºæ„é€ å™¨ä¸­æ˜¯å¦å†™æœ‰superï¼ˆï¼‰),ç”¨äºåˆå§‹åŒ–çˆ¶ç±»æˆå‘˜ï¼ŒåŒæ—¶å½“çˆ¶ç±»ä¸­å­˜åœ¨æœ‰å‚æ„é€ å™¨æ—¶ï¼Œå¿…é¡»æä¾›æ— å‚æ„é€ å™¨ï¼Œå­ç±»æ„é€ å™¨ä¸­å¹¶ä¸ä¼šè‡ªåŠ¨ç»§æ‰¿æœ‰å‚æ„é€ å™¨ï¼Œä»ç„¶é»˜è®¤è°ƒç”¨super()ï¼Œä½¿ç”¨æ— å‚æ„é€ å™¨ã€‚å› æ­¤ï¼Œä¸€ä¸ªç±»æƒ³è¦è¢«ç»§æ‰¿å¿…é¡»æä¾›æ— å‚æ„é€ å™¨ã€‚</p><p>é€šè¿‡å‰é¢æˆ‘ä»¬çŸ¥é“å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œé™¤äº†é‚£äº›privateçš„å¤–è¿˜æœ‰ä¸€æ ·æ˜¯å­ç±»ç»§æ‰¿ä¸äº†çš„â€”æ„é€ å™¨ã€‚å¯¹äºæ„é€ å™¨è€Œè¨€ï¼Œå®ƒåªèƒ½å¤Ÿè¢«è°ƒç”¨ï¼Œè€Œä¸èƒ½è¢«ç»§æ‰¿ã€‚ è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•æˆ‘ä»¬ä½¿ç”¨super()å³å¯ã€‚</p><p>å¯¹äºå­ç±»è€Œå·²,å…¶æ„é€ å™¨çš„æ­£ç¡®åˆå§‹åŒ–æ˜¯éå¸¸é‡è¦çš„,è€Œä¸”å½“ä¸”ä»…å½“åªæœ‰ä¸€ä¸ªæ–¹æ³•å¯ä»¥ä¿è¯è¿™ç‚¹ï¼šåœ¨æ„é€ å™¨ä¸­è°ƒç”¨çˆ¶ç±»æ„é€ å™¨æ¥å®Œæˆåˆå§‹åŒ–ï¼Œè€Œçˆ¶ç±»æ„é€ å™¨å…·æœ‰æ‰§è¡Œçˆ¶ç±»åˆå§‹åŒ–æ‰€éœ€è¦çš„æ‰€æœ‰çŸ¥è¯†å’Œèƒ½åŠ›ã€‚</p><hr> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">void waitForSignal()</span><br><span class="line">&#123;</span><br><span class="line">    Object obj = new Object();</span><br><span class="line">    synchronized(Thread.currentThread())</span><br><span class="line">    &#123;</span><br><span class="line">        obj.wait();</span><br><span class="line">        obj.notify();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é¢˜æœ‰ä¸¤ä¸ªé”™è¯¯çš„åœ°æ–¹ï¼Œç¬¬ä¸€ä¸ªé”™è¯¯æ˜¯ wait() æ–¹æ³•è¦ä»¥ try/catch åŒ…è¦†ï¼Œæˆ–æ˜¯æ·å‡º InterruptedException æ‰è¡Œ<br>å› æ­¤ç­”æ¡ˆå°±æ˜¯å› ä¸ºç¼ºå°‘ä¾‹å¤–æ•æ‰çš„   InterruptedException<br>ç¬¬äºŒä¸ªé”™è¯¯çš„åœ°æ–¹æ˜¯ï¼Œ synchronized çš„ç›®æ ‡ä¸ wait() æ–¹æ³•çš„ç‰©ä»¶ä¸ç›¸åŒï¼Œä¼šæœ‰ IllegalMonitorStateException ï¼Œä¸è¿‡ InterruptedException ä¼šå…ˆå‡ºç°ï¼Œæ‰€ä»¥è¿™ä¸æ˜¯ç­”æ¡ˆ<br>æœ€åæ­£ç¡®çš„ç¨‹å¼ç åº”è¯¥æ˜¯è¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">void waitForSignal() &#123;</span><br><span class="line">Object obj = new Object();</span><br><span class="line">         synchronized (obj) &#123;</span><br><span class="line">             try &#123;</span><br><span class="line">obj.wait();</span><br><span class="line">&#125; catch (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">obj.notify();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="javaç¨‹åºçš„ç§ç±»"><a class="header-anchor" href="#javaç¨‹åºçš„ç§ç±»">Â¶</a>javaç¨‹åºçš„ç§ç±»</h5><p>Javaç¨‹åºçš„ç§ç±»æœ‰ï¼š<br>ï¼ˆaï¼‰å†…åµŒäºWebæ–‡ä»¶ä¸­ï¼Œç”±æµè§ˆå™¨æ¥è§‚çœ‹çš„_Applet<br>ï¼ˆbï¼‰å¯ç‹¬ç«‹è¿è¡Œçš„ Application<br>ï¼ˆcï¼‰æœåŠ¡å™¨ç«¯çš„ Servlets</p><p>Serverletsçš„å·¥ä½œæ˜¯ï¼š<br>è¯»å…¥ç”¨æˆ·å‘æ¥çš„æ•°æ®ï¼ˆé€šå¸¸åœ¨webé¡µçš„formä¸­ï¼‰<br>æ‰¾å‡ºéšå«åœ¨HTTPè¯·æ±‚ä¸­çš„å…¶ä»–è¯·æ±‚ä¿¡æ¯ï¼ˆå¦‚æµè§ˆå™¨åŠŸèƒ½ç»†èŠ‚ã€è¯·æ±‚ç«¯ä¸»æœºåç­‰ã€‚<br>äº§ç”Ÿç»“æœ(è°ƒç”¨å…¶ä»–ç¨‹åºã€è®¿é—®æ•°æ®åº“ã€ç›´æ¥è®¡ç®—)<br>æ ¼å¼åŒ–ç»“æœï¼ˆç½‘é¡µï¼‰<br>è®¾ç½®HTTP responseå‚æ•°(å¦‚å‘Šè¯‰æµè§ˆå™¨è¿”å›æ–‡æ¡£æ ¼å¼)<br>å°†æ–‡æ¡£è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p><h5 id="æ–¹æ³•é€šå¸¸å­˜å‚¨åœ¨è¿›ç¨‹ä¸­çš„ä»£ç åŒº"><a class="header-anchor" href="#æ–¹æ³•é€šå¸¸å­˜å‚¨åœ¨è¿›ç¨‹ä¸­çš„ä»£ç åŒº">Â¶</a>æ–¹æ³•é€šå¸¸å­˜å‚¨åœ¨è¿›ç¨‹ä¸­çš„ä»£ç åŒº</h5><p>å‚è€ƒé“¾æ¥(<a href="http://www.cnblogs.com/liulipeng/archive/2013/09/13/3319675.html" target="_blank" rel="noopener">http://www.cnblogs.com/liulipeng/archive/2013/09/13/3319675.html</a>)</p><h5 id="å¼€å‘javaç¨‹åºçš„ä¸‰ä¸ªæ­¥éª¤"><a class="header-anchor" href="#å¼€å‘javaç¨‹åºçš„ä¸‰ä¸ªæ­¥éª¤">Â¶</a>å¼€å‘JAVAç¨‹åºçš„ä¸‰ä¸ªæ­¥éª¤:</h5><ol><li>ç¼–å†™JAVAçš„æºç¨‹åº</li><li>ç¼–è¯‘ç¨‹åºç”Ÿæˆå­—èŠ‚ç .classæ–‡ä»¶(javaæ˜¯é«˜çº§è¯­è¨€ï¼Œä¸ä¼šç›´æ¥ç”Ÿæˆæœºå™¨è¯­è¨€)</li><li>é€šè¿‡JVMè§£é‡Šæ‰§è¡Œï¼ˆé€šè¿‡jvmè§£é‡Šä¸ºç‰¹å®šçš„æ“ä½œç³»ç»Ÿå¦‚Windowsã€Linuxç­‰èƒ½ç†è§£çš„æœºå™¨ç ï¼Œæœ€ç»ˆJAVAç¨‹åºå¾—ä»¥æ‰§è¡Œï¼‰</li></ol><h5 id="jspå†…ç½®å¯¹è±¡æœ‰ï¼š"><a class="header-anchor" href="#jspå†…ç½®å¯¹è±¡æœ‰ï¼š">Â¶</a>JSPå†…ç½®å¯¹è±¡æœ‰ï¼š</h5><p>jspä¹å¤§å†…ç½®å¯¹è±¡ï¼š</p><p>request,response,  session,out,page,application,exception,pagecontext,config</p><h5 id="åŸºæœ¬ç±»å‹å››ç±»å…«ç§-å…¶ä½™å…¨æ˜¯å¼•ç”¨ç±»å‹"><a class="header-anchor" href="#åŸºæœ¬ç±»å‹å››ç±»å…«ç§-å…¶ä½™å…¨æ˜¯å¼•ç”¨ç±»å‹">Â¶</a>åŸºæœ¬ç±»å‹å››ç±»å…«ç§ å…¶ä½™å…¨æ˜¯å¼•ç”¨ç±»å‹</h5><p>å››ç±»å…«ç§ï¼š<br>æ•´æ•°ï¼ˆbyte short int long)<br>æµ®ç‚¹æ•°(float double)<br>å­—ç¬¦å‹(char)<br>é€»è¾‘æ€§(boolean)<br>æ³¨æ„å¤§å°å†™ï¼Œå¤§å†™çš„æ˜¯å°è£…åŸºæœ¬ç±»å‹çš„å¼•ç”¨ç±»å‹ã€‚<br>byte - Byte<br>short - Short<br>int - Integer<br>long - Long<br>float - Float<br>double - Double<br>char - Charactor<br>boolean - Boolean</p><h5 id="æ„é€ æ–¹æ³•"><a class="header-anchor" href="#æ„é€ æ–¹æ³•">Â¶</a>æ„é€ æ–¹æ³•</h5><ol><li>å®šä¹‰ï¼š</li></ol><ul><li>ä½¿ç”¨å…³é”®å­—newå®ä¾‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡çš„æ—¶å€™é»˜è®¤è°ƒç”¨çš„æ–¹æ³•</li><li>æ„é€ æ–¹æ³•æ‰€å®Œæˆçš„ä¸»è¦å·¥ä½œæ˜¯å¯¹æ–°åˆ›å»ºå¯¹è±¡çš„æ•°æ®æˆå‘˜èµ‹åˆå€¼</li></ul><ol start="2"><li>ä½¿ç”¨æ—¶éœ€æ³¨æ„:</li></ol><ul><li>æ„é€ æ–¹æ³•åç§°å’Œå…¶æ‰€å±çš„ç±»åå¿…é¡»ä¿æŒä¸€è‡´</li><li>æ„é€ æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿä¸å¯ä»¥ä½¿ç”¨void</li><li>æ„é€ æ–¹æ³•ä¹Ÿå¯ä»¥åƒæ™®é€šæ–¹æ³•ä¸€æ ·è¢«é‡è½½</li><li>æ„é€ æ–¹æ³•ä¸èƒ½è¢«staticå’Œfinalä¿®é¥°</li><li>æ„é€ æ–¹æ³•ä¸èƒ½è¢«ç»§æ‰¿ï¼Œå­ç±»ä½¿ç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•éœ€è¦ä½¿ç”¨superå…³é”®å­—</li></ul><h5 id="ç±»æ„é€ æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ç”¨super-è°ƒç”¨æœ¬ç±»å…¶ä»–çš„æ„é€ æ–¹æ³•ç”¨this-superå’Œthiséƒ½åªèƒ½ä½äºç±»æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œ-ä¸èƒ½åŒæ—¶å­˜åœ¨"><a class="header-anchor" href="#ç±»æ„é€ æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ç”¨super-è°ƒç”¨æœ¬ç±»å…¶ä»–çš„æ„é€ æ–¹æ³•ç”¨this-superå’Œthiséƒ½åªèƒ½ä½äºç±»æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œ-ä¸èƒ½åŒæ—¶å­˜åœ¨">Â¶</a>ç±»æ„é€ æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ç”¨superï¼Œè°ƒç”¨æœ¬ç±»å…¶ä»–çš„æ„é€ æ–¹æ³•ç”¨thisã€‚ superå’Œthiséƒ½åªèƒ½ä½äºç±»æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œï¼Œä¸èƒ½åŒæ—¶å­˜åœ¨</h5><h4 id="ä»¥ä¸‹è¾“å‡ºç»“æœæ˜¯"><a class="header-anchor" href="#ä»¥ä¸‹è¾“å‡ºç»“æœæ˜¯">Â¶</a>ä»¥ä¸‹è¾“å‡ºç»“æœæ˜¯</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class Example &#123;</span><br><span class="line">    String str = new String(&quot;good&quot;);</span><br><span class="line">    char[] ch = &#123; &apos;a&apos;, &apos;b&apos;, &apos;c&apos; &#125;;</span><br><span class="line"></span><br><span class="line">    public static void main(String args[]) &#123;</span><br><span class="line">        Example ex = new Example();</span><br><span class="line">        ex.change(ex.str, ex.ch);</span><br><span class="line">        System.out.print(ex.str + &quot; and &quot;);</span><br><span class="line">        System.out.print(ex.ch);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   public static void change(String str, char ch[])      </span><br><span class="line">   &#123;</span><br><span class="line">        str = &quot;test ok&quot;;</span><br><span class="line">        ch[0] = &apos;g&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>good and gbc</p></blockquote><p>è¯´æ³•ä¸€ï¼š</p><ol><li>æ¦‚å¿µï¼š</li></ol><p>javaä¼ å‚åªæœ‰æŒ‰å€¼ä¼ é€’ï¼ˆä¹Ÿå°±æ˜¯æŠŠå®å‚çš„å€¼æ‹·è´ç»™å½¢å‚ï¼Œè¿™ä¸ªå€¼å¯ä»¥æ˜¯æ™®é€šçš„æ•°å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯åœ°å€å€¼ï¼‰ï¼Œjavaä¸­çš„å¯¹è±¡åªèƒ½é€šè¿‡æŒ‡å‘å®ƒçš„å¼•ç”¨æ¥æ“ä½œï¼Œè¿™ä¸ªå¼•ç”¨æœ¬èº«ä¹Ÿæ˜¯å˜é‡ï¼Œä¸è¦ä¸C/C++ä¸­çš„ä¼ å€¼ä¸ä¼ å€æ··æ·†äº†ï¼Œjavaä¸­æ²¡æœ‰æ˜¾å¼çš„æŒ‡é’ˆã€‚</p><p>åˆ†æï¼šchangeå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œç¬¬ä¸€ä¸ªå½¢å‚stræ¥æ”¶äº†ç±»çš„æˆå‘˜å˜é‡strçš„å€¼ï¼ˆè™½ç„¶åç§°éƒ½æ˜¯strï¼Œä½†æ˜¯å´æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„Stringç±»å‹çš„å¼•ç”¨å˜é‡ï¼‰ï¼Œæ³¨æ„è¿™ä¸¤ä¸ªstrè‡ªèº«éƒ½æ˜¯å˜é‡ä¸”éƒ½æŒ‡å‘äº†å †å†…å­˜ä¸­çš„Stringå¯¹è±¡&quot;good&quot;ï¼Œå½“æˆ‘ä»¬åœ¨changeå‡½æ•°å†…éƒ¨å°†stræŒ‡å‘äº†å¦ä¸€ä¸ªStringå¯¹è±¡&quot;test ok&quot;åï¼Œç±»çš„æˆå‘˜å˜é‡strä»ç„¶ä¿æŒæŒ‡å‘&quot;good&quot;ï¼Œæ‰€ä»¥æœ€ç»ˆæ‰“å°å‡ºæ¥å°±æ˜¯&quot;good&quot;ï¼›å¯¹äºç¬¬äºŒä¸ªå½¢å‚chï¼Œå®ƒä¹Ÿæ˜¯æ¥æ”¶äº†ç±»çš„æˆå‘˜å˜é‡chçš„å€¼æ‹·è´ï¼Œè¿™ä¸€ç‚¹å’Œstræ²¡æœ‰å·®åˆ«ï¼Œå³ä¸¤ä¸ªchéƒ½æŒ‡å‘äº†å­—ç¬¦æ•°ç»„{ â€˜aâ€™, â€˜bâ€™, â€˜câ€™ }çš„é¦–åœ°å€ï¼Œä½†æ˜¯ch[0]è¡¨ç¤ºçš„æ˜¯å­—ç¬¦æ•°ç»„ä¸­â€™aâ€™çš„åœ°å€ï¼Œä¿®æ”¹äº†å®ƒä¹Ÿå°±ä¿®æ”¹äº†å­—ç¬¦æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¿™ä¸ªæ”¹å˜åœ¨changeå‡½æ•°è¿”å›ä¹‹åä¹Ÿä¼šå­˜åœ¨ã€‚æ‰€ä»¥æœ¬é¢˜ä¸­ä¸¤ä¸ªå½¢å‚ä¼ å‚çš„æœ¬è´¨åŒºåˆ«åœ¨äºï¼Œä¿®æ”¹stråªæ˜¯å°†å½¢å‚æŒ‡å‘äº†æ–°çš„å¯¹è±¡ï¼Œå¯¹å¤–éƒ¨çš„å®å‚æ²¡æœ‰ä»»ä½•å½±å“ï¼Œè€Œä¿®æ”¹ch[0]æ˜¯å®å®åœ¨åœ¨çš„ä¿®æ”¹äº†å­—ç¬¦æ•°ç»„çš„é¦–å…ƒç´ ã€‚</p><ol start="2"><li>æ‹“å±•</li></ol><ul><li>å¯ä»¥è¯•éªŒä¸€ä¸‹ï¼Œåœ¨Exampleä¸­å†å®šä¹‰ä¸€ä¸ªå­—ç¬¦æ•°ç»„char[] ch2={â€˜dâ€™};ç„¶ååœ¨changeå‡½æ•°ä¸­æŠŠch[0] = â€˜gâ€™;è¿™å¥æ”¹æˆch=ch2;ï¼Œé‚£ä¹ˆå°±ä¼šå’Œsträ¼ å‚ä¸€æ ·çš„ï¼Œchangeå‡½æ•°è¿”å›åä¸ä¼šå¯¹ç±»çš„æˆå‘˜chæœ‰ä»»ä½•å½±å“ã€‚</li><li>æœ¬é¢˜å’Œâ€œStringç±»æ˜¯ä¸€ä¸ªfinalç±»ï¼Œä¸èƒ½è¢«ç»§æ‰¿â€ä»¥åŠâ€œStringåº•å±‚çš„å­—ç¬¦æ•°ç»„è¢«å£°æ˜ä¸ºprivate final char value[];æ‰€ä»¥å…¶å€¼ä¸èƒ½è¢«ä¿®æ”¹â€è¿™äº›Stringçš„ç‰¹æ€§æ— å…³ã€‚</li><li>æˆ‘ä»¬å¹³æ—¶äº¤æ¢æ•°ç»„ä¸­çš„ä¸¤ä¸ªå…ƒç´ æ—¶ï¼Œä¸€èˆ¬å®šä¹‰swapæ–¹æ³•ä¸º void swap(int[] a, int i, int j)ï¼Œæƒ³æƒ³çœ‹ä¸ºä»€ä¹ˆèƒ½è¾¾åˆ°ç›®çš„ï¼Ÿå¦‚æœä¸ä½¿ç”¨æ•°ç»„ï¼Œèƒ½å®ç°äº¤æ¢å—ï¼Ÿæ•°ç»„ä¸­å­˜æ”¾çš„ä¸æ˜¯åŸºæœ¬ç±»å‹å˜é‡è€Œæ˜¯å¼•ç”¨ç±»å‹å˜é‡å‘¢ï¼Ÿ</li></ul><p>è¯´æ³•äºŒ:</p><p>å…¶å®éƒ½æ˜¯å¼•ç”¨ä¼ é€’ï¼Œåªæ˜¯å› ä¸ºStringæ˜¯ä¸ªç‰¹æ®Šçš„finalç±»ï¼Œæ‰€ä»¥æ¯æ¬¡å¯¹Stringçš„æ›´æ”¹éƒ½ä¼šé‡æ–°åˆ›å»ºå†…å­˜åœ°å€å¹¶å­˜å‚¨ï¼ˆä¹Ÿå¯èƒ½æ˜¯åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­åˆ›å»ºå†…å­˜åœ°å€å¹¶å­˜å…¥å¯¹åº”çš„å­—ç¬¦ä¸²å†…å®¹ï¼‰ï¼Œä½†æ˜¯å› ä¸ºè¿™é‡ŒStringæ˜¯ä½œä¸ºå‚æ•°ä¼ é€’çš„ï¼Œåœ¨æ–¹æ³•ä½“å†…ä¼šäº§ç”Ÿæ–°çš„å­—ç¬¦ä¸²è€Œä¸ä¼šå¯¹æ–¹æ³•ä½“å¤–çš„å­—ç¬¦ä¸²äº§ç”Ÿå½±å“ã€‚</p><h5 id="å…³äºstring"><a class="header-anchor" href="#å…³äºstring">Â¶</a>å…³äºString</h5><blockquote><p>String str1 = â€œhelloâ€;<br>String str2 = â€œheâ€ + new String(â€œlloâ€);<br>System.err.println(str1 == str2);</p></blockquote><p>è§£é‡Šï¼šString str1 = â€œhelloâ€;è¿™é‡Œçš„str1æŒ‡çš„æ˜¯æ–¹æ³•åŒºçš„å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„â€œhelloâ€ï¼Œç¼–è¯‘æ—¶æœŸå°±çŸ¥é“çš„ï¼› String str2 = â€œheâ€ + new String(â€œlloâ€);è¿™é‡Œçš„str2å¿…é¡»åœ¨è¿è¡Œæ—¶æ‰çŸ¥é“str2æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥å®ƒæ˜¯æŒ‡å‘çš„æ˜¯å †é‡Œå®šä¹‰çš„å­—ç¬¦ä¸²â€œhelloâ€ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªå¼•ç”¨æ˜¯ä¸ä¸€æ ·çš„ã€‚<br>å¦‚æœç”¨str1.equal(str2)ï¼Œé‚£ä¹ˆè¿”å›çš„æ˜¯Trueï¼›å› ä¸ºä¸¤ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹ä¸€æ ·ã€‚</p><h5 id="è‡ªåŠ¨æ‹†è£…ç®±"><a class="header-anchor" href="#è‡ªåŠ¨æ‹†è£…ç®±">Â¶</a>è‡ªåŠ¨æ‹†è£…ç®±</h5><ol><li>åŸºæœ¬å‹å’ŒåŸºæœ¬å‹å°è£…å‹è¿›è¡Œâ€œ==â€è¿ç®—ç¬¦çš„æ¯”è¾ƒï¼ŒåŸºæœ¬å‹å°è£…å‹å°†ä¼šè‡ªåŠ¨æ‹†ç®±å˜ä¸ºåŸºæœ¬å‹åå†è¿›è¡Œæ¯”è¾ƒï¼Œå› æ­¤Integer(0)ä¼šè‡ªåŠ¨æ‹†ç®±ä¸ºintç±»å‹å†è¿›è¡Œæ¯”è¾ƒï¼Œæ˜¾ç„¶è¿”å›trueï¼›</li><li>ä¸¤ä¸ªIntegerç±»å‹è¿›è¡Œâ€œ==â€æ¯”è¾ƒï¼Œå¦‚æœå…¶å€¼åœ¨-128è‡³127ï¼Œé‚£ä¹ˆè¿”å›trueï¼Œå¦åˆ™è¿”å›false, è¿™è·ŸInteger.valueOf()çš„ç¼“å†²å¯¹è±¡æœ‰å…³ï¼Œè¿™é‡Œä¸è¿›è¡Œèµ˜è¿°ã€‚</li><li>ä¸¤ä¸ªåŸºæœ¬å‹çš„å°è£…å‹è¿›è¡Œequals()æ¯”è¾ƒï¼Œé¦–å…ˆequals()ä¼šæ¯”è¾ƒç±»å‹ï¼Œå¦‚æœç±»å‹ç›¸åŒï¼Œåˆ™ç»§ç»­æ¯”è¾ƒå€¼ï¼Œå¦‚æœå€¼ä¹Ÿç›¸åŒï¼Œè¿”å›true</li><li>åŸºæœ¬å‹å°è£…ç±»å‹è°ƒç”¨equals(),ä½†æ˜¯å‚æ•°æ˜¯åŸºæœ¬ç±»å‹ï¼Œè¿™æ—¶å€™ï¼Œå…ˆä¼šè¿›è¡Œè‡ªåŠ¨è£…ç®±ï¼ŒåŸºæœ¬å‹è½¬æ¢ä¸ºå…¶å°è£…ç±»å‹ï¼Œå†è¿›è¡Œ3ä¸­çš„æ¯”è¾ƒã€‚</li></ol><p>è§£é‡Šï¼š</p><blockquote><p>int a=257;<br>Integer b=257;<br>Integer c=257;<br>Integer b2=57;<br>Integer c2=57;<br>System.out.println(a==b);<br><a href="//System.out.println">//System.out.println</a>(a.equals(b));  ç¼–è¯‘å‡ºé”™ï¼ŒåŸºæœ¬å‹ä¸èƒ½è°ƒç”¨equals()<br>System.out.println(b.equals(257.0));<br>System.out.println(b==c);<br>System.out.println(b2==c2);</p></blockquote><p>å› æ­¤ä¸Šé¢çš„ä»£ç çš„ç»“æœå› æ­¤ä¸º true, false, false, true</p><h5 id="javaå¤šçº¿ç¨‹é—´çš„é€šè®¯ä¹‹ç­‰å¾…å”¤é†’æœºåˆ¶"><a class="header-anchor" href="#javaå¤šçº¿ç¨‹é—´çš„é€šè®¯ä¹‹ç­‰å¾…å”¤é†’æœºåˆ¶">Â¶</a>javaå¤šçº¿ç¨‹é—´çš„é€šè®¯ä¹‹ç­‰å¾…å”¤é†’æœºåˆ¶</h5><h5 id="1-wait-notify-å’Œnotifyall-æ˜¯-objectç±»-ä¸­çš„æ–¹æ³•"><a class="header-anchor" href="#1-wait-notify-å’Œnotifyall-æ˜¯-objectç±»-ä¸­çš„æ–¹æ³•">Â¶</a>1. wait()ã€notify()å’ŒnotifyAll()æ˜¯ Objectç±» ä¸­çš„æ–¹æ³•</h5><ol><li>wait()ã€notify()å’ŒnotifyAll()æ˜¯ Objectç±» ä¸­çš„æ–¹æ³•</li><li>è°ƒç”¨æŸä¸ªå¯¹è±¡çš„wait()æ–¹æ³•èƒ½è®©å½“å‰çº¿ç¨‹é˜»å¡ï¼Œå¹¶ä¸”å½“å‰çº¿ç¨‹å¿…é¡»æ‹¥æœ‰æ­¤å¯¹è±¡çš„monitorï¼ˆå³é”ï¼‰</li><li>è°ƒç”¨æŸä¸ªå¯¹è±¡çš„notify()æ–¹æ³•èƒ½å¤Ÿå”¤é†’ä¸€ä¸ªæ­£åœ¨ç­‰å¾…è¿™ä¸ªå¯¹è±¡çš„monitorçš„çº¿ç¨‹ï¼Œå¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹éƒ½åœ¨ç­‰å¾…è¿™ä¸ªå¯¹è±¡çš„monitorï¼Œåˆ™åªèƒ½å”¤é†’å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹</li><li>è°ƒç”¨notifyAll()æ–¹æ³•èƒ½å¤Ÿå”¤é†’æ‰€æœ‰æ­£åœ¨ç­‰å¾…è¿™ä¸ªå¯¹è±¡çš„monitorçš„çº¿ç¨‹ï¼›</li></ol><ul><li>wait()æ–¹æ³•è¢«æŸä¸ªå¯¹åƒè°ƒç”¨æ—¶ï¼Œç›¸å½“äºè®©å½“å‰çº¿ç¨‹äº¤å‡ºæ­¤å¯¹è±¡çš„monitorï¼Œç„¶åè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œ<br>ç­‰å¾…åç»­å†æ¬¡è·å¾—æ­¤å¯¹è±¡çš„é”ï¼ˆThreadç±»ä¸­çš„sleepæ–¹æ³•ä½¿å½“å‰çº¿ç¨‹æš‚åœæ‰§è¡Œä¸€æ®µæ—¶é—´ï¼Œä»<br>è€Œè®©å…¶ä»–çº¿ç¨‹æœ‰æœºä¼šç»§ç»­æ‰§è¡Œï¼Œä½†å®ƒå¹¶ä¸é‡Šæ”¾å¯¹è±¡é”ï¼‰ï¼›</li><li>notify()æ–¹æ³•èƒ½å¤Ÿå”¤é†’ä¸€ä¸ªæ­£åœ¨ç­‰å¾…è¯¥å¯¹è±¡çš„monitorçš„çº¿ç¨‹ï¼Œå½“æœ‰å¤šä¸ªçº¿ç¨‹éƒ½åœ¨ç­‰å¾…è¯¥å¯¹è±¡<br>çš„monitorçš„è¯ï¼Œåˆ™åªèƒ½å”¤é†’å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ï¼Œå…·ä½“å”¤é†’å“ªä¸ªçº¿ç¨‹åˆ™ä¸å¾—è€ŒçŸ¥ã€‚<br>åŒæ ·åœ°ï¼Œè°ƒç”¨æŸä¸ªå¯¹è±¡çš„notify()æ–¹æ³•ï¼Œå½“å‰çº¿ç¨‹ä¹Ÿå¿…é¡»æ‹¥æœ‰è¿™ä¸ªå¯¹è±¡çš„monitorï¼Œå› æ­¤è°ƒç”¨<br>notify()æ–¹æ³•å¿…é¡»åœ¨åŒæ­¥å—æˆ–è€…åŒæ­¥æ–¹æ³•ä¸­è¿›è¡Œï¼ˆsynchronizedå—æˆ–è€…synchronizedæ–¹æ³•ï¼‰ã€‚</li><li>nofityAll()æ–¹æ³•èƒ½å¤Ÿå”¤é†’æ‰€æœ‰æ­£åœ¨ç­‰å¾…è¯¥å¯¹è±¡çš„monitorçš„çº¿ç¨‹ï¼Œè¿™ä¸€ç‚¹ä¸notify()æ–¹æ³•æ˜¯ä¸åŒçš„ã€‚</li></ul><h5 id="conditionæ˜¯åœ¨java-1-5ä¸­æ‰å‡ºç°çš„-å®ƒç”¨æ¥æ›¿ä»£ä¼ ç»Ÿçš„objectçš„wait-notify-å®ç°çº¿ç¨‹é—´çš„åä½œ-ç›¸æ¯”ä½¿ç”¨objectçš„wait-notify-ä½¿ç”¨condition1çš„await-signal-è¿™ç§æ–¹å¼å®ç°çº¿ç¨‹é—´åä½œæ›´åŠ å®‰å…¨å’Œé«˜æ•ˆ-å› æ­¤é€šå¸¸æ¥è¯´æ¯”è¾ƒæ¨èä½¿ç”¨condition-åœ¨é˜»å¡é˜Ÿåˆ—é‚£ä¸€ç¯‡åšæ–‡ä¸­å°±è®²è¿°åˆ°äº†-é˜»å¡é˜Ÿåˆ—å®é™…ä¸Šæ˜¯ä½¿ç”¨äº†conditionæ¥æ¨¡æ‹Ÿçº¿ç¨‹é—´åä½œ"><a class="header-anchor" href="#conditionæ˜¯åœ¨java-1-5ä¸­æ‰å‡ºç°çš„-å®ƒç”¨æ¥æ›¿ä»£ä¼ ç»Ÿçš„objectçš„wait-notify-å®ç°çº¿ç¨‹é—´çš„åä½œ-ç›¸æ¯”ä½¿ç”¨objectçš„wait-notify-ä½¿ç”¨condition1çš„await-signal-è¿™ç§æ–¹å¼å®ç°çº¿ç¨‹é—´åä½œæ›´åŠ å®‰å…¨å’Œé«˜æ•ˆ-å› æ­¤é€šå¸¸æ¥è¯´æ¯”è¾ƒæ¨èä½¿ç”¨condition-åœ¨é˜»å¡é˜Ÿåˆ—é‚£ä¸€ç¯‡åšæ–‡ä¸­å°±è®²è¿°åˆ°äº†-é˜»å¡é˜Ÿåˆ—å®é™…ä¸Šæ˜¯ä½¿ç”¨äº†conditionæ¥æ¨¡æ‹Ÿçº¿ç¨‹é—´åä½œ">Â¶</a>Conditionæ˜¯åœ¨java 1.5ä¸­æ‰å‡ºç°çš„ï¼Œå®ƒç”¨æ¥æ›¿ä»£ä¼ ç»Ÿçš„Objectçš„wait()ã€notify()å®ç°çº¿ç¨‹é—´çš„åä½œï¼Œç›¸æ¯”ä½¿ç”¨Objectçš„wait()ã€notify()ï¼Œä½¿ç”¨Condition1çš„await()ã€signal()è¿™ç§æ–¹å¼å®ç°çº¿ç¨‹é—´åä½œæ›´åŠ å®‰å…¨å’Œé«˜æ•ˆã€‚å› æ­¤é€šå¸¸æ¥è¯´æ¯”è¾ƒæ¨èä½¿ç”¨Conditionï¼Œåœ¨é˜»å¡é˜Ÿåˆ—é‚£ä¸€ç¯‡åšæ–‡ä¸­å°±è®²è¿°åˆ°äº†ï¼Œé˜»å¡é˜Ÿåˆ—å®é™…ä¸Šæ˜¯ä½¿ç”¨äº†Conditionæ¥æ¨¡æ‹Ÿçº¿ç¨‹é—´åä½œã€‚</h5><ul><li>Conditionæ˜¯ä¸ªæ¥å£ï¼ŒåŸºæœ¬çš„æ–¹æ³•å°±æ˜¯await()å’Œsignal()æ–¹æ³•ï¼›</li><li>Conditionä¾èµ–äºLockæ¥å£ï¼Œç”Ÿæˆä¸€ä¸ªConditionçš„åŸºæœ¬ä»£ç æ˜¯lock.newCondition()</li><li>è°ƒç”¨Conditionçš„await()å’Œsignal()æ–¹æ³•ï¼Œéƒ½å¿…é¡»åœ¨lockä¿æŠ¤ä¹‹å†…ï¼Œå°±æ˜¯è¯´å¿…é¡»åœ¨lock.lock()å’Œlock.unlockä¹‹é—´æ‰å¯ä»¥ä½¿ç”¨Conditonä¸­çš„await()å¯¹åº”Objectçš„wait()ï¼› Conditionä¸­çš„signal()å¯¹åº”Objectçš„notify()ï¼› Conditionä¸­çš„signalAll()å¯¹åº”Objectçš„notifyAll()</li></ul><h5 id="ä¸€ä¸ªé€‰æ‹©é¢˜æ•™ä½ å­¦æ–¹æ³•é‡å†™"><a class="header-anchor" href="#ä¸€ä¸ªé€‰æ‹©é¢˜æ•™ä½ å­¦æ–¹æ³•é‡å†™">Â¶</a>ä¸€ä¸ªé€‰æ‹©é¢˜æ•™ä½ å­¦æ–¹æ³•é‡å†™</h5><p>å¦‚æœä¸€ä¸ªæ¥å£Cowæœ‰ä¸ªæ–¹æ³•drink()ï¼Œæœ‰ä¸ªç±»Calfå®ç°æ¥å£Cowï¼Œåˆ™åœ¨ç±»Calfä¸­æ­£ç¡®çš„æ˜¯ï¼Ÿ  Â©</p><ul><li>A. void drink() { â€¦}</li><li>B. protected void drink() { â€¦}</li><li>C. public void drink() { â€¦}</li><li>D. ä»¥ä¸Šè¯­å¥éƒ½å¯ä»¥ç”¨åœ¨ç±»Calfä¸­</li></ul><h5 id="å‡è®¾-a-ç±»æœ‰å¦‚ä¸‹å®šä¹‰-è®¾-a-æ˜¯-a-ç±»çš„ä¸€ä¸ªå®ä¾‹-ä¸‹åˆ—è¯­å¥è°ƒç”¨å“ªä¸ªæ˜¯é”™è¯¯çš„ï¼Ÿ"><a class="header-anchor" href="#å‡è®¾-a-ç±»æœ‰å¦‚ä¸‹å®šä¹‰-è®¾-a-æ˜¯-a-ç±»çš„ä¸€ä¸ªå®ä¾‹-ä¸‹åˆ—è¯­å¥è°ƒç”¨å“ªä¸ªæ˜¯é”™è¯¯çš„ï¼Ÿ">Â¶</a>å‡è®¾ A ç±»æœ‰å¦‚ä¸‹å®šä¹‰ï¼Œè®¾ a æ˜¯ A ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œä¸‹åˆ—è¯­å¥è°ƒç”¨å“ªä¸ªæ˜¯é”™è¯¯çš„ï¼Ÿï¼ˆï¼‰</h5><blockquote><p>Class A<br>{<br>Int i;<br>Static String s;<br>Void method1(){}<br>Static void method2(){}<br>}</p></blockquote><p>è§£æï¼šé™æ€æˆå‘˜å’Œé™æ€æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»åè¿›è¡Œè°ƒç”¨ï¼›å…¶ä»–çš„æˆå‘˜å’Œæ–¹æ³•åˆ™éœ€è¦è¿›è¡Œå®ä¾‹åŒ–æˆå¯¹è±¡ä¹‹åï¼Œé€šè¿‡å¯¹è±¡æ¥è°ƒç”¨ã€‚<br>æ‰€ä»¥a.method1();(å¯¹)ã€A.method2();(å¯¹)ã€ A.method1();(é”™)</p><h5 id="java-å¤šæ€"><a class="header-anchor" href="#java-å¤šæ€">Â¶</a>java å¤šæ€</h5><p>æŠ½è±¡ç±»æˆ–è€…æ¥å£æ ¹æœ¬æ— æ³•å®ä¾‹åŒ–</p><h5 id="å“ªäº›æƒ…å†µå¯ä»¥ç»ˆæ­¢å½“å‰çº¿ç¨‹çš„è¿è¡Œ"><a class="header-anchor" href="#å“ªäº›æƒ…å†µå¯ä»¥ç»ˆæ­¢å½“å‰çº¿ç¨‹çš„è¿è¡Œ">Â¶</a>å“ªäº›æƒ…å†µå¯ä»¥ç»ˆæ­¢å½“å‰çº¿ç¨‹çš„è¿è¡Œ?</h5><ul><li>ä¼˜å…ˆçº§é«˜çš„å¹¶ä¸ä¸€å®šä¼šé©¬ä¸Šæ‰§è¡Œã€‚</li><li>sleepæ–¹æ³•ä¼šé˜»å¡ä¸€ä¸ªçº¿ç¨‹å¹¶ä¸ä¼šç»ˆæ­¢</li><li>åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹æ—¶ä¹Ÿä¸ä¼šç»ˆæ­¢å¦ä¸€ä¸ªçº¿ç¨‹</li><li>å½“æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸åç¨‹åºä¼šç»“æŸï¼Œæ‰€ä»¥çº¿ç¨‹ä¹Ÿä¼šè¢«ç»ˆæ­¢</li></ul><h5 id="javaä¸å…è®¸å•ç‹¬çš„æ–¹æ³•-è¿‡ç¨‹æˆ–å‡½æ•°å­˜åœ¨-éœ€è¦éš¶å±äºæŸä¸€ç±»ä¸­-javaè¯­è¨€ä¸­çš„æ–¹æ³•å±äºå¯¹è±¡çš„æˆå‘˜-è€Œä¸æ˜¯ç±»çš„æˆå‘˜-ä¸è¿‡-å…¶ä¸­é™æ€æ–¹æ³•å±äºç±»çš„æˆå‘˜"><a class="header-anchor" href="#javaä¸å…è®¸å•ç‹¬çš„æ–¹æ³•-è¿‡ç¨‹æˆ–å‡½æ•°å­˜åœ¨-éœ€è¦éš¶å±äºæŸä¸€ç±»ä¸­-javaè¯­è¨€ä¸­çš„æ–¹æ³•å±äºå¯¹è±¡çš„æˆå‘˜-è€Œä¸æ˜¯ç±»çš„æˆå‘˜-ä¸è¿‡-å…¶ä¸­é™æ€æ–¹æ³•å±äºç±»çš„æˆå‘˜">Â¶</a>javaä¸å…è®¸å•ç‹¬çš„æ–¹æ³•ï¼Œè¿‡ç¨‹æˆ–å‡½æ•°å­˜åœ¨,éœ€è¦éš¶å±äºæŸä¸€ç±»ä¸­; javaè¯­è¨€ä¸­çš„æ–¹æ³•å±äºå¯¹è±¡çš„æˆå‘˜,è€Œä¸æ˜¯ç±»çš„æˆå‘˜ã€‚ä¸è¿‡ï¼Œå…¶ä¸­é™æ€æ–¹æ³•å±äºç±»çš„æˆå‘˜</h5><h5 id="equals-å’Œ-çš„åŒºåˆ«ï¼š"><a class="header-anchor" href="#equals-å’Œ-çš„åŒºåˆ«ï¼š">Â¶</a>equals()å’Œ==çš„åŒºåˆ«ï¼š</h5><blockquote><p>String s1=â€œabcâ€+â€œdefâ€;//1<br>String s2=new Stringï¼ˆs1);//2<br>if(s1.equals(s2))//3<br>System.out.println(&quot;.equals succeeded&quot;);//4<br>if(s1==s2)//5<br>System.out.println(&quot;==succeeded&quot;);//6</p></blockquote><p>equalsï¼ˆï¼‰æ¯”è¾ƒçš„æ˜¯å­—ç¬¦ä¸²çš„å†…å®¹ï¼Œ==æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€å€¼</p><p>s1å­˜æ”¾åœ¨å¸¸é‡æ± ä¸­ s2å­˜æ”¾åœ¨å †åŒºä¸­  å†…å­˜åœ°å€å€¼æ˜¯ä¸ä¸€æ ·çš„</p><h5 id="åƒåœ¾å›æ”¶æœºåˆ¶-å¦‚é¢˜"><a class="header-anchor" href="#åƒåœ¾å›æ”¶æœºåˆ¶-å¦‚é¢˜">Â¶</a>åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œå¦‚é¢˜</h5><blockquote><p>static String str0=â€œ0123456789â€;<br>static String str1=â€œ0123456789â€;<br>String str2=str1.substring(5);<br>String str3=new String(str2);<br>String str4=new String(str3.toCharArray());<br>str0=null;<br>å‡å®šstr0,â€¦,str4ååºä»£ç éƒ½æ˜¯åªè¯»å¼•ç”¨ã€‚<br>Java 7ä¸­ï¼Œä»¥ä¸Šè¿°ä»£ç ä¸ºåŸºç¡€ï¼Œåœ¨å‘ç”Ÿè¿‡ä¸€æ¬¡FullGCåï¼Œä¸Šè¿°ä»£ç åœ¨Heapç©ºé—´ï¼ˆä¸åŒ…æ‹¬PermGenï¼‰ä¿ç•™çš„å­—ç¬¦æ•°ä¸ºï¼ˆï¼‰</p></blockquote><p>åƒåœ¾å›æ”¶ä¸»è¦é’ˆå¯¹çš„æ˜¯å †åŒºçš„å›æ”¶ï¼Œå› ä¸ºæ ˆåŒºçš„å†…å­˜æ˜¯éšç€çº¿ç¨‹è€Œé‡Šæ”¾çš„ã€‚<br>å †åŒºåˆ†ä¸ºä¸‰ä¸ªåŒºï¼šå¹´è½»ä»£ï¼ˆYoung Generationï¼‰ã€å¹´è€ä»£ï¼ˆOld Generationï¼‰ã€æ°¸ä¹…ä»£ï¼ˆPermanent Generationï¼Œä¹Ÿå°±æ˜¯æ–¹æ³•åŒºï¼‰ã€‚<br>å¹´è½»ä»£ï¼šå¯¹è±¡è¢«åˆ›å»ºæ—¶ï¼ˆnewï¼‰çš„å¯¹è±¡é€šå¸¸è¢«æ”¾åœ¨Youngï¼ˆé™¤äº†ä¸€äº›å æ®å†…å­˜æ¯”è¾ƒå¤§çš„å¯¹è±¡ï¼‰,ç»è¿‡ä¸€å®šçš„Minor GCï¼ˆé’ˆå¯¹å¹´è½»ä»£çš„å†…å­˜å›æ”¶ï¼‰è¿˜æ´»ç€çš„å¯¹è±¡ä¼šè¢«ç§»åŠ¨åˆ°å¹´è€ä»£ï¼ˆä¸€äº›å…·ä½“çš„ç§»åŠ¨ç»†èŠ‚çœç•¥ï¼‰ã€‚å¹´è€ä»£ï¼šå°±æ˜¯ä¸Šè¿°å¹´è½»ä»£ç§»åŠ¨è¿‡æ¥çš„å’Œä¸€äº›æ¯”è¾ƒå¤§çš„å¯¹è±¡ã€‚Minor GC(FullGC)æ˜¯é’ˆå¯¹å¹´è€ä»£çš„å›æ”¶<br>æ°¸ä¹…ä»£ï¼šå­˜å‚¨çš„æ˜¯finalå¸¸é‡ï¼Œstaticå˜é‡ï¼Œå¸¸é‡æ± ã€‚<br>str3,str4éƒ½æ˜¯ç›´æ¥newçš„å¯¹è±¡ï¼Œè€Œsubstringçš„æºä»£ç å…¶å®ä¹Ÿæ˜¯newä¸€ä¸ªstringå¯¹è±¡è¿”å›ï¼Œå¦‚ä¸‹å›¾ï¼š<br>ç»è¿‡fullgcä¹‹åï¼Œå¹´è€åŒºçš„å†…å­˜å›æ”¶ï¼Œåˆ™å¹´è½»åŒºçš„å äº†15ä¸ªï¼Œä¸ç®—PermGenã€‚æ‰€ä»¥ç­”æ¡ˆä¸º15ã€‚</p><h5 id="javaè®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼"><a class="header-anchor" href="#javaè®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼">Â¶</a>javaè®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼</h5><p>å‚è€ƒåšå®¢(<a href="http://blog.csdn.net/jason0539/article/details/23297037/" target="_blank" rel="noopener">http://blog.csdn.net/jason0539/article/details/23297037/</a>)</p><h5 id="java-stack-å’Œheap-çš„åŒºåˆ«"><a class="header-anchor" href="#java-stack-å’Œheap-çš„åŒºåˆ«">Â¶</a>java stack å’Œheap çš„åŒºåˆ«</h5><p>å‚è€ƒåšå®¢(<a href="http://blog.csdn.net/wl_ldy/article/details/5935528" target="_blank" rel="noopener">http://blog.csdn.net/wl_ldy/article/details/5935528</a>)</p><h5 id="å…³äºiterator-è¿­ä»£å™¨"><a class="header-anchor" href="#å…³äºiterator-è¿­ä»£å™¨">Â¶</a>å…³äºiterator(è¿­ä»£å™¨)</h5><p>è¿­ä»£å™¨æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå¯ä»¥éå†å¹¶é€‰æ‹©åºåˆ—ä¸­çš„å¯¹è±¡ï¼Œè€Œå¼€å‘äººå‘˜ä¸éœ€è¦äº†è§£è¯¥åºåˆ—çš„åº•å±‚ç»“æ„ã€‚è¿­ä»£å™¨é€šå¸¸è¢«ç§°ä¸ºâ€œè½»é‡çº§â€å¯¹è±¡ï¼Œå› ä¸ºåˆ›å»ºå®ƒçš„ä»£ä»·å°ã€‚<br>Javaä¸­çš„IteratoråŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œå¹¶ä¸”åªèƒ½å•å‘ç§»åŠ¨ï¼š</p><ol><li>ä½¿ç”¨æ–¹æ³•iterator()è¦æ±‚å®¹å™¨è¿”å›ä¸€ä¸ªIteratorã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨Iteratorçš„next()æ–¹æ³•æ—¶ï¼Œå®ƒè¿”å›åºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚æ³¨æ„ï¼šiterator()æ–¹æ³•æ˜¯java.lang.Iterableæ¥å£,è¢«Collectionç»§æ‰¿ã€‚</li><li>ä½¿ç”¨next()è·å¾—åºåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</li><li>ä½¿ç”¨hasNext()æ£€æŸ¥åºåˆ—ä¸­æ˜¯å¦è¿˜æœ‰å…ƒç´ ã€‚</li><li>ä½¿ç”¨remove()å°†è¿­ä»£å™¨æ–°è¿”å›çš„å…ƒç´ åˆ é™¤ã€‚</li></ol><p>Iteratoræ˜¯Javaè¿­ä»£å™¨æœ€ç®€å•çš„å®ç°ï¼Œä¸ºListè®¾è®¡çš„ListIteratorå…·æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œå®ƒå¯ä»¥ä»ä¸¤ä¸ªæ–¹å‘éå†Listï¼Œä¹Ÿå¯ä»¥ä»Listä¸­æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚</p><p>è¿­ä»£å™¨åº”ç”¨ï¼š</p><blockquote><p>list<string> l = new ArrayList<string>();<br>l.add(â€œaaâ€);<br>l.add(â€œbbâ€);<br>l.add(â€œccâ€);<br>for (Iterator iter = l.iterator(); iter.hasNext()<img class="emoji" draggable="false" alt="ğŸ˜‰" src="https://twemoji.maxcdn.com/2/72x72/1f609.png"> {<br>String str = (String)iter.next();<br>System.out.println(str);<br>}<br>//è¿­ä»£å™¨ç”¨äºwhileå¾ªç¯<br>Iterator<string> iter = l.iterator();<br>while(iter.hasNext()){<br>String str = (String) iter.next();<br>System.out.println(str);<br>if(str.equals(â€œaaâ€)){<br>System.out.println(&quot;----------------------&quot;);<br>iter.remove();<br>System.out.println(l.toString);<br>}<br>}<br>è¾“å‡ºç»“æœï¼š<br>aa<br>bb<br>cc</string></string></string></p></blockquote><hr><p>[bb, cc]</p><p>ä¸‹é¢ç»™å‡ºä¸€ä¸ªä¾‹é¢˜:</p><blockquote><p>Iterator it = list.iterator();<br>int index = 0;<br>while (it.hasNext())<br>{<br>Object obj = it.next();<br>if (needDelete(obj))  //needDeleteè¿”å›booleanï¼Œå†³å®šæ˜¯å¦è¦åˆ é™¤<br>{<br>//å¦‚ä½•åœ¨è¿™é‡Œå¯ä»¥ï¼Œåœ¨Iteratoréå†çš„è¿‡ç¨‹ä¸­æ­£ç¡®å¹¶å®‰å…¨çš„åˆ é™¤ä¸€ä¸ªlistä¸­ä¿å­˜çš„å¯¹è±¡<br>}<br>index ++;<br>}</p></blockquote><p>ç­”æ¡ˆï¼šit.remove();</p><p>è§£é‡Šï¼š<br>å¦‚æœåœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­è°ƒç”¨é›†åˆçš„remove()æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p><blockquote><p>for(int i=0;i&lt;list.size();i++){<br>list.remove(â€¦);<br>}</p></blockquote><p>å¾ªç¯è¿‡ç¨‹ä¸­list.size()çš„å¤§å°å˜åŒ–äº†ï¼Œå°±ä¼šå¯¼è‡´å¯¼listä¸­çš„å…ƒç´ åˆ é™¤ä¸å®Œå…¨ã€‚<br>æ‰€ä»¥ï¼Œå¦‚æœä½ æƒ³åœ¨å¾ªç¯è¯­å¥ä¸­åˆ é™¤é›†åˆä¸­çš„æŸä¸ªå…ƒç´ ï¼Œå°±è¦ç”¨è¿­ä»£å™¨iteratorçš„remove()æ–¹æ³•ï¼Œå› ä¸ºå®ƒçš„remove()æ–¹æ³•ä¸ä»…ä¼šåˆ é™¤å…ƒç´ ï¼Œè¿˜ä¼šç»´æŠ¤ä¸€ä¸ªæ ‡å¿—ï¼Œç”¨æ¥è®°å½•ç›®å‰æ˜¯ä¸æ˜¯å¯åˆ é™¤çŠ¶æ€ï¼Œä¾‹å¦‚ï¼Œä½ ä¸èƒ½è¿ç»­ä¸¤æ¬¡è°ƒç”¨å®ƒçš„remove()æ–¹æ³•ï¼Œè°ƒç”¨ä¹‹å‰è‡³å°‘æœ‰ä¸€æ¬¡next()æ–¹æ³•çš„è°ƒç”¨ã€‚</p><h5 id="spring-æ”¯æŒ-7-ç§äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼š"><a class="header-anchor" href="#spring-æ”¯æŒ-7-ç§äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼š">Â¶</a>Spring æ”¯æŒ 7 ç§äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼š</h5><ul><li>PROPAGATION_REQUIRED å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœå·²ç»å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŠ å…¥åˆ°è¿™ä¸ªäº‹åŠ¡ä¸­ã€‚è¿™æ˜¯æœ€å¸¸è§çš„é€‰æ‹©ã€‚</li><li>PROPAGATION_SUPPORTS æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œã€‚</li><li>PROPAGATION_MANDATORY ä½¿ç”¨å½“å‰çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ã€‚</li><li>PROPAGATION_REQUIRES_NEW æ–°å»ºäº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼ŒæŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚</li><li>PROPAGATION_NOT_SUPPORTED ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚</li><li>PROPAGATION_NEVER ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</li><li>PROPAGATION_NESTED å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡Œä¸ PROPAGATION_REQUIRED ç±»ä¼¼çš„æ“ä½œã€‚</li></ul><h5 id="é›†åˆå°ç»“"><a class="header-anchor" href="#é›†åˆå°ç»“">Â¶</a>é›†åˆå°ç»“</h5><ol><li>Listï¼ˆæœ‰åºã€å¯é‡å¤ï¼‰<br>Listé‡Œå­˜æ”¾çš„å¯¹è±¡æ˜¯æœ‰åºçš„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¯ä»¥é‡å¤çš„ï¼ŒListå…³æ³¨çš„æ˜¯ç´¢å¼•ï¼Œæ‹¥æœ‰ä¸€ç³»åˆ—å’Œç´¢å¼•ç›¸å…³çš„æ–¹æ³•ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«ã€‚å› ä¸ºå¾€listé›†åˆé‡Œæ’å…¥æˆ–åˆ é™¤æ•°æ®æ—¶ï¼Œä¼šä¼´éšç€åé¢æ•°æ®çš„ç§»åŠ¨ï¼Œæ‰€æœ‰æ’å…¥åˆ é™¤æ•°æ®é€Ÿåº¦æ…¢ã€‚</li><li>Setï¼ˆæ— åºã€ä¸èƒ½é‡å¤ï¼‰<br>Seté‡Œå­˜æ”¾çš„å¯¹è±¡æ˜¯æ— åºï¼Œä¸èƒ½é‡å¤çš„ï¼Œé›†åˆä¸­çš„å¯¹è±¡ä¸æŒ‰ç‰¹å®šçš„æ–¹å¼æ’åºï¼Œåªæ˜¯ç®€å•åœ°æŠŠå¯¹è±¡åŠ å…¥é›†åˆä¸­ã€‚</li><li>Mapï¼ˆé”®å€¼å¯¹ã€é”®å”¯ä¸€ã€å€¼ä¸å”¯ä¸€ï¼‰<br>Mapé›†åˆä¸­å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹ï¼Œé”®ä¸èƒ½é‡å¤ï¼Œå€¼å¯ä»¥é‡å¤ã€‚æ ¹æ®é”®å¾—åˆ°å€¼ï¼Œå¯¹mapé›†åˆéå†æ—¶å…ˆå¾—åˆ°é”®çš„seté›†åˆï¼Œå¯¹seté›†åˆè¿›è¡Œéå†ï¼Œå¾—åˆ°ç›¸åº”çš„å€¼ã€‚</li></ol><p>é›†åˆç±»æ±‡æ€»(<a href="http://www.cnblogs.com/leeplogs/p/5891861.html" target="_blank" rel="noopener">http://www.cnblogs.com/leeplogs/p/5891861.html</a>)</p><h5 id="replaceall-æ–¹æ³•"><a class="header-anchor" href="#replaceall-æ–¹æ³•">Â¶</a>replaceAll() æ–¹æ³•</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public static void main (String[] args) &#123;</span><br><span class="line">    String classFile = &quot;com.jd.&quot;. replaceAll(&quot;.&quot;, &quot;/&quot;) + &quot;MyClass.class&quot;;</span><br><span class="line">    System.out.println(classFile);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºç»“æœï¼š///////MyClass.class</p></blockquote><p>ç”±äºreplaceAllæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè€Œ&quot;.â€œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­è¡¨ç¤ºä»»ä½•å­—ç¬¦ï¼Œæ‰€ä»¥ä¼šæŠŠå‰é¢å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦éƒ½æ›¿æ¢æˆâ€/&quot;ã€‚å¦‚æœæƒ³æ›¿æ¢çš„åªæ˜¯&quot;.&quot;ï¼Œé‚£ä¹ˆä¹…è¦å†™æˆ&quot;\.&quot;.</p><h5 id="å¯¹è±¡åºåˆ—åŒ–çš„æè¿°"><a class="header-anchor" href="#å¯¹è±¡åºåˆ—åŒ–çš„æè¿°">Â¶</a>å¯¹è±¡åºåˆ—åŒ–çš„æè¿°</h5><p>ä½¿ç”¨ObjectOutputStreamå’ŒObjectInputStreamå¯ä»¥å°†å¯¹è±¡è¿›è¡Œä¼ è¾“.</p><p>å£°æ˜ä¸ºstaticå’Œtransientç±»å‹çš„æˆå‘˜æ•°æ®ä¸èƒ½è¢«ä¸²è¡ŒåŒ–ã€‚å› ä¸ºstaticä»£è¡¨ç±»çš„çŠ¶æ€ï¼Œ transientä»£è¡¨å¯¹è±¡çš„ä¸´æ—¶æ•°æ®ã€‚</p><p>åœ¨Javaä¸­ï¼Œå¯¹è±¡çš„åºåˆ—åŒ–å¯ä»¥é€šè¿‡å®ç°ä¸¤ç§æ¥å£æ¥å®ç°ï¼Œè‹¥å®ç°çš„æ˜¯Serializableæ¥å£ï¼Œåˆ™æ‰€æœ‰çš„åºåˆ—åŒ–å°†ä¼šè‡ªåŠ¨è¿›è¡Œï¼Œè‹¥å®ç°çš„æ˜¯Externalizableæ¥å£ï¼Œåˆ™æ²¡æœ‰ä»»ä½•ä¸œè¥¿å¯ä»¥è‡ªåŠ¨åºåˆ—åŒ–ï¼Œéœ€è¦åœ¨writeExternalæ–¹æ³•ä¸­è¿›è¡Œæ‰‹å·¥æŒ‡å®šæ‰€è¦åºåˆ—åŒ–çš„å˜é‡ï¼Œè¿™ä¸æ˜¯å¦è¢«transientä¿®é¥°æ— å…³ã€‚</p><h5 id="jspä¸­é™æ€includeå’ŒåŠ¨æ€includeçš„åŒºåˆ«"><a class="header-anchor" href="#jspä¸­é™æ€includeå’ŒåŠ¨æ€includeçš„åŒºåˆ«">Â¶</a>jspä¸­é™æ€includeå’ŒåŠ¨æ€includeçš„åŒºåˆ«</h5><ol><li><p>åŠ¨æ€ INCLUDE ç”¨ jsp:include åŠ¨ä½œå®ç° &lt;jsp:include page=â€œincluded.jspâ€ flush=â€œtrueâ€ /&gt; å®ƒæ€»æ˜¯ä¼šæ£€æŸ¥æ‰€å«æ–‡ä»¶ä¸­çš„å˜åŒ– , é€‚åˆç”¨äºåŒ…å«åŠ¨æ€é¡µé¢ , å¹¶ä¸”å¯ä»¥å¸¦å‚æ•°ã€‚å„ä¸ªæ–‡ä»¶åˆ†åˆ«å…ˆç¼–è¯‘ï¼Œç„¶åç»„åˆæˆä¸€ä¸ªæ–‡ä»¶ã€‚</p></li><li><p>é™æ€ INCLUDE ç”¨ include ä¼ªç å®ç° , å®šä¸ä¼šæ£€æŸ¥æ‰€å«æ–‡ä»¶çš„å˜åŒ– , é€‚ç”¨äºåŒ…å«é™æ€é¡µé¢ &lt;%@ include file=â€œincluded.htmâ€ %&gt; ã€‚å…ˆå°†æ–‡ä»¶çš„ä»£ç è¢«åŸå°ä¸åŠ¨åœ°åŠ å…¥åˆ°äº†ä¸»é¡µé¢ä»è€Œåˆæˆä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åå†è¿›è¡Œç¿»è¯‘ï¼Œæ­¤æ—¶ä¸å…è®¸æœ‰ç›¸åŒçš„å˜é‡ã€‚</p></li><li><p>ä¸¤è€…çš„åŒºåˆ«:</p><p>ä¸€: æ‰§è¡Œæ—¶é—´ä¸Š :</p><p>&lt;%@ include file=â€œrelativeURIâ€%&gt; æ˜¯åœ¨ç¿»è¯‘é˜¶æ®µæ‰§è¡Œ<br>&lt;jsp:include page=â€œrelativeURIâ€ flush=â€œtrueâ€ /&gt; åœ¨è¯·æ±‚å¤„ç†é˜¶æ®µæ‰§è¡Œ .</p><p>äºŒ: å¼•å…¥å†…å®¹çš„ä¸åŒ :</p><p>&lt;%@ include file=â€œrelativeURIâ€%&gt;<br>å¼•å…¥é™æ€æ–‡æœ¬ (html,jsp), åœ¨ JSP é¡µé¢è¢«è½¬åŒ–æˆ servlet ä¹‹å‰å’Œå®ƒèå’Œåˆ°ä¸€èµ· .<br>&lt;jsp:include page=â€œrelativeURIâ€ flush=â€œtrueâ€ /&gt; å¼•å…¥æ‰§è¡Œé¡µé¢æˆ– servlet æ‰€ç”Ÿæˆçš„åº”ç­”æ–‡æœ¬ .</p></li></ol><h5 id="å˜é‡å¼•ç”¨"><a class="header-anchor" href="#å˜é‡å¼•ç”¨">Â¶</a>å˜é‡å¼•ç”¨</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class Replaces &#123;</span><br><span class="line">       public int x;</span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">System. out. println(&quot;Value is&quot; + x);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ”¹æ­£ï¼šå®ä¾‹åŒ–Replaces æˆ– public static int  x;</p><p>åŸå› ï¼šéé™æ€æˆå‘˜åªèƒ½è¢«ç±»çš„å®ä¾‹åŒ–å¯¹è±¡å¼•ç”¨ï¼Œå› æ­¤è¿™é‡Œåœ¨é™æ€æ–¹æ³•ä¸­è®¿é—®xä¼šé€ æˆç¼–è¯‘å‡ºé”™</p><h5 id="aopå’Œoop"><a class="header-anchor" href="#aopå’Œoop">Â¶</a>AOPå’ŒOOP</h5><p>AOP å’Œ OOPçš„åŒºåˆ«ï¼š</p><ol><li>é¢å‘æ–¹é¢ç¼–ç¨‹ AOP åé‡ä¸šåŠ¡å¤„ç†è¿‡ç¨‹çš„æŸä¸ªæ­¥éª¤æˆ–é˜¶æ®µï¼Œå¼ºè°ƒé™ä½æ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦ï¼Œä½¿ä»£ç æ‹¥æœ‰æ›´å¥½çš„ç§»æ¤æ€§ã€‚</li><li>é¢å‘å¯¹è±¡ç¼–ç¨‹ (oop) åˆ™æ˜¯å¯¹ä¸šåŠ¡åˆ†æä¸­æŠ½å–çš„å®ä½“è¿›è¡Œæ–¹æ³•å’Œå±æ€§çš„å°è£…ã€‚<br>ä¹Ÿå¯ä»¥è¯´ AOP æ˜¯é¢å‘ä¸šåŠ¡ä¸­çš„åŠ¨è¯é¢†åŸŸï¼Œ OOP é¢å‘åè¯é¢†åŸŸã€‚<br>AOP çš„ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹ç‚¹æ˜¯æºä»£ç æ— å…³æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœæˆ‘ä»¬çš„ç³»ç»Ÿä¸­å¼•ç”¨äº† AOP ç»„ä»¶ï¼Œå³ä½¿æˆ‘ä»¬æŠŠè¯¥ç»„ä»¶å»æ‰ï¼Œç³»ç»Ÿä»£ç ä¹Ÿåº”è¯¥èƒ½å¤Ÿç¼–è¯‘é€šè¿‡ã€‚è¦å®ç°è¿™ä¸€ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€ proxy æ¨¡å¼ã€‚</li></ol><h5 id="ç±»çš„åˆå§‹åŒ–é¡ºåº"><a class="header-anchor" href="#ç±»çš„åˆå§‹åŒ–é¡ºåº">Â¶</a>ç±»çš„åˆå§‹åŒ–é¡ºåº</h5><p>é™æ€ä¼˜å…ˆï¼Œçˆ¶ç±»ä¼˜å…ˆ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class HelloA&#123;</span><br><span class="line">public HelloA()</span><br><span class="line">Â Â Â Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â System.out.println(&quot;Iâ€™m A class &quot;);</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â static</span><br><span class="line">Â Â Â Â &#123;</span><br><span class="line">Â Â Â Â System.out.println(&quot;static A&quot;);</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">&#125;</span><br><span class="line">public class HelloB extends HelloA&#123;</span><br><span class="line">Â Â Â Â public HelloB()</span><br><span class="line">Â Â Â Â &#123;</span><br><span class="line">Â Â Â Â Â Â Â Â System.out.println(&quot;Iâ€™m B class&quot;);</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â static&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â System.out.println(&quot;static B&quot;);</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â public static void main (String[] args)&#123;</span><br><span class="line">Â Â Â Â Â Â Â Â new HelloB();</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼šstatic A static B Iâ€™m A class Iâ€™m B class</p></blockquote><h5 id="resultsetä¸­è®°å½•è¡Œçš„ç¬¬ä¸€åˆ—ç´¢å¼•ä¸º1"><a class="header-anchor" href="#resultsetä¸­è®°å½•è¡Œçš„ç¬¬ä¸€åˆ—ç´¢å¼•ä¸º1">Â¶</a>ResultSetä¸­è®°å½•è¡Œçš„ç¬¬ä¸€åˆ—ç´¢å¼•ä¸º1</h5><h5 id="jsp"><a class="header-anchor" href="#jsp">Â¶</a>JSP</h5><p>A JSPè„šæœ¬(Scriptlet)ï¼Œæ˜¯Javaä»£ç å—ã€‚</p><p>C JSPè¡¨è¾¾å¼(expression)ï¼Œè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæœ‰è¿”å›å€¼çš„å¼å­ï¼Œå®ƒè¿”å›çš„ç»“æœå°†ç”±out.print()è¿›è¡Œè¾“å‡ºã€‚</p><p>æ‰€ä»¥jspè¡¨è¾¾å¼å†™æ³•ï¼š<br>&lt;%= expression %&gt;</p><p>cè¯­è¨€&amp;&amp;å’Œ||çš„çŸ­è·¯æ€§è´¨åˆ†æï¼š<br>(<a href="http://blog.csdn.net/yhj110911119/article/details/52436085" target="_blank" rel="noopener">http://blog.csdn.net/yhj110911119/article/details/52436085</a>)</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ä½ ä¸çŸ¥é“çš„Javaï¼ˆä¸‰ï¼‰</title>
      <link href="/2017/07/14/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Java%EF%BC%88%E4%B8%89%EF%BC%89/"/>
      <url>/2017/07/14/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Java%EF%BC%88%E4%B8%89%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>å¥½å‡ å¤©çš„javaåŸºç¡€çŸ¥è¯†éƒ½å†™åœ¨äº†å‰ä¸¤ç¯‡é‡Œï¼Œæ„Ÿè§‰æœ‰äº›å¤šå’Œæ‚ï¼Œä»Šå¤©å†å†™æ–°çš„ä¸€ç¯‡ï¼Œæ¯å¤©åš30é“javaçš„é¢˜ç›®ï¼Œæ„Ÿè§‰è‡ªå·±çš„åŸºç¡€çŸ¥è¯†å°±å¾—å¥½å¥½å·©å›ºä¸€ä¸‹ã€‚</p><a id="more"></a><h5 id="javaçš„è·¨å¹³å°ç‰¹æ€§"><a class="header-anchor" href="#javaçš„è·¨å¹³å°ç‰¹æ€§">Â¶</a>javaçš„è·¨å¹³å°ç‰¹æ€§</h5><p>æˆ‘ä»¬ç¼–è¯‘å¥½çš„æ–‡ä»¶æ˜¯ä»¥.javaåç¼€ä¿å­˜çš„ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªæ ‡å‡†çš„.classå­—èŠ‚ç æ–‡ä»¶ï¼ŒJVMè¿è¡Œè¯¥æ–‡ä»¶ã€‚JVMä¹Ÿæ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œä¸åŒçš„ç³»ç»Ÿå¹³å°JVMä¸åŒï¼Œä½†éƒ½å¯ä»¥å®ç°æ ‡å‡†çš„.classå­—èŠ‚ç æ–‡ä»¶ã€‚</p><h5 id="æ•°æ®åº“äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"><a class="header-anchor" href="#æ•°æ®åº“äº‹åŠ¡çš„éš”ç¦»çº§åˆ«">Â¶</a>æ•°æ®åº“äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</h5><p>4ä¸ªã€‚ç”±ä½åˆ°é«˜ä¾æ¬¡ä¸ºRead uncommitted(æœªæˆæƒè¯»å–ã€è¯»æœªæäº¤)ã€Read committedï¼ˆæˆæƒè¯»å–ã€è¯»æäº¤ï¼‰ã€Repeatable readï¼ˆå¯é‡å¤è¯»å–ï¼‰ã€Serializableï¼ˆåºåˆ—åŒ–ï¼‰ï¼Œè¿™å››ä¸ªçº§åˆ«å¯ä»¥é€ä¸ªè§£å†³è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»è¿™å‡ ç±»é—®é¢˜</p><pre><code>                     âˆš: å¯èƒ½å‡ºç°    Ã—: ä¸ä¼šå‡ºç°</code></pre><table><thead><tr><th></th><th style="text-align:center">è„è¯»</th><th style="text-align:right">ä¸å¯é‡å¤è¯»</th><th style="text-align:right">å¹»è¯»</th></tr></thead><tbody><tr><td>Read uncommitted</td><td style="text-align:center">âˆš</td><td style="text-align:right">âˆš</td><td style="text-align:right">âˆš</td></tr><tr><td>Read committed</td><td style="text-align:center">Ã—</td><td style="text-align:right">âˆš</td><td style="text-align:right">âˆš</td></tr><tr><td>Repeatable read</td><td style="text-align:center">Ã—</td><td style="text-align:right">Ã—</td><td style="text-align:right">âˆš</td></tr><tr><td>Serializable</td><td style="text-align:center">Ã—</td><td style="text-align:right">Ã—</td><td style="text-align:right">Ã—</td></tr></tbody></table><h5 id="å…³äºinstanceof"><a class="header-anchor" href="#å…³äºinstanceof">Â¶</a>å…³äºinstanceof</h5><p>instanceof ç”¨æ¥åœ¨è¿è¡Œæ—¶æŒ‡å‡ºå¯¹è±¡æ˜¯å¦æ˜¯ç‰¹å®šç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œinstanceofé€šè¿‡è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼æ¥æŒ‡å‡ºï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯è¿™ä¸ªç‰¹å®šç±»æˆ–è€…æ˜¯å®ƒçš„å­ç±»çš„ä¸€ä¸ªå®ä¾‹</p><h5 id="å¼‚å¸¸"><a class="header-anchor" href="#å¼‚å¸¸">Â¶</a>å¼‚å¸¸</h5><p>checked exceptionï¼šæŒ‡çš„æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œè¯¥ç±»å¼‚å¸¸éœ€è¦æœ¬å‡½æ•°å¿…é¡»å¤„ç†çš„ï¼Œç”¨tryå’Œcatchå¤„ç†ï¼Œæˆ–è€…ç”¨throwsæŠ›å‡ºå¼‚å¸¸ï¼Œç„¶åäº¤ç»™è°ƒç”¨è€…å»å¤„ç†å¼‚å¸¸ã€‚</p><p>runtime exceptionï¼šæŒ‡çš„æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ï¼Œè¯¥ç±»å¼‚å¸¸ä¸å¿…é¡»æœ¬å‡½æ•°å¿…é¡»å¤„ç†ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å¤„ç†ã€‚<br>Thread.sleep()æŠ›å‡ºçš„InterruptExceptionå±äºchecked exceptionï¼›IllegalArgumentExceptionå±äºRuntime exception;</p><h5 id="javaè¯­è¨€çš„ä¸‹é¢å‡ ç§æ•°ç»„å¤åˆ¶æ–¹æ³•ä¸­-å“ªä¸ªæ•ˆç‡æœ€é«˜ï¼Ÿ"><a class="header-anchor" href="#javaè¯­è¨€çš„ä¸‹é¢å‡ ç§æ•°ç»„å¤åˆ¶æ–¹æ³•ä¸­-å“ªä¸ªæ•ˆç‡æœ€é«˜ï¼Ÿ">Â¶</a>javaè¯­è¨€çš„ä¸‹é¢å‡ ç§æ•°ç»„å¤åˆ¶æ–¹æ³•ä¸­ï¼Œå“ªä¸ªæ•ˆç‡æœ€é«˜ï¼Ÿ</h5><p>æ•ˆç‡ï¼šSystem.arraycopy &gt; clone &gt; Arrays.copyOf &gt; forå¾ªç¯<br>Aï¼šforå¾ªç¯ï¼Œæ•ˆç‡æœ€ä½ï¼Œéšä¾¿å†™ä¸ªç¨‹åºéªŒè¯ä¸€ä¸‹ï¼Œæ•ˆç‡æ…¢çš„ä¸æ˜¯ä¸€ç‚¹â€¦æˆ‘æµ‹è¯•çš„æ—¶å€™æ¯”cloneå’ŒSystem.arraycopyå·®äº†100å¤šå€</p><p>Bï¼šSystem.arraycopyï¼šåŸå‹æ˜¯<br>public static native void arraycopy(Object src,  int  srcPos , Object dest, int destPos, int length);</p><p>Cï¼šArrays.copyOfåº•å±‚è°ƒç”¨äº†ä¸Šé¢çš„System.copyOfæ•ˆç‡æ¯”ä¸Šé¢ä¸¤ä¸ªä½ã€‚</p><p>Dï¼šclone()çš„å®Œæ•´å®šä¹‰ï¼šprotected native Object clone() throws CloneNotSupportedException;</p><h5 id="javaå¤šçº¿ç¨‹çš„å™è¿°æ­£ç¡®çš„æ˜¯"><a class="header-anchor" href="#javaå¤šçº¿ç¨‹çš„å™è¿°æ­£ç¡®çš„æ˜¯">Â¶</a>JAVAå¤šçº¿ç¨‹çš„å™è¿°æ­£ç¡®çš„æ˜¯</h5><p>Callableç±»çš„call()æ–¹æ³•å¯ä»¥è¿”å›å€¼å’ŒæŠ›å‡ºå¼‚å¸¸</p><p>#####ã€€ä»¥ä¸‹å°†æ‰“å°å‡º</p><blockquote><p>public static void main(String args[]) {<br>List  Listlist1 = new ArrayList();<br>Listlist1.add(0);<br>List Listlist2 = Listlist1;<br>System.out.println(Listlist1.get(0) instanceof Integer);<br>System.out.println(Listlist2.get(0) instanceof Integer);<br>}</p></blockquote><blockquote><p>true  true</p></blockquote><p>è§£æ :<br>collectionç±»å‹çš„é›†åˆï¼ˆArrayList,LinkedListï¼‰åªèƒ½è£…å…¥å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼Œè¯¥é¢˜ä¸­è£…å…¥äº†0ï¼Œæ˜¯ä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼Œä½†æ˜¯JDK5ä»¥åæä¾›äº†è‡ªåŠ¨è£…ç®±ä¸è‡ªåŠ¨æ‹†ç®±ï¼Œæ‰€ä»¥intç±»å‹è‡ªåŠ¨è£…ç®±å˜ä¸ºäº†Integerç±»å‹ã€‚ç¼–è¯‘èƒ½å¤Ÿæ­£å¸¸é€šè¿‡ã€‚</p><p>å°†list1çš„å¼•ç”¨èµ‹å€¼ç»™äº†list2ï¼Œé‚£ä¹ˆlist1å’Œlist2éƒ½å°†æŒ‡å‘åŒä¸€ä¸ªå †å†…å­˜ç©ºé—´ã€‚instanceofæ˜¯Javaä¸­å…³é”®å­—ï¼Œç”¨äºåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç‰¹å®šç±»çš„å®ä¾‹ï¼Œå¹¶ä¸”è¿”å›booleanç±»å‹çš„è¿”å›å€¼ã€‚æ˜¾ç„¶ï¼Œlist1.get(0)å’Œlist2.get(0)</p><h5 id="å¦‚æœå¸Œæœ›ç›‘å¬tcpç«¯å£9000-åº”è¯¥æ€æ ·åˆ›å»ºsocket"><a class="header-anchor" href="#å¦‚æœå¸Œæœ›ç›‘å¬tcpç«¯å£9000-åº”è¯¥æ€æ ·åˆ›å»ºsocket">Â¶</a>å¦‚æœå¸Œæœ›ç›‘å¬TCPç«¯å£9000ï¼Œåº”è¯¥æ€æ ·åˆ›å»ºsocket?</h5><blockquote><p>new ServerSocket(9000);</p></blockquote><h5 id="æŠ½è±¡ç±»-abstract-class-å’Œæ¥å£-interface-çš„åŒºåˆ«"><a class="header-anchor" href="#æŠ½è±¡ç±»-abstract-class-å’Œæ¥å£-interface-çš„åŒºåˆ«">Â¶</a>æŠ½è±¡ç±»(abstract class)å’Œæ¥å£(interface)çš„åŒºåˆ«</h5><ol><li>å«æœ‰abstractä¿®é¥°ç¬¦çš„classå³ä¸ºæŠ½è±¡ç±»ï¼Œabstractç±»ä¸èƒ½åˆ›å»ºçš„å®ä¾‹å¯¹è±¡ã€‚å«æœ‰abstractæ–¹æ³•çš„ç±»å¿…é¡»å®šä¹‰ä¸ºabstract classï¼Œabstract classç±»ä¸­çš„æ–¹æ³•ä¸å¿…æ˜¯æŠ½è±¡çš„ã€‚abstract classç±»ä¸­å®šä¹‰æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨å…·ä½“(Concrete)å­ç±»ä¸­å®ç°ï¼Œæ‰€ä»¥ï¼Œä¸èƒ½æœ‰æŠ½è±¡æ„é€ æ–¹æ³•æˆ–æŠ½è±¡é™æ€æ–¹æ³•ã€‚å¦‚æœçš„å­ç±»æ²¡æœ‰å®ç°æŠ½è±¡çˆ¶ç±»ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆå­ç±»ä¹Ÿå¿…é¡»å®šä¹‰ä¸ºabstractç±»å‹ã€‚</li><li>æ¥å£ï¼ˆinterfaceï¼‰å¯ä»¥è¯´æˆæ˜¯æŠ½è±¡ç±»çš„ä¸€ç§ç‰¹ä¾‹ï¼Œæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½å¿…é¡»æ˜¯æŠ½è±¡çš„ã€‚æ¥å£ä¸­çš„æ–¹æ³•å®šä¹‰é»˜è®¤ä¸ºpublic abstractç±»å‹ï¼Œæ¥å£ä¸­çš„æˆå‘˜å˜é‡ç±»å‹é»˜è®¤ä¸ºpublic static finalã€‚<br>ä¸‹é¢æ¯”è¾ƒä¸€ä¸‹ä¸¤è€…çš„è¯­æ³•åŒºåˆ«ï¼š</li></ol><ul><li>æŠ½è±¡ç±»å¯ä»¥æœ‰æ„é€ æ–¹æ³•ï¼Œæ¥å£ä¸­ä¸èƒ½æœ‰æ„é€ æ–¹æ³•</li><li>æŠ½è±¡ç±»ä¸­å¯ä»¥æœ‰æ™®é€šæˆå‘˜å˜é‡ï¼Œæ¥å£ä¸­æ²¡æœ‰æ™®é€šæˆå‘˜å˜é‡</li><li>æŠ½è±¡ç±»ä¸­å¯ä»¥åŒ…å«éæŠ½è±¡çš„æ™®é€šæ–¹æ³•ï¼Œæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•å¿…é¡»éƒ½æ˜¯æŠ½è±¡çš„ï¼Œä¸èƒ½æœ‰éæŠ½è±¡çš„æ™®é€šæ–¹æ³•ã€‚</li><li>æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•çš„è®¿é—®ç±»å‹å¯ä»¥æ˜¯publicï¼Œprotectedå’Œï¼ˆé»˜è®¤ç±»å‹,è™½ç„¶<br>eclipseä¸‹ä¸æŠ¥é”™ï¼Œä½†åº”è¯¥ä¹Ÿä¸è¡Œï¼‰ï¼Œä½†æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•åªèƒ½æ˜¯publicç±»å‹çš„ï¼Œå¹¶ä¸”é»˜è®¤å³ä¸ºpublic abstractç±»å‹ã€‚</li><li>æŠ½è±¡ç±»ä¸­å¯ä»¥åŒ…å«é™æ€æ–¹æ³•ï¼Œæ¥å£ä¸­ä¸èƒ½åŒ…å«é™æ€æ–¹æ³•</li><li>æŠ½è±¡ç±»å’Œæ¥å£ä¸­éƒ½å¯ä»¥åŒ…å«é™æ€æˆå‘˜å˜é‡ï¼ŒæŠ½è±¡ç±»ä¸­çš„é™æ€æˆå‘˜å˜é‡çš„è®¿é—®ç±»å‹å¯ä»¥ä»»æ„ï¼Œä½†æ¥å£ä¸­å®šä¹‰çš„å˜é‡åªèƒ½æ˜¯public static finalç±»å‹ï¼Œå¹¶ä¸”é»˜è®¤å³ä¸ºpublic static finalç±»å‹ã€‚</li><li>ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œä½†åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»ã€‚</li></ul><p>æ¥å£æ›´å¤šçš„æ˜¯åœ¨ç³»ç»Ÿæ¶æ„è®¾è®¡æ–¹æ³•å‘æŒ¥ä½œç”¨ï¼Œä¸»è¦ç”¨äºå®šä¹‰æ¨¡å—ä¹‹é—´çš„é€šä¿¡å¥‘çº¦ã€‚è€ŒæŠ½è±¡ç±»åœ¨ä»£ç å®ç°æ–¹é¢å‘æŒ¥ä½œç”¨ï¼Œå¯ä»¥å®ç°ä»£ç çš„é‡ç”¨ï¼Œ</p><p>ä¾‹å¦‚ï¼Œæ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼æ˜¯æŠ½è±¡ç±»çš„ä¸€ä¸ªå…¸å‹åº”ç”¨ï¼Œå‡è®¾æŸä¸ªé¡¹ç›®çš„æ‰€æœ‰Servletç±»éƒ½è¦ç”¨ç›¸åŒçš„æ–¹å¼è¿›è¡Œæƒé™åˆ¤æ–­ã€è®°å½•è®¿é—®æ—¥å¿—å’Œå¤„ç†å¼‚å¸¸ï¼Œé‚£ä¹ˆå°±å¯ä»¥å®šä¹‰ä¸€ä¸ªæŠ½è±¡çš„åŸºç±»ï¼Œè®©æ‰€æœ‰çš„Servletéƒ½ç»§æ‰¿è¿™ä¸ªæŠ½è±¡åŸºç±»ï¼Œåœ¨æŠ½è±¡åŸºç±»çš„serviceæ–¹æ³•ä¸­å®Œæˆæƒé™åˆ¤æ–­ã€è®°å½•è®¿é—®æ—¥å¿—å’Œå¤„ç†å¼‚å¸¸çš„ä»£ç ï¼Œåœ¨å„ä¸ªå­ç±»ä¸­åªæ˜¯å®Œæˆå„è‡ªçš„ä¸šåŠ¡é€»è¾‘ä»£ç .</p><h5 id="antå’Œmaven"><a class="header-anchor" href="#antå’Œmaven">Â¶</a>Antå’ŒMaven</h5><p>Antå’ŒMavenéƒ½æ˜¯åŸºäºJavaçš„æ„å»º(build)å·¥å…·ã€‚ç†è®ºä¸Šæ¥è¯´ï¼Œæœ‰äº›ç±»ä¼¼äºï¼ˆUnixï¼‰Cä¸­çš„make ï¼Œä½†æ²¡æœ‰makeçš„ç¼ºé™·ã€‚Antæ˜¯è½¯ä»¶æ„å»ºå·¥å…·ï¼ŒMavençš„å®šä½æ˜¯è½¯ä»¶é¡¹ç›®ç®¡ç†å’Œç†è§£å·¥å…·ã€‚</p><ol><li>Antç‰¹ç‚¹ Â›<br>æ²¡æœ‰ä¸€ä¸ªçº¦å®šçš„ç›®å½•ç»“æ„ Â›å¿…é¡»æ˜ç¡®è®©antåšä»€ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™åšï¼Œç„¶åç¼–è¯‘ï¼Œæ‰“åŒ… Â›æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œå¿…é¡»å®šä¹‰ç›®æ ‡åŠå…¶å®ç°çš„ä»»åŠ¡åºåˆ— Â›æ²¡æœ‰é›†æˆä¾èµ–ç®¡ç†</li><li>Mavenç‰¹ç‚¹<br>Â›æ‹¥æœ‰çº¦å®šï¼ŒçŸ¥é“ä½ çš„ä»£ç åœ¨å“ªé‡Œï¼Œæ”¾åˆ°å“ªé‡Œå» Â›æ‹¥æœ‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œä¾‹å¦‚æ‰§è¡Œ mvn install å°±å¯ä»¥è‡ªåŠ¨æ‰§è¡Œç¼–è¯‘ï¼Œæµ‹è¯•ï¼Œæ‰“åŒ…ç­‰æ„å»ºè¿‡ç¨‹ Â›åªéœ€è¦å®šä¹‰ä¸€ä¸ªpom.xml,ç„¶åæŠŠæºç æ”¾åˆ°é»˜è®¤çš„ç›®å½•ï¼ŒMavenå¸®ä½ å¤„ç†å…¶ä»–äº‹æƒ… Â›æ‹¥æœ‰ä¾èµ–ç®¡ç†ï¼Œä»“åº“ç®¡ç†</li></ol><h5 id="å¼ºåˆ¶è½¬æ¢"><a class="header-anchor" href="#å¼ºåˆ¶è½¬æ¢">Â¶</a>å¼ºåˆ¶è½¬æ¢</h5><p>byteå’Œshortå‹åœ¨è®¡ç®—æ—¶ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºintå‹è®¡ç®—ï¼Œç»“æœä¹Ÿæ˜¯int å‹<br>ä½çº§å‘é«˜çº§æ˜¯éšå¼ç±»å‹è½¬æ¢ï¼Œé«˜çº§å‘ä½çº§å¿…é¡»å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œbyte=char=short&lt;int&lt;long&lt;float&lt;double<br>byte,short,charæ˜¯åŒçº§åˆ«çš„ï¼Œä¸èƒ½è‡ªåŠ¨è½¬æ¢</p><h5 id="finally-å…³é”®å­—"><a class="header-anchor" href="#finally-å…³é”®å­—">Â¶</a>finally å…³é”®å­—</h5><ol><li>é€‰é¡¹åœ¨ final å®šä¹‰çš„æ–¹æ³•é‡Œï¼Œä¸æ˜¯å¿…é¡»è¦ç”¨ final å®šä¹‰å˜é‡ã€‚</li><li>final å®šä¹‰çš„å˜é‡ï¼Œå¯ä»¥åœ¨ä¸æ˜¯å¿…é¡»è¦åœ¨å®šä¹‰çš„åŒæ—¶å®Œæˆåˆå§‹åŒ–ï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­å®Œæˆåˆå§‹åŒ–ã€‚</li><li>æ­£ç¡®ï¼Œfinalä¿®é¥°æ–¹æ³•ï¼Œä¸èƒ½è¢«å­ç±»é‡å†™ï¼Œä½†æ˜¯å¯ä»¥è¢«é‡è½½ã€‚</li><li>final å®šä¹‰å˜é‡ï¼Œå¯ä»¥ç”¨ static</li></ol><p>finalä¿®é¥°çš„ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œ final ä¿®é¥°çš„æ–¹æ³•ä¸èƒ½è¢«é‡å†™ï¼Œfinalä¿®é¥°çš„å±æ€§åœ¨ç¬¬ä¸€æ¬¡è¢«èµ‹å€¼åä¸å¯å†æ›´æ”¹å€¼ã€‚</p><h5 id="ä»¥ä¸‹ç¨‹åºè¾“å‡ºç»“æœ"><a class="header-anchor" href="#ä»¥ä¸‹ç¨‹åºè¾“å‡ºç»“æœ">Â¶</a>ä»¥ä¸‹ç¨‹åºè¾“å‡ºç»“æœ</h5><blockquote><p>class HasStatic{<br>private static int x=100;<br>public static void main (String args[]){<br>HasStatic hs1=new HasStatic();<br>hs1.x++;<br>HasStatic hs2=new HasStatic();<br>hs2.x++;<br>hs1=new HasStatic();<br>hs1.x++;<br>HasStatic.xâ€“;<br>System.out.println(â€œx=â€ +x);<br>}<br>}</p></blockquote><p>å› ä¸ºxçš„ ä¿®é¥°ç¬¦ä¸º static æ‰€ä»¥xä¸ºç±»å˜é‡ï¼Œå³å¯¹äºæ‰€æœ‰çš„å®ä¾‹æ¥è¯´ï¼Œä»–ä»¬è®¿é—®çš„xä¸ºåŒä¸€ä¸ªxï¼Œç±»å˜é‡å­˜å‚¨åœ¨æ–¹æ³•åŒºï¼Œä¸å±äºæ¯ä¸ªå®ä¾‹çš„ç§æœ‰ï¼Œ</p><p>åˆšå¼€å§‹x=100</p><p>è°ƒç”¨hs1.x++   xä¸º101;</p><p>è°ƒç”¨hs2.x++   xä¸º102;</p><p>è°ƒç”¨hs1.x++   xä¸º103 (æ­¤æ—¶hs1æŒ‡å‘äº†ä¸€ä¸ªæ–°çš„HasStaticå®ä¾‹ï¼Œä½†æ˜¯ä¾ç„¶è®¿é—®çš„æ˜¯åŒä¸€ä¸ªX)</p><p>è°ƒç”¨HasStatic.x--  xä¸º102</p><p>æ‰€ä»¥ç»“æœä¸ºD</p><h5 id="java-ä¸­çš„-wait-æ–¹æ³•å’Œ-sleep-æ–¹æ³•çš„åŒºåˆ«"><a class="header-anchor" href="#java-ä¸­çš„-wait-æ–¹æ³•å’Œ-sleep-æ–¹æ³•çš„åŒºåˆ«">Â¶</a>java ä¸­çš„ wait()æ–¹æ³•å’Œ sleep()æ–¹æ³•çš„åŒºåˆ«</h5><ol><li>è¿™ä¸¤ä¸ªæ–¹æ³•æ¥è‡ªä¸åŒçš„ç±»åˆ†åˆ«æ˜¯Threadå’ŒObject</li><li>æœ€ä¸»è¦æ˜¯sleepæ–¹æ³•æ²¡æœ‰é‡Šæ”¾é”ï¼Œè€Œwaitæ–¹æ³•é‡Šæ”¾äº†é”ï¼Œä½¿å¾—æ•æ„Ÿè¯çº¿ç¨‹å¯ä»¥ä½¿ç”¨åŒæ­¥æ§åˆ¶å—æˆ–è€…æ–¹æ³•ã€‚</li><li>waitï¼Œnotifyå’ŒnotifyAllåªèƒ½åœ¨åŒæ­¥æ§åˆ¶æ–¹æ³•æˆ–è€…åŒæ­¥æ§åˆ¶å—é‡Œé¢ä½¿ç”¨ï¼Œè€Œsleepå¯ä»¥åœ¨<br>ä»»ä½•åœ°æ–¹ä½¿ç”¨<br>synchronized(x){<br>x.notify()<br>//æˆ–è€…wait()<br>}</li><li>sleepå¿…é¡»æ•è·å¼‚å¸¸ï¼Œè€Œwaitï¼Œnotifyå’ŒnotifyAllä¸éœ€è¦æ•è·å¼‚å¸¸</li></ol><h5 id="java-objectç±»"><a class="header-anchor" href="#java-objectç±»">Â¶</a>java Objectç±»</h5><p>ä¸€å…±æœ‰11ä¸ªï¼š equals . getClass . hashCode . toString . notify .notifyAll .<br>wait . finalize . clone</p><h5 id="ä¸€ä¸ªå°é¢˜"><a class="header-anchor" href="#ä¸€ä¸ªå°é¢˜">Â¶</a>ä¸€ä¸ªå°é¢˜</h5><blockquote><p>public class TestClass {<br>private static void testMethod(){<br>System.out.println(â€œtestMethodâ€);<br>}<br>public static void main(String[] args) {<br>((TestClass)null).testMethod();<br>}<br>}</p></blockquote><p>æˆ‘æ¥æ€»ç»“ä¸‹å¤§å®¶çš„åˆ†æã€‚<br>1ï¼‰æ­¤å¤„æ˜¯ç±»å¯¹æ–¹æ³•çš„è°ƒç”¨ï¼Œä¸æ˜¯å¯¹è±¡å¯¹æ–¹æ³•çš„è°ƒç”¨ã€‚<br>2ï¼‰æ–¹æ³•æ˜¯staticé™æ€æ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨&quot;ç±».æ–¹æ³•&quot;å³å¯ï¼Œå› ä¸ºé™æ€æ–¹æ³•ä½¿ç”¨ä¸ä¾èµ–å¯¹è±¡æ˜¯å¦è¢«åˆ›å»ºã€‚<br>nullå¯ä»¥è¢«å¼ºåˆ¶ç±»å‹è½¬æ¢æˆä»»æ„ç±»å‹ï¼ˆä¸æ˜¯ä»»æ„ç±»å‹å¯¹è±¡ï¼‰ï¼Œäºæ˜¯å¯ä»¥é€šè¿‡å®ƒæ¥æ‰§è¡Œé™æ€æ–¹æ³•ã€‚<br>3ï¼‰éé™æ€çš„æ–¹æ³•ç”¨&quot;å¯¹è±¡.æ–¹æ³•&quot;çš„æ–¹å¼ï¼Œå¿…é¡»ä¾èµ–å¯¹è±¡è¢«åˆ›å»ºåæ‰èƒ½ä½¿ç”¨ï¼Œè‹¥å°†testMethod()æ–¹æ³•å‰çš„staticå»æ‰ï¼Œåˆ™ä¼šæŠ¥ ç©ºæŒ‡é’ˆå¼‚å¸¸ ã€‚æ­¤å¤„ä¹ŸéªŒè¯äº†2ï¼‰çš„è§‚ç‚¹<br>å½“ç„¶ï¼Œä¸ç®¡æ˜¯å¦é™æ€æ–¹æ³•ï¼Œéƒ½æ˜¯å·²ç»å­˜åœ¨çš„ï¼Œåªæ˜¯è®¿é—®æ–¹å¼ä¸åŒã€‚</p><h5 id="çº¿ç¨‹å®‰å…¨çš„é›†åˆç±»"><a class="header-anchor" href="#çº¿ç¨‹å®‰å…¨çš„é›†åˆç±»">Â¶</a>çº¿ç¨‹å®‰å…¨çš„é›†åˆç±»</h5><p>ç®€å•è®°å¿†çº¿ç¨‹å®‰å…¨çš„é›†åˆç±»ï¼š å–‚ï¼SHEï¼  å–‚æ˜¯æŒ‡  vectorï¼ŒSæ˜¯æŒ‡ stackï¼Œ Hæ˜¯æŒ‡    hashtableï¼ŒEæ˜¯æŒ‡ï¼šEenumeration</p><p>java1.8å®æµ‹ï¼ŒæŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•å’ŒéæŠ½è±¡æ–¹æ³•åœ¨ä¸åŠ ä¿®é¥°ç¬¦çš„æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯é»˜è®¤çš„default</p><h5 id="webservice"><a class="header-anchor" href="#webservice">Â¶</a>webService</h5><p>Webserviceæ˜¯è·¨å¹³å°ï¼Œè·¨è¯­è¨€çš„è¿œç¨‹è°ƒç”¨æŠ€æœ¯</p><p>å®ƒçš„é€šä¿¡æœºåˆ¶å®è´¨å°±æ˜¯xmlæ•°æ®äº¤æ¢;</p><p>å®ƒé‡‡ç”¨äº†soapåè®®ï¼ˆç®€å•å¯¹è±¡åè®®ï¼‰è¿›è¡Œé€šä¿¡</p><h5 id="superå…³é”®å­—"><a class="header-anchor" href="#superå…³é”®å­—">Â¶</a>superå…³é”®å­—</h5><p>superæ˜¯javaæä¾›çš„ä¸€ä¸ªå…³é”®å­—ï¼Œsuperç”¨äºé™å®šè¯¥å¯¹è±¡è°ƒç”¨å®ƒä»çˆ¶ç±»ç»§æ‰¿å¾—åˆ°çš„Fieldæˆ–æ–¹æ³•ã€‚superå…³é”®å­—ä¸èƒ½å‡ºç°åœ¨staticä¿®é¥°çš„æ–¹æ³•ä¸­ï¼Œå› ä¸ºstaticä¿®é¥°çš„æ–¹æ³•æ˜¯å±äºç±»çš„ã€‚å¦‚æœåœ¨æ„é€ å™¨ä¸­ä½¿ç”¨superï¼Œåˆ™superç”¨äºé™å®šè¯¥æ„é€ å™¨åˆå§‹åŒ–çš„æ˜¯è¯¥å¯¹è±¡ä»çˆ¶ç±»ç»§æ‰¿å¾—åˆ°çš„fieldï¼Œè€Œä¸æ˜¯è¯¥ç±»è‡ªå·±å®šä¹‰çš„fieldã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œsuperå…³é”®å­—åªèƒ½æŒ‡ä»£ç›´æ¥çˆ¶ç±»ï¼Œä¸èƒ½æŒ‡ä»£çˆ¶ç±»çš„çˆ¶ç±»ã€‚ï¼ˆéœ€è¦å¥½å¥½ç†è§£ï¼‰</p><h5 id="javaåƒåœ¾å›æ”¶æœºåˆ¶"><a class="header-anchor" href="#javaåƒåœ¾å›æ”¶æœºåˆ¶">Â¶</a>javaåƒåœ¾å›æ”¶æœºåˆ¶</h5><p>javaæä¾›äº†ä¸€ä¸ªç³»ç»Ÿçº§çš„çº¿ç¨‹ï¼Œå³åƒåœ¾å›æ”¶å™¨çº¿ç¨‹ã€‚ç”¨æ¥å¯¹æ¯ä¸€ä¸ªåˆ†é…å‡ºå»çš„å†…å­˜ç©ºé—´è¿›è¡Œè·Ÿè¸ªã€‚å½“JVMç©ºé—²æ—¶ï¼Œè‡ªåŠ¨å›æ”¶æ¯å—å¯èƒ½è¢«å›æ”¶çš„å†…å­˜ï¼ŒGCæ˜¯å®Œå…¨è‡ªåŠ¨çš„ï¼Œä¸èƒ½è¢«å¼ºåˆ¶æ‰§è¡Œã€‚ç¨‹åºå‘˜æœ€å¤šåªèƒ½ç”¨System.gc()æ¥å»ºè®®æ‰§è¡Œåƒåœ¾å›æ”¶å™¨å›æ”¶å†…å­˜ï¼Œä½†æ˜¯å…·ä½“çš„å›æ”¶æ—¶é—´ï¼Œæ˜¯ä¸å¯çŸ¥çš„ã€‚<br>å½“å¯¹è±¡çš„å¼•ç”¨å˜é‡è¢«èµ‹å€¼ä¸ºnullï¼Œå¯èƒ½è¢«å½“æˆåƒåœ¾ã€‚</p><p>å¯¹äºâ€œç¨‹åºå¯æ˜ç¡®åœ°æ ‡è¯†æŸä¸ªå±€éƒ¨å˜é‡çš„å¼•ç”¨ä¸å†è¢«ä½¿ç”¨â€è¯´æ³•é”™è¯¯</p><p>å› ä¸ºï¼Œå±€éƒ¨å˜é‡å­˜æ”¾åœ¨æ ˆä¸Šï¼Œæ ˆä¸Šçš„åƒåœ¾å›æ”¶ï¼Œç”±finalize()æ¥å®ç°ã€‚</p><p>å‚è€ƒ(<a href="http://www.importnew.com/19085.html" target="_blank" rel="noopener">http://www.importnew.com/19085.html</a>)</p><h5 id="é‡è¦çš„çŸ¥è¯†-å¯ä»¥è‡ªå·±å®æµ‹"><a class="header-anchor" href="#é‡è¦çš„çŸ¥è¯†-å¯ä»¥è‡ªå·±å®æµ‹">Â¶</a>é‡è¦çš„çŸ¥è¯†ï¼Œå¯ä»¥è‡ªå·±å®æµ‹</h5><p>é™æ€å†…éƒ¨ç±»å¯ä»¥è®¿é—®å¤–å›´ç±»çš„é™æ€æ•°æ®ï¼ŒåŒ…æ‹¬ï¼ˆé™æ€ï¼‰ç§æœ‰æ•°æ®ï¼Œä½†ä¸èƒ½è®¿é—®éé™æ€æ•°æ®ï¼›<br>éé™æ€å†…éƒ¨ç±»å¯ä»¥ç›´æ¥è®¿é—®å¤–å›´ç±»çš„æ•°æ®ï¼ŒåŒ…æ‹¬ç§æœ‰æ•°æ®</p><h5 id="finalä¿®é¥°å˜é‡"><a class="header-anchor" href="#finalä¿®é¥°å˜é‡">Â¶</a>finalä¿®é¥°å˜é‡</h5><p>ä¸€ã€finalä¿®é¥°å˜é‡</p><ol><li>finalå¯ä»¥ä¿®é¥°æˆå‘˜å˜é‡ï¼Œä¹Ÿå¯ä»¥ä¿®é¥°å±€éƒ¨å˜é‡ã€å½¢å‚ã€‚finalå˜é‡ä¸€æ—¦è·å¾—åˆå§‹å€¼ä¹‹åï¼Œfinalçš„å˜é‡å°±ä¸èƒ½è¢«é‡æ–°èµ‹å€¼ã€‚</li></ol><p>æˆå‘˜å˜é‡æ˜¯éšç±»åˆå§‹åŒ–æˆ–å¯¹è±¡åˆå§‹åŒ–è€Œåˆå§‹åŒ–çš„ï¼Œå½“æ‰§è¡Œé™æ€åˆå§‹åŒ–å—æ—¶å€™å¯ä»¥å¯¹ç±»å±æ€§è¿›è¡Œèµ‹åˆå§‹å€¼ï¼Œå½“æ‰§è¡Œæ™®é€šåˆå§‹åŒ–å—æˆ–è€…æ„é€ å™¨çš„æ—¶å€™å¯ä»¥å¯¹å®ä¾‹å±æ€§èµ‹åˆå§‹å€¼ã€‚å› æ­¤æˆå‘˜å˜é‡çš„åˆå§‹å€¼å¯ä»¥åœ¨å®šä¹‰çš„æ—¶å€™èµ‹å€¼æˆ–è€…åœ¨åˆå§‹åŒ–å—ã€æ„é€ å™¨ä¸­æŒ‡å®šã€‚</p><p>å¯¹äºfinalä¿®é¥°çš„æˆå‘˜å˜é‡è€Œè¨€ï¼Œä¸€æ—¦æœ‰äº†åˆå§‹å€¼ä¹‹åï¼Œå°±ä¸èƒ½è¢«é‡æ–°èµ‹å€¼ï¼Œå› æ­¤ä¸å¯ä»¥åœ¨æ™®é€šæ–¹æ³•ä¸­å¯¹æˆå‘˜å˜é‡èµ‹å€¼ã€‚è¦ä¹ˆåœ¨å®šä¹‰çš„æ—¶å€™èµ‹å€¼ï¼Œè¦ä¹ˆåœ¨æ–¹æ³•å—å’Œæ„é€ å™¨ä¸­èµ‹å€¼ã€‚<br>finalæˆå‘˜å˜é‡ï¼Œå¿…é¡»ç”±ç¨‹åºå‘˜æ˜¾ç¤ºåˆå§‹åŒ–ï¼Œç³»ç»Ÿä¸ä¼šå¯¹finalæˆå‘˜è¿›è¡Œéšå¼åˆå§‹åŒ–ã€‚</p><ol start="2"><li>finalä¿®é¥°å±€éƒ¨å˜é‡æ—¶æ—¢å¯ä»¥åœ¨å®šä¹‰æ—¶å€™æŒ‡å®šé»˜è®¤å€¼ï¼Œä¹Ÿå¯ä»¥ä¸æŒ‡å®šï¼Œåœ¨åé¢æŒ‡å®šï¼Œä½†åªèƒ½ä¸€æ¬¡ã€‚</li><li>finalä¿®é¥°åŸºæœ¬ç±»å‹çš„æ—¶å€™ å˜é‡ä¸èƒ½æ”¹å˜</li><li>finalä¿®é¥°å¼•ç”¨ç±»å‹å˜é‡ï¼Œfinalåªä¿è¯è¿™ä¸ªå¼•ç”¨çš„åœ°å€ä¸å˜ï¼Œå³ä¸€ç›´å¼•ç”¨åŒä¸€å¯¹è±¡ã€‚ä½†è¿™ä¸ªå¯¹è±¡å¯ä»¥æ”¹å˜ã€‚</li></ol><h5 id="java-æ„é€ å‡½æ•°ä½¿ç”¨æ–¹æ³•æ€»ç»“"><a class="header-anchor" href="#java-æ„é€ å‡½æ•°ä½¿ç”¨æ–¹æ³•æ€»ç»“">Â¶</a>java æ„é€ å‡½æ•°ä½¿ç”¨æ–¹æ³•æ€»ç»“</h5><p>ä½¿ç”¨æ„é€ å™¨æ—¶éœ€è¦è®°ä½ï¼š</p><ol><li>æ„é€ å™¨å¿…é¡»ä¸ç±»åŒåï¼ˆå¦‚æœä¸€ä¸ªæºæ–‡ä»¶ä¸­æœ‰å¤šä¸ªç±»ï¼Œé‚£ä¹ˆæ„é€ å™¨å¿…é¡»ä¸å…¬å…±ç±»åŒåï¼‰</li><li>æ¯ä¸ªç±»å¯ä»¥æœ‰ä¸€ä¸ªä»¥ä¸Šçš„æ„é€ å™¨</li><li>æ„é€ å™¨å¯ä»¥æœ‰0ä¸ªã€1ä¸ªæˆ–1ä¸ªä»¥ä¸Šçš„å‚æ•°</li><li>æ„é€ å™¨æ²¡æœ‰è¿”å›å€¼</li><li>æ„é€ å™¨æ€»æ˜¯ä¼´éšç€newæ“ä½œä¸€èµ·è°ƒç”¨</li></ol><p>ä½¿ç”¨superè°ƒç”¨çˆ¶ç±»æ„é€ å™¨çš„è¯­å¥å¿…é¡»æ˜¯å­ç±»æ„é€ å™¨çš„ç¬¬ä¸€æ¡è¯­å¥</p><p>å¦‚æœå­ç±»æ„é€ å™¨æ²¡æœ‰æ˜¾å¼åœ°è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œåˆ™å°†è‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„é»˜è®¤ï¼ˆæ²¡æœ‰å‚æ•°ï¼‰çš„æ„é€ å™¨ã€‚å¦‚æœçˆ¶ç±»æ²¡æœ‰ä¸å¸¦å‚æ•°çš„æ„é€ å™¨ï¼Œå¹¶ä¸”åœ¨å­ç±»çš„æ„é€ å™¨ä¸­åˆæ²¡æœ‰æ˜¾å¼åœ°è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œåˆ™javaç¼–è¯‘å™¨å°†æŠ¥å‘Šé”™è¯¯</p><h5 id="jvmä¸­åƒåœ¾å›æ”¶åˆ†ä¸ºscanvenge-gcå’Œfull-gc-å…¶ä¸­full-gcè§¦å‘çš„æ¡ä»¶å¯èƒ½æœ‰å“ªäº›"><a class="header-anchor" href="#jvmä¸­åƒåœ¾å›æ”¶åˆ†ä¸ºscanvenge-gcå’Œfull-gc-å…¶ä¸­full-gcè§¦å‘çš„æ¡ä»¶å¯èƒ½æœ‰å“ªäº›">Â¶</a>jvmä¸­åƒåœ¾å›æ”¶åˆ†ä¸ºscanvenge gcå’Œfull GCï¼Œå…¶ä¸­full GCè§¦å‘çš„æ¡ä»¶å¯èƒ½æœ‰å“ªäº›</h5><ol><li>æ–°ç”Ÿä»£ï¼šï¼ˆ1ï¼‰æ‰€æœ‰å¯¹è±¡åˆ›å»ºåœ¨æ–°ç”Ÿä»£çš„EdenåŒºï¼Œå½“EdenåŒºæ»¡åè§¦å‘æ–°ç”Ÿä»£çš„Minor GCï¼Œå°†EdenåŒºå’Œéç©ºé—²SurvivoråŒºå­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªç©ºé—²çš„SurvivoråŒºä¸­ã€‚ï¼ˆ2ï¼‰ä¿è¯ä¸€ä¸ªSurvivoråŒºæ˜¯ç©ºçš„ï¼Œæ–°ç”Ÿä»£Minor GCå°±æ˜¯åœ¨ä¸¤ä¸ªSurvivoråŒºä¹‹é—´ç›¸äº’å¤åˆ¶å­˜æ´»å¯¹è±¡ï¼Œç›´åˆ°SurvivoråŒºæ»¡ä¸ºæ­¢ã€‚</li><li>è€å¹´ä»£ï¼šå½“SurvivoråŒºä¹Ÿæ»¡äº†ä¹‹åå°±é€šè¿‡Minor GCå°†å¯¹è±¡å¤åˆ¶åˆ°è€å¹´ä»£ã€‚è€å¹´ä»£ä¹Ÿæ»¡äº†çš„è¯ï¼Œå°±å°†è§¦å‘Full GCï¼Œé’ˆå¯¹æ•´ä¸ªå †ï¼ˆåŒ…æ‹¬æ–°ç”Ÿä»£ã€è€å¹´ä»£ã€æŒä¹…ä»£ï¼‰è¿›è¡Œåƒåœ¾å›æ”¶ã€‚</li><li>æŒä¹…ä»£ï¼šæŒä¹…ä»£å¦‚æœæ»¡äº†ï¼Œå°†è§¦å‘Full GCã€‚ï¼ŒSystem.gcæ˜¯æœ‰å¯èƒ½è§¦å‘full gcçš„</li></ol><h5 id="å…³äºstring-stringbuilderä»¥åŠstringbuffer"><a class="header-anchor" href="#å…³äºstring-stringbuilderä»¥åŠstringbuffer">Â¶</a>å…³äºStringï¼ŒStringBuilderä»¥åŠStringBuffer</h5><p>A. javaä¸­çš„å­—ç¬¦ä¸²å­˜å‚¨åœ¨å­—ç¬¦ä¸²å¸¸é‡åŒºï¼Œä¸ä¼šæ”¹å˜ï¼Œå‘ç”Ÿæ”¹å˜æ˜¯ä¼šæ–°åˆ›å»ºä¸€ä¸ªå¯¹è±¡<br>B. StringBufferæ˜¯çº¿ç¨‹å®‰å…¨çš„StringBuilder<br>C. StringBuilderè·ŸStringBufferåŠŸèƒ½ç›¸åŒï¼ŒåŒºåˆ«æ˜¯StringBuilderä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„<br>D. StringBuilderå’ŒStringBufferåº•å±‚éƒ½æ˜¯ä»¥å­—ç¬¦æ•°ç»„å­˜æ”¾çš„ï¼Œå¯ä»¥ä¿®æ”¹å†…å®¹</p><h5 id="jdkæä¾›çš„ç”¨äºå¹¶å‘ç¼–ç¨‹çš„åŒæ­¥å™¨æœ‰å“ªäº›"><a class="header-anchor" href="#jdkæä¾›çš„ç”¨äºå¹¶å‘ç¼–ç¨‹çš„åŒæ­¥å™¨æœ‰å“ªäº›">Â¶</a>JDKæä¾›çš„ç”¨äºå¹¶å‘ç¼–ç¨‹çš„åŒæ­¥å™¨æœ‰å“ªäº›</h5><p>A. Java å¹¶å‘åº“ çš„Semaphore å¯ä»¥å¾ˆè½»æ¾å®Œæˆä¿¡å·é‡æ§åˆ¶ï¼ŒSemaphoreå¯ä»¥æ§åˆ¶æŸä¸ªèµ„æºå¯è¢«åŒæ—¶è®¿é—®çš„ä¸ªæ•°ï¼Œé€šè¿‡ acquire() è·å–ä¸€ä¸ªè®¸å¯ï¼Œå¦‚æœæ²¡æœ‰å°±ç­‰å¾…ï¼Œè€Œ release() é‡Šæ”¾ä¸€ä¸ªè®¸å¯ã€‚<br>B. CyclicBarrier ä¸»è¦çš„æ–¹æ³•å°±æ˜¯ä¸€ä¸ªï¼šawait()ã€‚await() æ–¹æ³•æ²¡è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œè®¡æ•°ä¾¿ä¼šå‡å°‘1ï¼Œå¹¶é˜»å¡ä½å½“å‰çº¿ç¨‹ã€‚å½“è®¡æ•°å‡è‡³0æ—¶ï¼Œé˜»å¡è§£é™¤ï¼Œæ‰€æœ‰åœ¨æ­¤ CyclicBarrier ä¸Šé¢é˜»å¡çš„çº¿ç¨‹å¼€å§‹è¿è¡Œã€‚<br>C. ç›´è¯‘è¿‡æ¥å°±æ˜¯å€’è®¡æ•°(CountDown)é—¨é—©(Latch)ã€‚å€’è®¡æ•°ä¸ç”¨è¯´ï¼Œé—¨é—©çš„æ„æ€é¡¾åæ€ä¹‰å°±æ˜¯é˜»æ­¢å‰è¿›ã€‚åœ¨è¿™é‡Œå°±æ˜¯æŒ‡ CountDownLatch.await() æ–¹æ³•åœ¨å€’è®¡æ•°ä¸º0ä¹‹å‰ä¼šé˜»å¡å½“å‰çº¿ç¨‹ã€‚</p><h5 id="jre-åˆ¤æ–­ç¨‹åºæ˜¯å¦æ‰§è¡Œç»“æŸçš„æ ‡å‡†æ˜¯"><a class="header-anchor" href="#jre-åˆ¤æ–­ç¨‹åºæ˜¯å¦æ‰§è¡Œç»“æŸçš„æ ‡å‡†æ˜¯">Â¶</a>jre åˆ¤æ–­ç¨‹åºæ˜¯å¦æ‰§è¡Œç»“æŸçš„æ ‡å‡†æ˜¯ï¼ˆï¼‰</h5><p>æ‰€æœ‰çš„å‰å°çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</p><p>#####ã€€ç»è¿‡å¼ºåˆ¶ç±»å‹è½¬æ¢ä»¥åï¼Œå˜é‡a, bçš„å€¼åˆ†åˆ«ä¸ºï¼ˆ ï¼‰short a = 128; byte b = (byte) a;<br>128  -128</p><p>è§£æï¼šbyteåœ¨å†…å­˜ä¸­å ä¸€ä¸ªå­—èŠ‚ï¼ŒèŒƒå›´æ˜¯ -128åˆ°127ä¹‹é—´ã€‚<br>å°†128å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºbyteå‹ï¼Œå°±è¶…å‡ºäº†byteå‹çš„èŒƒå›´ï¼Œ<br>128çš„äºŒè¿›åˆ¶å­˜å‚¨æ˜¯ 1000 0000 è½¬æ¢ä¸ºbyteå‹åï¼Œæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œå€¼æ˜¯-128</p><h5 id="javaå¼‚å¸¸ç±»"><a class="header-anchor" href="#javaå¼‚å¸¸ç±»">Â¶</a>JAVAå¼‚å¸¸ç±»</h5><p>å‚è€ƒ(<a href="http://www.cnblogs.com/sargeles/p/6691383.html" target="_blank" rel="noopener">http://www.cnblogs.com/sargeles/p/6691383.html</a>)</p><h5 id="æœ‰å…³jvmå†…å­˜"><a class="header-anchor" href="#æœ‰å…³jvmå†…å­˜">Â¶</a>æœ‰å…³JVMå†…å­˜</h5><p>è¿è¡Œæ—¶æ•°æ®åŒºåŒ…æ‹¬ï¼šè™šæ‹Ÿæœºæ ˆåŒºï¼Œå †åŒºï¼Œæ–¹æ³•åŒºï¼Œæœ¬åœ°æ–¹æ³•æ ˆï¼Œç¨‹åºè®¡æ•°å™¨<br>è™šæ‹Ÿæœºæ ˆåŒº ï¼šä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„æ ˆåŒºï¼Œçº¿ç¨‹ç§æœ‰ï¼Œå­˜æ”¾åŸºæœ¬ç±»å‹ï¼Œå¯¹è±¡çš„å¼•ç”¨å’Œ returnAddress ï¼Œåœ¨ç¼–è¯‘æœŸé—´å®Œæˆåˆ†é…ã€‚<br>å †åŒº ï¼Œ JAVA å †ï¼Œä¹Ÿç§° GC å †ï¼Œæ‰€æœ‰çº¿ç¨‹å…±äº«ï¼Œå­˜æ”¾å¯¹è±¡çš„å®ä¾‹å’Œæ•°ç»„ï¼Œ JAVA å †æ˜¯åƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„ä¸»è¦åŒºåŸŸã€‚<br>æ–¹æ³•åŒº ï¼šæ‰€æœ‰çº¿ç¨‹å…±äº«ï¼Œå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ï¼Œå¸¸é‡ï¼Œé™æ€å˜é‡ï¼Œå³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚è¿™ä¸ªåŒºåŸŸçš„å†…å­˜å›æ”¶ç›®æ ‡ä¸»è¦æ˜¯é’ˆå¯¹å¸¸é‡æ± çš„å¯¹è±¡çš„å›æ”¶å’Œå¯¹ç±»å‹çš„å¸è½½ã€‚<br>ç¨‹åºè®¡æ•°å™¨ ï¼šçº¿ç¨‹ç§æœ‰ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ï¼Œç”¨æ¥æŒ‡ç¤ºä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚</p><h5 id="hashmapè·Ÿhashtableçš„åŒºåˆ«"><a class="header-anchor" href="#hashmapè·Ÿhashtableçš„åŒºåˆ«">Â¶</a>hashMapè·ŸhashTableçš„åŒºåˆ«</h5><p>â‘ ç»§æ‰¿ä¸åŒã€‚</p><blockquote><p>public class Hashtable extends Dictionary implements Map public class HashMap extends AbstractMap implements Map</p></blockquote><p>â‘¡<br>Hashtable ä¸­çš„æ–¹æ³•æ˜¯åŒæ­¥çš„ï¼Œè€ŒHashMapä¸­çš„æ–¹æ³•åœ¨ç¼ºçœæƒ…å†µä¸‹æ˜¯éåŒæ­¥çš„ã€‚åœ¨å¤šçº¿ç¨‹å¹¶å‘çš„ç¯å¢ƒä¸‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Hashtableï¼Œä½†æ˜¯è¦ä½¿ç”¨HashMapçš„è¯å°±è¦è‡ªå·±å¢åŠ åŒæ­¥å¤„ç†äº†ã€‚<br>â‘¢<br>Hashtableä¸­ï¼Œkeyå’Œvalueéƒ½ä¸å…è®¸å‡ºç°nullå€¼ã€‚<br>åœ¨HashMapä¸­ï¼Œnullå¯ä»¥ä½œä¸ºé”®ï¼Œè¿™æ ·çš„é”®åªæœ‰ä¸€ä¸ªï¼›å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªé”®æ‰€å¯¹åº”çš„å€¼ä¸ºnullã€‚å½“get()æ–¹æ³•è¿”å›nullå€¼æ—¶ï¼Œå³å¯ä»¥è¡¨ç¤º HashMapä¸­æ²¡æœ‰è¯¥é”®ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºè¯¥é”®æ‰€å¯¹åº”çš„å€¼ä¸ºnullã€‚å› æ­¤ï¼Œåœ¨HashMapä¸­ä¸èƒ½ç”±get()æ–¹æ³•æ¥åˆ¤æ–­HashMapä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé”®ï¼Œ è€Œåº”è¯¥ç”¨containsKey()æ–¹æ³•æ¥åˆ¤æ–­ã€‚<br>â‘£ä¸¤ä¸ªéå†æ–¹å¼çš„å†…éƒ¨å®ç°ä¸Šä¸åŒã€‚<br>Hashtableã€HashMapéƒ½ä½¿ç”¨äº† Iteratorã€‚è€Œç”±äºå†å²åŸå› ï¼ŒHashtableè¿˜ä½¿ç”¨äº†Enumerationçš„æ–¹å¼ ã€‚<br>â‘¤<br>å“ˆå¸Œå€¼çš„ä½¿ç”¨ä¸åŒï¼ŒHashTableç›´æ¥ä½¿ç”¨å¯¹è±¡çš„hashCodeã€‚è€ŒHashMapé‡æ–°è®¡ç®—hashå€¼ã€‚<br>â‘¥<br>Hashtableå’ŒHashMapå®ƒä»¬ä¸¤ä¸ªå†…éƒ¨å®ç°æ–¹å¼çš„æ•°ç»„çš„åˆå§‹å¤§å°å’Œæ‰©å®¹çš„æ–¹å¼ã€‚HashTableä¸­hashæ•°ç»„é»˜è®¤å¤§å°æ˜¯11ï¼Œå¢åŠ çš„æ–¹å¼æ˜¯ old*2+1ã€‚HashMapä¸­hashæ•°ç»„çš„é»˜è®¤å¤§å°æ˜¯16ï¼Œè€Œä¸”ä¸€å®šæ˜¯2çš„æŒ‡æ•°ã€‚</p><h5 id="ä¸‹åˆ—è¯´æ³•"><a class="header-anchor" href="#ä¸‹åˆ—è¯´æ³•">Â¶</a>ä¸‹åˆ—è¯´æ³•</h5><p>A. ConcurrentHashMapå®é™…ä¸Šæ—¶ HashTableçš„å‡çº§ç‰ˆï¼Œä½¿ç”¨segmentæ¥åˆ†æ®µå’Œç®¡ç†é”ï¼Œå¹¶ä¸æ˜¯synchronized;<br>B. HashMapå®ç°çš„æ¥å£æœ‰ï¼šSerializable, Cloneable, Map&lt;K,V&gt; ,æ²¡æœ‰å®ç°Cllectio<br>C. Arrays.asList()æ–¹æ³•è¿”å›çš„åˆ—è¡¨æ˜¯Arrays.ArrayListç±»å‹çš„ï¼Œå¹¶ä¸æ˜¯java.util.ArrayListï¼›<br>D. SimpleDateFormatæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„</p><h5 id="å¯¹äºä»¥ä¸‹ç¨‹åº-è¾“å‡º"><a class="header-anchor" href="#å¯¹äºä»¥ä¸‹ç¨‹åº-è¾“å‡º">Â¶</a>å¯¹äºä»¥ä¸‹ç¨‹åº è¾“å‡º</h5><blockquote><p>public class StringDemo{<br>private static final String MESSAGE=â€œtaobaoâ€;<br>public static void main(String [] args) {<br>String a =â€œtaoâ€+â€œbaoâ€;<br>String b=â€œtaoâ€;<br>String c=â€œbaoâ€;<br>System.out.println(a==MESSAGE);<br>System.out.println((b+c)==MESSAGE);<br>}<br>}<br>true false</p></blockquote><p>è¦æ³¨æ„ä¸¤ä¸ªé—®é¢˜ï¼š<br>1ï¼Œå­—ç¬¦ä¸²åœ¨javaä¸­å­˜å‚¨åœ¨å­—ç¬¦ä¸²å¸¸é‡åŒºä¸­<br>2ï¼Œ==åˆ¤æ–­çš„æ˜¯å¯¹è±¡å¼•ç”¨æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²ç›¸ç­‰è¦ç”¨equalsæ–¹æ³•<br>é¦–å…ˆåˆ¤æ–­a==MESSAGE åŒä¸€ä»½å­—ç¬¦ä¸²å¸¸é‡åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œå› æ­¤æ˜¯åŒä¸€åœ°å€ï¼Œè¿”å›true<br>å†æ¬¡æ¯”è¾ƒ(b+c)==MESSAGE è¿™ç›¸å½“äº new String(b+c)==MESSAGE è¿™é‡Œnewäº†ä¸€ä¸ªStringå¯¹è±¡ï¼Œæ‰€ä»¥è¿”å›false</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ä½ ä¸çŸ¥é“çš„Javaï¼ˆä¸€ï¼‰</title>
      <link href="/2017/07/09/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Java%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2017/07/09/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Java%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      <content type="html"><![CDATA[<p>å…³äºjavaåŸºç¡€çš„ä¸€äº›æ¦‚å¿µæ€§ã€ç†è®ºæ€§çš„ä¸œè¥¿ï¼Œå¥½ä¹…æ²¡ç¢°äº†ï¼Œç°åœ¨å›è¿‡å¤´æ¥çœ‹çœ‹ï¼Œæœ‰åŠ©äºè‡ªå·±æ›´æ·±å±‚æ¬¡çš„æé«˜ï¼Œæ‰€ä»¥åœ¨æ­¤æ€»ç»“ä¸€ä¸‹ã€‚</p><a id="more"></a><h5 id="æ–¹æ³•çš„é‡å†™"><a class="header-anchor" href="#æ–¹æ³•çš„é‡å†™">Â¶</a>æ–¹æ³•çš„é‡å†™</h5><ol><li>æ¦‚å¿µï¼šå­çˆ¶ç±»å‡ºäº†åŒåçš„å‡½æ•°ï¼Œè¿™ä¸ªæˆ‘ä»¬å°±ç§°ä½œä¸ºæ–¹æ³•çš„é‡å†™ã€‚</li><li>æ–¹æ³•é‡å†™çš„å‰æï¼š å¿…é¡»è¦å­˜åœ¨ç»§æ‰¿çš„å…³ç³»ã€‚</li><li>ä»€ä¹ˆæ˜¯æ—¶å€™è¦ä½¿ç”¨æ–¹æ³•çš„é‡å†™ï¼šçˆ¶ç±»çš„åŠŸèƒ½æ— æ³•æ»¡è¶³å­ç±»çš„éœ€æ±‚æ—¶ã€‚</li><li>æ–¹æ³•é‡å†™è¦æ³¨æ„çš„äº‹é¡¹ï¼š(â€œä¸¤åŒä¸¤å°ä¸€å¤§â€)</li></ol><ul><li>æ–¹æ³•é‡å†™æ—¶ï¼Œæ–¹æ³•åä¸å½¢å‚åˆ—è¡¨å¿…é¡»ä¸€è‡´ã€‚(â€œä¸¤åŒâ€)</li><li>æ–¹æ³•é‡å†™æ—¶ï¼Œå­ç±»çš„è¿”å›å€¼ç±»å‹å¿…é¡»è¦å°äºæˆ–è€…ç­‰äºçˆ¶ç±»çš„è¿”å›å€¼ç±»å‹(â€œå°â€)</li><li>æ–¹æ³•é‡å†™æ—¶ï¼Œå­ç±»æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹è¦å°äºæˆ–è€…ç­‰äºçˆ¶ç±»æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹(â€œå°â€)</li><li>æ–¹æ³•é‡å†™æ—¶ï¼Œå­ç±»çš„æƒé™ä¿®é¥°ç¬¦å¿…é¡»è¦å¤§äºæˆ–è€…ç­‰äºçˆ¶ç±»çš„æƒé™ä¿®é¥°ç¬¦(â€œä¸€å¤§â€)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Exception(æœ€å)</span><br><span class="line">RuntimeException(å°å)</span><br></pre></td></tr></table></figure><h5 id="æ–¹æ³•çš„é‡è½½"><a class="header-anchor" href="#æ–¹æ³•çš„é‡è½½">Â¶</a>æ–¹æ³•çš„é‡è½½</h5><ol><li>æ¦‚å¿µï¼šåœ¨ä¸€ä¸ªç±»ä¸­ å­˜åœ¨ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ª ä»¥ä¸Šçš„åŒåå‡½æ•°,ç§°ä½œä¸ºæ–¹æ³•é‡è½½ã€‚</li><li>æ–¹æ³•é‡è½½çš„è¦æ±‚</li></ol><ul><li>å‡½æ•°åè¦ä¸€è‡´</li><li>å½¢å‚åˆ—è¡¨ä¸ä¸€è‡´ï¼ˆå½¢å‚ä¸ªæ•°æˆ–å½¢å‚çš„ç±»å‹ä¸ä¸€è‡´ï¼‰</li><li>ä¸è¿”å›å€¼ç±»å‹æ— å…³</li></ul><h5 id="javaè¿ç®—ç¬¦ä¼˜å…ˆçº§åŠ©è®°å£è¯€"><a class="header-anchor" href="#javaè¿ç®—ç¬¦ä¼˜å…ˆçº§åŠ©è®°å£è¯€">Â¶</a>javaè¿ç®—ç¬¦ä¼˜å…ˆçº§åŠ©è®°å£è¯€</h5><p>å•ç›®ä¹˜é™¤ä¸ºå…³ç³»ï¼Œé€»è¾‘ä¸‰ç›®åèµ‹å€¼ã€‚</p><ul><li>å•ç›®ï¼šå•ç›®è¿ç®—ç¬¦+ â€“(è´Ÿæ•°) ++ â€“ ç­‰</li><li>ä¹˜é™¤ï¼šç®—æ•°è¿ç®—ç¬¦* / % + -</li><li>ä¸ºï¼šä½ç§»è¿ç®—ç¬¦&lt;&lt; &gt;&gt;</li><li>å…³ç³»ï¼šå…³ç³»è¿ç®—ç¬¦&gt; &lt; &gt;= &lt;= == !=</li><li>é€»è¾‘ï¼šé€»è¾‘è¿ç®—ç¬¦&amp;&amp; || &amp; | ^</li><li>ä¸‰ç›®ï¼šä¸‰ç›®è¿ç®—ç¬¦A &gt; B ? X : Y</li><li>åï¼šæ— æ„ä¹‰ï¼Œä»…ä»…ä¸ºäº†å‡‘å­—æ•°</li><li>èµ‹å€¼ï¼šèµ‹å€¼=</li></ul><h5 id="javaçš„å››ç§è®¿é—®æƒé™"><a class="header-anchor" href="#javaçš„å››ç§è®¿é—®æƒé™">Â¶</a>javaçš„å››ç§è®¿é—®æƒé™</h5><table><thead><tr><th></th><th style="text-align:center">public</th><th style="text-align:right">protected</th><th style="text-align:right">default(åŒ…æƒé™)</th><th style="text-align:right">private</th></tr></thead><tbody><tr><td>åŒä¸€ç±»ä¸­çš„æˆå‘˜</td><td style="text-align:center">æ˜¯</td><td style="text-align:right">æ˜¯</td><td style="text-align:right">æ˜¯</td><td style="text-align:right">æ˜¯</td></tr><tr><td>åŒä¸€åŒ…ä¸­çš„æˆå‘˜</td><td style="text-align:center">æ˜¯</td><td style="text-align:right">æ˜¯</td><td style="text-align:right">æ˜¯</td><td style="text-align:right">å¦</td></tr><tr><td>ä¸åŒåŒ…çš„å­ç±»</td><td style="text-align:center">æ˜¯</td><td style="text-align:right">æ˜¯</td><td style="text-align:right">å¦</td><td style="text-align:right">å¦</td></tr><tr><td>ä¸åŒåŒ…çš„éå­ç±»</td><td style="text-align:center">æ˜¯</td><td style="text-align:right">å¦</td><td style="text-align:right">å¦</td><td style="text-align:right">å¦</td></tr></tbody></table><p>protectedå¯ä»¥ä¿®é¥°æ•°æ®æˆå‘˜ï¼Œæ„é€ æ–¹æ³•ï¼Œæ–¹æ³•æˆå‘˜ï¼Œä¸èƒ½ä¿®é¥°ç±»ï¼ˆæ­¤å¤„æŒ‡å¤–éƒ¨ç±»ï¼Œä¸è€ƒè™‘å†…éƒ¨ç±»ï¼‰ã€‚è¢«protectedä¿®é¥°çš„æˆå‘˜ï¼Œèƒ½åœ¨å®šä¹‰å®ƒä»¬çš„ç±»ä¸­ï¼ŒåŒåŒ…çš„ç±»ä¸­è¢«è°ƒç”¨ã€‚å¦‚æœæœ‰ä¸åŒåŒ…çš„ç±»æƒ³è°ƒç”¨å®ƒä»¬ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å¿…é¡»æ˜¯å®šä¹‰å®ƒä»¬çš„ç±»çš„å­ç±»(å³æœ‰ç»§æ‰¿å…³ç³»)ã€‚<br>è¡¨æ ¼è§£é‡Š:</p><ol><li>publicï¼šä»»ä½•åœ°æ–¹å‡å¯è®¿é—®ï¼›</li><li>privateï¼šåªé™ç±»çš„å†…éƒ¨è®¿é—®ï¼›</li><li>protectedï¼šå—ä¿æŠ¤çš„ï¼Œç±»çš„å†…éƒ¨å¯è®¿é—®ï¼›åŒä¸€ä¸ªåŒ…ä¸‹çš„ä¸ç®¡æ˜¯å¦æœ‰ç»§æ‰¿å…³ç³»å‡å¯è®¿é—®ï¼›ä¸åŒåŒ…ä¸‹åªæœ‰æœ‰ç»§æ‰¿å…³ç³»çš„æ‰å¯è®¿é—®ï¼›</li><li>é»˜è®¤ï¼ˆdefaultï¼‰ï¼šç±»çš„å†…éƒ¨å¯è®¿é—®ï¼›åŒä¸€ä¸ªåŒ…ä¸‹ä¸ç®¡æ˜¯å¦æœ‰ç»§æ‰¿å…³ç³»å‡å¯è®¿é—®ï¼›ä¸åŒåŒ…ä¸‹ä¸ç®¡æœ‰æ²¡æœ‰ç»§æ‰¿å…³ç³»éƒ½ä¸èƒ½è®¿é—®ã€‚</li></ol><h5 id="javaå¹¶å‘ä¹‹åŸå­æ€§-å¯è§æ€§ä¸æœ‰åºæ€§"><a class="header-anchor" href="#javaå¹¶å‘ä¹‹åŸå­æ€§-å¯è§æ€§ä¸æœ‰åºæ€§">Â¶</a>javaå¹¶å‘ä¹‹åŸå­æ€§ã€å¯è§æ€§ä¸æœ‰åºæ€§</h5><ol><li>åŸå­æ€§<br>åŸå­æ˜¯ä¸–ç•Œä¸Šçš„æœ€å°å•ä½ï¼Œå…·æœ‰ä¸å¯åˆ†å‰²æ€§ã€‚æ¯”å¦‚ a=0ï¼›ï¼ˆaélongå’Œdoubleç±»å‹ï¼‰ è¿™ä¸ªæ“ä½œæ˜¯ä¸å¯åˆ†å‰²çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯´è¿™ä¸ªæ“ä½œæ—¶åŸå­æ“ä½œã€‚å†æ¯”å¦‚ï¼ša++ï¼› è¿™ä¸ªæ“ä½œå®é™…æ˜¯a = a + 1ï¼›æ˜¯å¯åˆ†å‰²çš„ï¼Œæ‰€ä»¥ä»–ä¸æ˜¯ä¸€ä¸ªåŸå­æ“ä½œã€‚éåŸå­æ“ä½œéƒ½ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œéœ€è¦æˆ‘ä»¬ä½¿ç”¨åŒæ­¥æŠ€æœ¯ï¼ˆsychronizedï¼‰æ¥è®©å®ƒå˜æˆä¸€ä¸ªåŸå­æ“ä½œã€‚ä¸€ä¸ªæ“ä½œæ˜¯åŸå­æ“ä½œï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°å®ƒå…·æœ‰åŸå­æ€§ã€‚Javaçš„concurrentåŒ…ä¸‹æä¾›äº†ä¸€äº›åŸå­ç±»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é˜…è¯»APIæ¥äº†è§£è¿™äº›åŸå­ç±»çš„ç”¨æ³•ã€‚æ¯”å¦‚ï¼šAtomicIntegerã€AtomicLongã€AtomicReferenceç­‰ã€‚</li><li>å¯è§æ€§<br>å¯è§æ€§ï¼Œæ˜¯æŒ‡çº¿ç¨‹ä¹‹é—´çš„å¯è§æ€§ï¼Œä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹çš„çŠ¶æ€å¯¹å¦ä¸€ä¸ªçº¿ç¨‹æ˜¯å¯è§çš„ã€‚ä¹Ÿå°±æ˜¯ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹çš„ç»“æœã€‚å¦ä¸€ä¸ªçº¿ç¨‹é©¬ä¸Šå°±èƒ½çœ‹åˆ°ã€‚æ¯”å¦‚ï¼šç”¨volatileä¿®é¥°çš„å˜é‡ï¼Œå°±ä¼šå…·æœ‰å¯è§æ€§ã€‚volatileä¿®é¥°çš„å˜é‡ä¸å…è®¸çº¿ç¨‹å†…éƒ¨ç¼“å­˜å’Œé‡æ’åºï¼Œå³ç›´æ¥ä¿®æ”¹å†…å­˜ã€‚æ‰€ä»¥å¯¹å…¶ä»–çº¿ç¨‹æ˜¯å¯è§çš„ã€‚ä½†æ˜¯è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œvolatileåªèƒ½è®©è¢«ä»–ä¿®é¥°å†…å®¹å…·æœ‰å¯è§æ€§ï¼Œä½†ä¸èƒ½ä¿è¯å®ƒå…·æœ‰åŸå­æ€§ã€‚æ¯”å¦‚ volatile int a = 0ï¼›ä¹‹åæœ‰ä¸€ä¸ªæ“ä½œ a++ï¼›è¿™ä¸ªå˜é‡aå…·æœ‰å¯è§æ€§ï¼Œä½†æ˜¯a++ ä¾ç„¶æ˜¯ä¸€ä¸ªéåŸå­æ“ä½œï¼Œä¹Ÿå°±è¿™è¿™ä¸ªæ“ä½œåŒæ ·å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li><li>æœ‰åºæ€§<br>volatileã€‚JVMè§„å®šï¼Œåœ¨volatileä¹‹å‰çš„æ“ä½œï¼Œä¸èƒ½é‡æ’åºåˆ°volatileä¹‹åã€‚</li></ol><p>synchronizedã€‚åŒæ­¥ä»£ç å—å¯¹äºä¸åŒçº¿ç¨‹æ¥è¯´ä¸²è¡Œè¿›å…¥çš„ã€‚</p><h5 id="çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼"><a class="header-anchor" href="#çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼">Â¶</a>çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼</h5><ol><li>ç»§æ‰¿Threadç±»ï¼Œé‡å†™run()æ–¹æ³•ï¼Œè¯¥runæ–¹æ³•çš„æ–¹æ³•ä½“ï¼Œä»£è¡¨äº†çº¿ç¨‹éœ€è¦å®Œæˆçš„ä»»åŠ¡</li><li>å®ç°Runnableæ¥å£ï¼Œé‡å†™è¯¥æ¥å£çš„run()æ–¹æ³•ï¼Œrun()æ–¹æ³•ä¹Ÿä¸ºçº¿ç¨‹æ‰§è¡Œä½“</li></ol><h5 id="å…¶ä»–å°çŸ¥è¯†"><a class="header-anchor" href="#å…¶ä»–å°çŸ¥è¯†">Â¶</a>å…¶ä»–å°çŸ¥è¯†</h5><p>åœ¨java7ä¸­ä¸‹åˆ—è¯´æ³•ï¼š<br>(1)Arrays.asList()å°†ä¸€ä¸ªæ•°ç»„è½¬åŒ–ä¸ºä¸€ä¸ªListå¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªArrayListç±»å‹çš„å¯¹è±¡ï¼Œ è¿™ä¸ªArrayListç±»å¹¶éjava.util.ArrayListç±»ï¼Œè€Œæ˜¯Arraysç±»çš„é™æ€å†…éƒ¨ç±»ï¼ç”¨è¿™ä¸ªå¯¹è±¡å¯¹åˆ—è¡¨è¿›è¡Œæ·»åŠ åˆ é™¤æ›´æ–°æ“ä½œï¼Œå°±ä¼šæŠ¥UnsupportedOperationExceptionå¼‚å¸¸ã€‚</p><p>(2) ConcurrentHashMapä½¿ç”¨segmentæ¥åˆ†æ®µå’Œç®¡ç†é”ï¼Œsegmentç»§æ‰¿è‡ªReentrantLockï¼Œå› æ­¤ConcurrentHashMapä½¿ç”¨ReentrantLockæ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</p><p>(3)æŠ½è±¡ç±»å’Œæ¥å£éƒ½ä¸èƒ½å®ä¾‹åŒ–ï¼›æŠ½è±¡ç±»å¯ä»¥ä¸åŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯åŒ…å«äº†æŠ½è±¡æ–¹æ³•ä¸€å®šè¦å£°æ˜ä¸ºæŠ½è±¡ç±»ï¼›æŠ½è±¡ç±»å¯ä»¥ç»§æ‰¿æŠ½è±¡ç±»</p><p>(4) Spring Frameworkæ˜¯ä¸€ä¸ªå¼€æºçš„Javaï¼Java EEå…¨åŠŸèƒ½æ ˆï¼ˆfull-stackï¼‰çš„åº”ç”¨ç¨‹åºæ¡†æ¶ï¼ŒSpringä¸­åŒ…å«çš„å…³é”®ç‰¹æ€§:<br>1.å¼ºå¤§çš„åŸºäºJavaBeansçš„é‡‡ç”¨æ§åˆ¶ç¿»è½¬ï¼ˆInversion of Controlï¼ŒIoCï¼‰åŸåˆ™çš„é…ç½®ç®¡ç†ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºçš„ç»„å»ºæ›´åŠ å¿«æ·ç®€æ˜“ã€‚<br>2.ä¸€ä¸ªå¯ç”¨äºä»appletåˆ°Java EEç­‰ä¸åŒè¿è¡Œç¯å¢ƒçš„æ ¸å¿ƒBeanå·¥å‚ã€‚<br>æ•°æ®åº“äº‹åŠ¡çš„ä¸€èˆ¬åŒ–æŠ½è±¡å±‚ï¼Œå…è®¸å£°æ˜å¼ï¼ˆDeclarativeï¼‰äº‹åŠ¡ç®¡ç†å™¨ï¼Œç®€åŒ–äº‹åŠ¡çš„åˆ’åˆ†ä½¿ä¹‹ä¸åº•å±‚æ— å…³ã€‚<br>3.å†…å»ºçš„é’ˆå¯¹JTAå’Œå•ä¸ªJDBCæ•°æ®æºçš„ä¸€èˆ¬åŒ–ç­–ç•¥ï¼Œä½¿Springçš„äº‹åŠ¡æ”¯æŒä¸è¦æ±‚Java EEç¯å¢ƒï¼Œè¿™ä¸ä¸€èˆ¬çš„JTAæˆ–è€…EJB CMTç›¸åã€‚<br>4.JDBC æŠ½è±¡å±‚æä¾›äº†æœ‰é’ˆå¯¹æ€§çš„å¼‚å¸¸ç­‰çº§ï¼ˆä¸å†ä»SQLå¼‚å¸¸ä¸­æå–åŸå§‹ä»£ç ï¼‰ï¼Œç®€åŒ–äº†é”™è¯¯å¤„ç†ï¼Œå¤§å¤§å‡å°‘äº†ç¨‹åºå‘˜çš„ç¼–ç é‡ã€‚å†æ¬¡åˆ©ç”¨JDBCæ—¶ï¼Œä½ æ— éœ€å†å†™å‡ºå¦ä¸€ä¸ªâ€™ç»ˆæ­¢â€™ï¼ˆfinallyï¼‰æ¨¡å—ã€‚å¹¶ä¸”é¢å‘JDBCçš„å¼‚å¸¸ä¸Springé€šç”¨æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆData Access Objectï¼‰å¼‚å¸¸ç­‰çº§ç›¸ä¸€è‡´ã€‚<br>5.ä»¥èµ„æºå®¹å™¨ï¼ŒDAOå®ç°å’Œäº‹åŠ¡ç­–ç•¥ç­‰å½¢å¼ä¸Hibernateï¼ŒJDOå’ŒiBATIS SQL Mapsé›†æˆã€‚åˆ©ç”¨ä¼—å¤šçš„ç¿»è½¬æ§åˆ¶æ–¹ä¾¿ç‰¹æ€§æ¥å…¨é¢æ”¯æŒï¼Œè§£å†³äº†è®¸å¤šå…¸å‹çš„Hibernateé›†æˆé—®é¢˜ã€‚æ‰€æœ‰è¿™äº›å…¨éƒ¨éµä»Springé€šç”¨äº‹åŠ¡å¤„ç†å’Œé€šç”¨æ•°æ®è®¿é—®å¯¹è±¡å¼‚å¸¸ç­‰çº§è§„èŒƒã€‚<br>6.çµæ´»çš„åŸºäºæ ¸å¿ƒSpringåŠŸèƒ½çš„MVCç½‘é¡µåº”ç”¨ç¨‹åºæ¡†æ¶ã€‚å¼€å‘è€…é€šè¿‡ç­–ç•¥æ¥å£å°†æ‹¥æœ‰å¯¹è¯¥æ¡†æ¶çš„é«˜åº¦æ§åˆ¶ï¼Œå› è€Œè¯¥æ¡†æ¶å°†é€‚åº”äºå¤šç§å‘ˆç°ï¼ˆViewï¼‰æŠ€æœ¯ï¼Œä¾‹å¦‚JSPã€FreeMarkerã€Velocityã€Tilesã€iTextä»¥åŠPOIã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒSpringä¸­é—´å±‚å¯ä»¥è½»æ˜“åœ°ç»“åˆäºä»»ä½•åŸºäºMVCæ¡†æ¶çš„ç½‘é¡µå±‚ï¼Œä¾‹å¦‚Strutsã€WebWorkæˆ–Tapestryã€‚<br>7.æä¾›è¯¸å¦‚äº‹åŠ¡ç®¡ç†ç­‰æœåŠ¡çš„é¢å‘æ–¹é¢ç¼–ç¨‹æ¡†æ¶ã€‚</p><p>å¦å¤–ï¼ŒSpringå¹¶æ²¡æœ‰æä¾›æ—¥å¿—ç³»ç»Ÿï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨AOPï¼ˆé¢å‘æ–¹é¢ç¼–ç¨‹ï¼‰çš„æ–¹å¼ï¼Œå€ŸåŠ©Springä¸æ—¥å¿—ç³»ç»Ÿlog4jå®ç°æˆ‘ä»¬è‡ªå·±çš„æ—¥å¿—ç³»ç»Ÿã€‚</p><p>(5)SpringMVCçš„åŸç†ï¼š<br>SpringMVCæ˜¯Springä¸­çš„æ¨¡å—ï¼Œå®ƒå®ç°äº†mvcè®¾è®¡æ¨¡å¼çš„webæ¡†æ¶ï¼Œé¦–å…ˆç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼Œè¯·æ±‚åˆ°è¾¾SpringMVCçš„å‰ç«¯æ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰,å‰ç«¯æ§åˆ¶å™¨æ ¹æ®ç”¨æˆ·çš„urlè¯·æ±‚å¤„ç†å™¨æ˜ å°„å™¨æŸ¥æ‰¾åŒ¹é…è¯¥urlçš„handlerï¼Œå¹¶è¿”å›ä¸€ä¸ªæ‰§è¡Œé“¾ï¼Œå‰ç«¯æ§åˆ¶å™¨å†è¯·æ±‚å¤„ç†å™¨é€‚é…å™¨è°ƒç”¨ç›¸åº”çš„handlerè¿›è¡Œå¤„ç†å¹¶è¿”å›ç»™å‰ç«¯æ§åˆ¶å™¨ä¸€ä¸ªmodelAndViewï¼Œå‰ç«¯æ§åˆ¶å™¨å†è¯·æ±‚è§†å›¾è§£æå™¨å¯¹è¿”å›çš„é€»è¾‘è§†å›¾è¿›è¡Œè§£æï¼Œæœ€åå‰ç«¯æ§åˆ¶å™¨å°†è¿”å›çš„è§†å›¾è¿›è¡Œæ¸²æŸ“å¹¶æŠŠæ•°æ®è£…å…¥åˆ°requeståŸŸï¼Œè¿”å›ç»™ç”¨æˆ·ã€‚<br>DispatcherServletä½œä¸ºspringMVCçš„å‰ç«¯æ§åˆ¶å™¨ï¼Œè´Ÿè´£æ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚å¹¶æ ¹æ®ç”¨æˆ·çš„è¯·æ±‚è¿”å›ç›¸åº”çš„è§†å›¾ç»™ç”¨æˆ·ã€‚<br>å®ç°ä¸šåŠ¡æ“ä½œæ—¶åœ¨serviceå±‚</p><p>(6) java8ä¸­ï¼Œå¿½ç•¥å†…éƒ¨æ¥å£çš„æƒ…å†µï¼Œä¸èƒ½ç”¨æ¥ä¿®é¥°interfaceé‡Œçš„æ–¹æ³•çš„æœ‰<br>private  protected</p><p>(7)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Integer s=new Integer(9);</span><br><span class="line">Integer t=new Integer(9);</span><br><span class="line">Long u=new Long(9);</span><br></pre></td></tr></table></figure><p>(s==t) ï¼Œ s æ˜¯æŒ‡å‘ä¸€ä¸ª 9 çš„å¼•ç”¨ï¼Œè€Œ t ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡å‘ 9 çš„å¼•ç”¨ï¼Œè™½ç„¶éƒ½æ˜¯æŒ‡å‘ 9 ï¼Œä½†å´æ˜¯æŒ‡å‘ä¸åŒçš„ 9 ï¼Œå³æ˜¯ä¸¤ä¸ªä¸åŒçš„å¼•ç”¨ã€‚å› æ­¤ == æ¯”è¾ƒè¿”å›çš„æ˜¯å‡ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(s.equals(t)) ï¼Œ Integer çš„ equals æ–¹æ³•å¦‚ä¸‹ï¼š</span><br><span class="line">    public boolean equals(Object obj) &#123;</span><br><span class="line">        if (obj instanceof Integer) &#123;</span><br><span class="line">            return value == ((Integer)obj).intValue();</span><br><span class="line">        &#125;</span><br><span class="line">        return false ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ˜¯ Integer çš„å®ä¾‹ä¸” value å€¼ä¹Ÿç›¸ç­‰çš„æƒ…å†µä¸‹è¿”å›çœŸï¼Œå…¶ä»–è¿”å›å‡ã€‚<br>åœ¨è¿™é‡Œï¼Œ s å’Œ t éƒ½æ˜¯ Integer ç±»å‹ä¸”å€¼éƒ½ä¸º 9 ï¼Œå› æ­¤ç»“æœä¸ºçœŸã€‚</p><p>(s.equals(9)) , åœ¨è¿›è¡Œ equals æ¯”è¾ƒä¹‹å‰ï¼Œä¼šå¯¹ 9 è°ƒç”¨ Integer.valueOf æ–¹æ³•ï¼Œè¿›è¡Œè‡ªåŠ¨è£…ç®± , ç”±äº IntegerCache ä¸­å·²ç»å­˜åœ¨ 9 ï¼Œæ‰€ä»¥ï¼Œç›´æ¥è¿”å›å…¶å¼•ç”¨ï¼Œå¼•ç”¨ç›¸åŒï¼Œ equals å°±è‡ªç„¶ç›¸åŒäº†ã€‚æ‰€ä»¥ç»“æœä¸ºçœŸ</p><p>(s.equals( new Integer(9)) ï¼Œç›´æ¥åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ Integer å®ä¾‹ï¼Œä½†ä¸”å€¼ä¹Ÿä¸º 9 ï¼Œæ‰€ä»¥ï¼Œæ»¡è¶³æ¡ä»¶ï¼Œè¿”å›çœŸã€‚</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ä½ ä¸çŸ¥é“çš„Android</title>
      <link href="/2017/07/07/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Android/"/>
      <url>/2017/07/07/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Android/</url>
      <content type="html"><![CDATA[<h5 id="androidçš„åŠ¨ç”»åˆ†ä¸º3ç§-å…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š"><a class="header-anchor" href="#androidçš„åŠ¨ç”»åˆ†ä¸º3ç§-å…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š">Â¶</a>Androidçš„åŠ¨ç”»åˆ†ä¸º3ç§ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š</h5><ul><li>å¸§åŠ¨ç”»ï¼šä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„ Frame åŠ¨ç”»ã€‚ Frame åŠ¨ç”»æ˜¯ä¸€ç³»åˆ—å›¾ç‰‡æŒ‰ç…§ä¸€å®šçš„é¡ºåºå±•ç¤ºçš„è¿‡ç¨‹ï¼Œ<br>å’Œæ”¾ç”µå½±çš„æœºåˆ¶ç›¸ä¼¼ï¼Œå®ƒçš„åŸç†æ˜¯åœ¨ä¸€å®šçš„æ—¶é—´æ®µå†…åˆ‡æ¢å¤šå¼ æœ‰ç»†å¾®å·®å¼‚çš„å›¾ç‰‡ä»è€Œè¾¾åˆ°åŠ¨ç”»çš„<br>æ•ˆæœã€‚ç”±äºæ˜¯ä¸€å¸§ä¸€å¸§åŠ è½½ï¼Œæ‰€ä»¥éœ€è¦è¾ƒå¤šçš„å›¾ç‰‡ã€‚ä»è€Œå¢å¤§ APK çš„å¤§å°ï¼Œä¸è¿‡ Frame åŠ¨ç”»<br>å¯ä»¥å®ç°ä¸€äº›æ¯”è¾ƒéš¾çš„æ•ˆæœï¼Œä¾‹å¦‚ï¼šç­‰å¾…çš„ç¯å½¢è¿›åº¦ã€‚æ‰€æ¶‰åŠåˆ°çš„Javaå¯¹è±¡æœ‰ï¼šAnimationDrawableã€‚<a id="more"></a></li><li>è¡¥é—´åŠ¨ç”»ï¼šä¹Ÿå°±æ˜¯ Tween åŠ¨ç”»ï¼Œæ˜¯æ“ä½œæŸä¸€ä¸ªæ§ä»¶è®©å…¶å±•ç°å‡ºæ—‹è½¬ã€æ¸å˜ã€ç§»åŠ¨ã€ç¼©æ”¾çš„ä¸€ç§è½¬æ¢<br>è¿‡ç¨‹ã€‚æ˜¯ä¸€ç§è§†è§‰ä¸Šçš„å˜åŒ–ï¼Œä¸æ˜¯çœŸæ­£ä½ç½®ä¸Šçš„å˜åŒ–ã€‚åªèƒ½è¿ç”¨åœ¨ View å¯¹è±¡ä¸Šï¼Œå¹¶ä¸”åŠŸèƒ½ç›¸å¯¹æ¥è¯´<br>è¾ƒä¸ºå±€é™ã€‚ä¾‹å¦‚ï¼šæ—‹è½¬åŠ¨ç”»åªèƒ½å¤Ÿåœ¨ x ã€y è½´è¿›è¡Œï¼Œè€Œä¸èƒ½åœ¨z è½´æ”¾å¿ƒè¿›è¡Œæ—‹è½¬ã€‚å› æ­¤ï¼Œè¡¥é—´åŠ¨ç”»<br>é€šå¸¸ç”¨äºæ‰§è¡Œä¸€äº›æ¯”è¾ƒç®€å•çš„åŠ¨ç”»ã€‚æ‰€æ¶‰åŠåˆ°çš„Javaå¯¹è±¡æœ‰ï¼šAlphaAnimationï¼ˆæ¸å˜åŠ¨ç”»ï¼‰ã€<br>ScaleAnimationï¼ˆç¼©æ”¾åŠ¨ç”»ï¼‰ã€TranslateAnimationï¼ˆä½ç§»åŠ¨ç”»ï¼‰ã€RotateAnimationï¼ˆæ—‹è½¬åŠ¨ç”»ï¼‰ã€‚</li><li>å±æ€§åŠ¨ç”»ï¼šæ˜¯ Android 3.0 ä¹‹åæ¨å‡ºçš„ï¼Œå…¶æœºåˆ¶ä¸å†æ˜¯é’ˆå¯¹ View æ¥è®¾è®¡çš„ï¼Œä¹Ÿä¸é™äºåªèƒ½å®ç°<br>ç§»åŠ¨ã€ç¼©æ”¾ã€æ—‹è½¬å’Œæ·¡å…¥è¿™å‡ ç§ç®€å•çš„åŠ¨ç”»æ“ä½œï¼ŒåŒæ—¶ä¹Ÿä¸å†åªæ˜¯ä¸€ç§è§†è§‰ä¸Šçš„åŠ¨ç”»æ•ˆæœã€‚å±æ€§åŠ¨ç”»<br>å®é™…ä¸Šæ˜¯ä¸€ç§åœ¨ä¸€å®šæ—¶é—´æ®µå†…ä¸æ–­ä¿®æ”¹æŸä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§å€¼çš„æœºåˆ¶ã€‚æ‰€æ¶‰åŠåˆ°çš„Javaå¯¹è±¡æœ‰ï¼š<br>ValueAnimatorã€ObjectAnimatorã€‚</li></ul><h5 id="apkç¨‹åºçš„ä¸¤ç§æ¨¡å¼ï¼š-è°ƒè¯•æ¨¡å¼-debug-mode-å’Œå‘å¸ƒæ¨¡å¼-release-mode"><a class="header-anchor" href="#apkç¨‹åºçš„ä¸¤ç§æ¨¡å¼ï¼š-è°ƒè¯•æ¨¡å¼-debug-mode-å’Œå‘å¸ƒæ¨¡å¼-release-mode">Â¶</a>APKç¨‹åºçš„ä¸¤ç§æ¨¡å¼ï¼šã€€è°ƒè¯•æ¨¡å¼(debug mode)å’Œå‘å¸ƒæ¨¡å¼(release mode)</h5><ol><li>è°ƒè¯•æ¨¡å¼(debug mode) ï¼šåœ¨è°ƒè¯•æ¨¡å¼ä¸‹ï¼Œ ADTä¼šè‡ªåŠ¨çš„ä½¿ç”¨debugå¯†é’¥ä¸ºåº”ç”¨ç¨‹åºç­¾åï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥è¿è¡Œç¨‹åºã€‚</li><li>å‘å¸ƒæ¨¡å¼(release mode)ï¼šå½“è¦å‘å¸ƒç¨‹åºæ—¶ï¼Œå¼€å‘è€…å°±éœ€è¦ä½¿ç”¨è‡ªå·±çš„æ•°å­—è¯ä¹¦ç»™apkåŒ…ç­¾å</li></ol><hr><p>ContentResolverå’Œ ContentProvideræ˜¯ä¸€å¯¹ã€‚ä¸€ä¸ªè¿è¡Œåœ¨æä¾›æ•°æ®ç«¯(provider),ä¸€ä¸ªè¿è¡Œåœ¨è°ƒç”¨ç«¯(resolver)ã€‚ä½¿ç”¨çš„æ—¶å€™åˆ©ç”¨resolveræ¥è°ƒç”¨providerçš„æ–¹æ³•(query,insert,updateç­‰)ï¼Œç„¶åproviderå†è¿›è¡Œæ•°æ®æŸ¥è¯¢</p><hr><p>åœ¨android ä¸­ä¸»çº¿ç¨‹æ˜¯uiçº¿ç¨‹ä¸€åˆ‡çš„ç•Œé¢æ“ä½œéƒ½æ˜¯åœ¨ä¸»çº¿ä¸­å®Œæˆçš„ï¼Œå¦‚æœåœ¨éä¸»çº¿ç¨‹ä¸­æ“ä½œuiå°†ä¼šæŠ¥é”™ã€‚<br>B åŒæ—¶æ‰§è¡Œå¤šä¸ªAsyncTaské»˜è®¤æ˜¯ä¸²è¡Œæ‰§è¡Œçš„ã€‚<br>C AsyncTaskå¿…é¡»åœ¨UIçº¿ç¨‹ä¸­åˆ›å»ºã€‚<br>D å†…éƒ¨é»˜è®¤çš„çº¿ç¨‹æ˜¯ç”± SerialExecutoråˆ›å»º ã€‚</p><hr><ol><li>BroadcastReceiver æ˜¯å¯¹å‘é€å‡ºæ¥çš„å¹¿æ’­è¿›è¡Œè¿‡æ»¤æ¥æ”¶å¹¶å“åº”çš„ä¸€ç±»ç»„ä»¶</li><li>æ¯æ¬¡å¹¿æ’­è¢«æ¥æ”¶åä¼šé‡æ–°åˆ›å»ºBroadcastReceiverå¯¹è±¡ï¼Œå¹¶åœ¨onReceiveræ–¹æ³•ä¸­æ‰§è¡Œå®Œæ—¶é”€æ¯</li><li>å®šä¹‰å¹¿æ’­æ¥æ”¶å™¨ç±»éœ€è¦ç»§æ‰¿BroadcastReceiveråŸºç±»ï¼Œå¹¶ä¸”å¿…é¡»è¦é‡å†™onReceive()æ–¹æ³•</li></ol><hr><p>NotificationManager æ¸…é™¤æ¶ˆæ¯çš„æ–¹æ³•æ˜¯:cancel,cancelAll</p><hr><ol><li>åº”ç”¨è¿è¡Œæ—¶ï¼ŒMainçº¿ç¨‹è¿›è¡Œäº†è€—æ—¶æ“ä½œ  äº§ç”ŸANRï¼Œç¨‹åºæ²¡æœ‰å“åº”ï¼Œæœ‰å¯èƒ½ç¨‹åºä¼šå†æ¬¡å“åº”</li><li>åº”ç”¨è¿è¡Œæ—¶æŠ›å‡ºäº†OutOfMemoryError  ç¨‹åºæŠ›å‡ºå¼‚å¸¸ï¼Œä¼šå¼ºåˆ¶é€€å‡º</li><li>åº”ç”¨è¿è¡Œæ—¶æŠ›å‡ºäº†RuntimeException  ç¨‹åºæŠ›å‡ºå¼‚å¸¸ï¼Œä¼šå¼ºåˆ¶é€€å‡º</li><li>åº”ç”¨è¿è¡Œæ—¶ï¼Œç”¨æˆ·æ“ä½œè¿‡äºé¢‘ç¹  äº§ç”ŸANRï¼Œç¨‹åºæ²¡æœ‰å“åº”ï¼Œæœ‰å¯èƒ½ç¨‹åºä¼šå†æ¬¡å“åº”</li></ol><hr><p>åœ¨Androidä¸­ï¼Œå¦‚æœéœ€è¦å¯¹æ•°æ®è¿›è¡Œå­˜å‚¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ï¼ˆ ï¼‰æ–¹å¼<br>sharedpreference  \æ•°æ®åº“\æ–‡ä»¶\Content Provider</p><hr><p>A. Messageæä¾›äº†æ¶ˆæ¯æ± ï¼Œæœ‰é™æ€æ–¹æ³•Obtainä»æ¶ˆæ¯æ± ä¸­å–å¯¹è±¡ï¼›<br>B. Threadé»˜è®¤ä¸æä¾›èµ„æºæ± ï¼Œé™¤éä½¿ç”¨çº¿ç¨‹æ± ThreadPoolç®¡ç†ï¼›<br>C. AsynTaskæ˜¯çº¿ç¨‹æ± æ”¹é€ çš„ï¼Œæ± é‡Œ é»˜è®¤æä¾›ï¼ˆæ ¸æ•°+1ï¼‰ä¸ªçº¿ç¨‹è¿›è¡Œå¹¶å‘æ“ä½œï¼Œæœ€å¤§æ”¯æŒï¼ˆæ ¸æ•°  * 2 + 1ï¼‰ä¸ªçº¿ç¨‹ï¼Œè¶…è¿‡åä¼šä¸¢å¼ƒå…¶ä»–ä»»åŠ¡ï¼›<br>D. Looperï¼Œæ¯ä¸ªLooperåˆ›å»ºæ—¶åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—å’Œçº¿ç¨‹å¯¹è±¡ï¼Œä¹Ÿä¸æ˜¯èµ„æºæ± ï¼›</p><hr><p>ä¸‹é¢å…³äºAndroidä¸­å®šä¹‰styleå’Œthemeçš„æè¿°æ­£ç¡®çš„æ˜¯ï¼Ÿ<br>styleå¯ä»¥ä½œç”¨åœ¨Activityä¸Š<br>å®˜æ–¹è§£é‡Šï¼šA style is a collection of properties that specify the look and format for a View or window<br>A theme is a style applied to an entire Activity or application<br>è¡¥å……ä¸€å¥ï¼šstyleå’Œthemeæœ¬è´¨ä¸Šå°±æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œxmlæ ¼å¼å®Œå…¨ç›¸åŒï¼Œåªæ˜¯æˆ‘ç”¨åœ¨activityä¸Šæˆ‘å°±å«ä»–themeï¼Œæˆ‘ç”¨åœ¨viewä¸Šæˆ‘å°±å«ä»–styleã€‚å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯styleé‡Œå¤´æ§åˆ¶çš„å„ä¸ªå±æ€§äº†ï¼ŒæŸäº›å±æ€§æ˜¯åªæœ‰é’ˆå¯¹Activityæ‰èƒ½ç”Ÿæ•ˆçš„ï¼ˆä½ viewæœ‰æ ‡é¢˜æ å˜›æœ‰çŠ¶æ€æ æœ‰å¯¼èˆªæ å—å˜›ï¼Ÿä½†æ˜¯åè¿‡æ¥Activityå†…éƒ¨å´æœ‰ä¸€ä¸ªç»§æ‰¿è‡ªViewçš„Decorviewï¼‰ ã€‚æ‰€ä»¥styleå¯ä»¥ä½œç”¨åœ¨activityä¸Šï¼Œä½†æ˜¯themeå´ä¸èƒ½åè¿‡æ¥ä½œç”¨åœ¨viewä¸Š</p><hr><p>åœ¨TweenåŠ¨ç”»ä¸‹ï¼Œä¸‹é¢å“ªä¸ªæ–¹æ³•å¯ä»¥æ„å»ºä¸€ä¸ªæ¸å˜å°ºå¯¸ä¼¸ç¼©åŠ¨ç”»</p><ul><li>AlphaAnimation é€æ˜åº¦æ¸å˜</li><li>ScaleAnimation é€æ˜åº¦æ¸å˜</li><li>TranslateAnimation åæ ‡å˜åŒ–</li><li>RotateAnimation æ—‹è½¬å˜æ¢</li></ul><hr><p>å‰å°è¿›ç¨‹æ˜¯Androidç³»ç»Ÿä¸­æœ€é‡è¦çš„è¿›ç¨‹ï¼Œåœ¨Andriodç³»ç»Ÿä¸­åŒ…å«</p><ul><li>Activityæ­£åœ¨ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’</li><li>è¿›ç¨‹æœåŠ¡æ­£åœ¨æ‰§è¡Œå£°æ˜ä¸­çš„å›è°ƒå‡½æ•°</li><li>è¿›ç¨‹çš„BroadCastRecevieråœ¨æ‰§è¡ŒonRecevie()å‡½æ•°</li></ul><p>activityè¢«é®æŒ¡æ—¶å±äºå¯è§è¿›ç¨‹ï¼Œå¯è§è¿›ç¨‹çš„ä¼˜å…ˆçº§åœ¨å‰å°è¿›ç¨‹ä¹‹ä¸‹ã€‚</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç‰›å®¢ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>é¢è¯•å¹²è´§åˆ†äº«</title>
      <link href="/2017/07/06/%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
      <url>/2017/07/06/%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
      <content type="html"><![CDATA[<ol><li>Switch èƒ½å¦ç”¨Stringåšå‚æ•°<br>åœ¨ Java 7 ä¹‹å‰ï¼Œ switch åªèƒ½æ”¯æŒ byte ã€ short ã€ char ã€ int æˆ–è€…å…¶å¯¹åº”çš„<br>å°è£…ç±»ä»¥åŠ Enum ç±»å‹ã€‚åœ¨ Java 7 ä¸­ï¼Œ String æ”¯æŒè¢«åŠ ä¸Šäº†ã€‚<br>å…³äºjavaä¸­çš„æšä¸¾ç±»å‹ï¼ˆ<a href="http://blog.csdn.net/wgw335363240/article/details/6359614%EF%BC%89" target="_blank" rel="noopener">http://blog.csdn.net/wgw335363240/article/details/6359614ï¼‰</a></li><li>equalsä¸==çš„åŒºåˆ«ï¼š<br>â€œ==â€æ˜¯åˆ¤æ–­ä¸¤ä¸ªå˜é‡æˆ–å®ä¾‹æ˜¯ä¸æ˜¯æŒ‡å‘åŒä¸€ä¸ªå†…å­˜ç©ºé—´ equalsæ˜¯åˆ¤æ–­ä¸¤ä¸ªå˜é‡æˆ–å®ä¾‹æ‰€æŒ‡å‘çš„å†…å­˜<br>ç©ºé—´çš„å€¼æ˜¯ä¸æ˜¯ç›¸åŒ</li></ol><a id="more"></a><ol start="3"><li>Objectæœ‰å“ªäº›å…¬ç”¨çš„æ–¹æ³•</li></ol><ul><li>æ–¹æ³•equalsæµ‹è¯•çš„æ˜¯ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰</li><li>æ–¹æ³•cloneè¿›è¡Œå¯¹è±¡æ‹·è´</li><li>æ–¹æ³•getClassè¿”å›å’Œå½“å‰å¯¹è±¡ç›¸å…³çš„Classå¯¹è±¡</li><li>æ–¹æ³•notify,notifyall,waitéƒ½æ˜¯ç”¨æ¥å¯¹ç»™å®šå¯¹è±¡è¿›è¡Œçº¿ç¨‹åŒæ­¥çš„</li></ul><ol start="4"><li>å®é™…å¼€å‘ä¸­è½¯å¼•ç”¨æˆ–è€…å¼±å¼•ç”¨çš„ä½¿ç”¨åœºæ™¯ï¼š<br>åˆ©ç”¨è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨è§£å†³OOMé—®é¢˜ï¼š<br>ç”¨ä¸€ä¸ªHashMapæ¥ä¿å­˜å›¾ç‰‡çš„è·¯å¾„å’Œç›¸åº”å›¾ç‰‡å¯¹è±¡å…³è”çš„è½¯å¼•ç”¨ä¹‹é—´çš„æ˜ å°„å…³ç³»,åœ¨å†…å­˜ä¸è¶³æ—¶,JVMä¼šè‡ªåŠ¨å›æ”¶è¿™äº›ç¼“å­˜å›¾ç‰‡å¯¹è±¡æ‰€å ç”¨çš„ç©ºé—´,ä»è€Œæœ‰æ•ˆåœ°é¿å…äº†OOMçš„é—®é¢˜é€šè¿‡è½¯å¯åŠå¯¹è±¡é‡è·æ–¹æ³•å®ç°Javaå¯¹è±¡çš„é«˜é€Ÿç¼“å­˜:æ¯”å¦‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€Employeeçš„ç±»,å¦‚æœæ¯æ¬¡éœ€è¦æŸ¥è¯¢ä¸€ä¸ªé›‡å‘˜çš„ä¿¡æ¯ã€‚å“ªæ€•æ˜¯å‡ ç§’ä¸­ä¹‹å‰åˆšåˆšæŸ¥è¯¢è¿‡çš„,éƒ½è¦é‡æ–°æ„å»ºä¸€ä¸ªå®ä¾‹ï¼Œè¿™æ˜¯éœ€è¦æ¶ˆè€—å¾ˆå¤šæ—¶é—´çš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è½¯å¼•ç”¨å’ŒHashMapçš„ç»“åˆï¼Œå…ˆæ˜¯ä¿å­˜å¼•ç”¨æ–¹é¢ï¼šä»¥è½¯å¼•ç”¨çš„æ–¹å¼å¯¹ä¸€ä¸ªEmployeeå¯¹è±¡çš„å®ä¾‹è¿›è¡Œå¼•ç”¨å¹¶ä¿å­˜è¯¥å¼•ç”¨åˆ°HashMap ä¸Šï¼Œkey ä¸ºæ­¤é›‡å‘˜çš„ id,valueä¸ºè¿™ä¸ªå¯¹è±¡çš„è½¯å¼•ç”¨,å¦ä¸€æ–¹é¢æ˜¯å–å‡ºå¼•ç”¨,ç¼“å­˜ä¸­æ˜¯å¦æœ‰è¯¥Employeeå®ä¾‹çš„è½¯å¼•ç”¨,å¦‚æœæœ‰,ä»è½¯å¼•ç”¨ä¸­å–å¾—ã€‚å¦‚æœæ²¡æœ‰è½¯å¼•ç”¨,æˆ–è€…ä»è½¯å¼•ç”¨ä¸­å¾—åˆ°çš„å®ä¾‹æ˜¯null,é‡æ–°æ„å»ºä¸€ä¸ªå®ä¾‹,å¹¶ä¿å­˜å¯¹è¿™ä¸ªæ–°å»ºå®ä¾‹ï¼Œå¹¶ä¿å­˜å¯¹è¿™ä¸ªæ–°å»ºå®ä¾‹çš„è½¯å¼•ç”¨</li><li>Hashcodeçš„ä½œç”¨ï¼Œä¸ equal æœ‰ä»€ä¹ˆåŒºåˆ«ï¼š<br>åŒæ ·ç”¨äºé‰´å®š2ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„ï¼Œjavaé›†åˆä¸­æœ‰ list å’Œ set ä¸¤ç±»ï¼Œå…¶ä¸­ setä¸å…è®¸å…ƒç´ é‡å¤å®ç°ï¼Œé‚£ä¸ªè¿™ä¸ªä¸å…è®¸é‡å¤å®ç°çš„æ–¹æ³•ï¼Œå¦‚æœç”¨ equal å»æ¯”è¾ƒçš„è¯ï¼Œå¦‚æœå­˜åœ¨1000ä¸ªå…ƒç´ ï¼Œä½  new ä¸€ä¸ªæ–°çš„å…ƒç´ å‡ºæ¥ï¼Œéœ€è¦å»è°ƒç”¨1000æ¬¡ equal å»é€ä¸ªå’Œä»–ä»¬æ¯”è¾ƒæ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·ä¼šå¤§å¤§é™ä½æ•ˆç‡ã€‚hashcodeå®é™…ä¸Šæ˜¯è¿”å›å¯¹è±¡çš„å­˜å‚¨åœ°å€ï¼Œå¦‚æœè¿™ä¸ªä½ç½®ä¸Šæ²¡æœ‰å…ƒç´ ï¼Œå°±æŠŠå…ƒç´ ç›´æ¥å­˜å‚¨åœ¨ä¸Šé¢ï¼Œå¦‚æœè¿™ä¸ªä½ç½®ä¸Šå·²ç»å­˜åœ¨å…ƒç´ ï¼Œè¿™ä¸ªæ—¶å€™æ‰å»è°ƒç”¨equalæ–¹æ³•ä¸æ–°å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œç›¸åŒçš„è¯å°±ä¸å­˜äº†ï¼Œæ•£åˆ—åˆ°å…¶ä»–åœ°å€ä¸Š</li><li>Stringã€StringBufferä¸StringBuilderçš„åŒºåˆ«<br>String ç±»å‹å’Œ StringBuffer ç±»å‹çš„ä¸»è¦æ€§èƒ½åŒºåˆ«å…¶å®åœ¨äº String æ˜¯ä¸å¯å˜çš„å¯¹è±¡ StringBufferå’ŒStringBuilderåº•å±‚æ˜¯ char[]æ•°ç»„å®ç°çš„ StringBufferæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè€ŒStringBuilderæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„</li><li>Overrideå’ŒOverloadçš„å«ä¹‰åŒºåˆ«<br>Overloadé¡¾åæ€ä¹‰æ˜¯é‡æ–°åŠ è½½ï¼Œå®ƒå¯ä»¥è¡¨ç°ç±»çš„å¤šæ€æ€§ï¼Œå¯ä»¥æ˜¯å‡½æ•°é‡Œé¢å¯ä»¥æœ‰ç›¸åŒçš„å‡½æ•°åä½†æ˜¯å‚æ•°åã€è¿”å›å€¼ã€ç±»å‹ä¸èƒ½ç›¸åŒï¼›æˆ–è€…è¯´å¯ä»¥æ”¹å˜å‚æ•°ã€ç±»å‹ã€è¿”å›å€¼ä½†æ˜¯å‡½æ•°åå­—ä¾ç„¶ä¸å˜ã€‚ Overrideé¡¾åæ€ä¹‰å°±æ˜¯ride(é‡å†™)çš„æ„æ€ï¼Œåœ¨å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™å­ç±»ä¸­å¯ä»¥å®šä¹‰æŸæ–¹æ³•ä¸å…¶çˆ¶ç±»æœ‰ç›¸åŒçš„åç§°å’Œå‚æ•°ï¼Œå½“å­ç±»åœ¨è°ƒç”¨è¿™ä¸€å‡½æ•°æ—¶è‡ªåŠ¨è°ƒç”¨å­ç±»çš„æ–¹æ³•ï¼Œè€Œçˆ¶ç±»ç›¸å½“äºè¢«è¦†ç›–ï¼ˆé‡å†™ï¼‰äº†ã€‚</li><li>æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«<br>ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿å•ä¸ªç±»ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£ æ¥å£å¼ºè°ƒç‰¹å®šåŠŸèƒ½çš„å®ç°ï¼Œè€ŒæŠ½è±¡ç±»å¼ºè°ƒæ‰€å±å…³ç³» æŠ½è±¡ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•å¹¶ä¸ä¸€å®šè¦æ˜¯æŠ½è±¡çš„ï¼Œä½ å¯ä»¥é€‰æ‹©åœ¨æŠ½è±¡ç±»ä¸­å®ç°ä¸€äº›åŸºæœ¬çš„æ–¹æ³•ã€‚è€Œæ¥å£è¦æ±‚æ‰€æœ‰çš„æ–¹æ³•éƒ½å¿…é¡»æ˜¯æŠ½è±¡çš„</li><li>è§£æXMLçš„å‡ ç§æ–¹å¼çš„åŸç†ä¸ç‰¹ç‚¹ï¼šDOMã€SAXã€PULL</li></ol><ul><li>DOMï¼šæ¶ˆè€—å†…å­˜ï¼šå…ˆæŠŠxmlæ–‡æ¡£éƒ½è¯»åˆ°å†…å­˜ä¸­ï¼Œç„¶åå†ç”¨DOM APIæ¥è®¿é—®æ ‘å½¢ç»“æ„ï¼Œå¹¶è·å–æ•°æ®ã€‚è¿™ä¸ªå†™èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯å¾ˆæ¶ˆè€—å†…å­˜ã€‚è¦æ˜¯æ•°æ®è¿‡å¤§ï¼Œæ‰‹æœºä¸å¤Ÿç‰›é€¼ï¼Œå¯èƒ½æ‰‹æœºç›´æ¥æ­»æœº</li><li>SAXï¼šè§£ææ•ˆç‡é«˜ï¼Œå ç”¨å†…å­˜å°‘ï¼ŒåŸºäºäº‹ä»¶é©±åŠ¨çš„ï¼šæ›´åŠ ç®€å•åœ°è¯´å°±æ˜¯å¯¹æ–‡æ¡£è¿›è¡Œé¡ºåºæ‰«æï¼Œå½“æ‰«æåˆ°æ–‡æ¡£(document)å¼€å§‹ä¸ç»“æŸã€å…ƒç´ (element)å¼€å§‹ä¸ç»“æŸã€æ–‡æ¡£(document)ç»“æŸç­‰åœ°æ–¹æ—¶é€šçŸ¥äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œç”±äº‹ä»¶å¤„ç†å‡½æ•°åšç›¸åº”åŠ¨ä½œï¼Œç„¶åç»§ç»­åŒæ ·çš„æ‰«æï¼Œç›´è‡³æ–‡æ¡£ç»“æŸã€‚</li><li>SAXï¼šä¸ SAX ç±»ä¼¼ï¼Œä¹Ÿæ˜¯åŸºäºäº‹ä»¶é©±åŠ¨ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨å®ƒçš„nextï¼ˆï¼‰æ–¹æ³•ï¼Œæ¥è·å–ä¸‹ä¸€ä¸ªè§£æäº‹ä»¶ï¼ˆå°±æ˜¯å¼€å§‹æ–‡æ¡£ï¼Œç»“æŸæ–‡æ¡£ï¼Œå¼€å§‹æ ‡ç­¾ï¼Œç»“æŸæ ‡ç­¾ï¼‰ï¼Œå½“å¤„äºæŸä¸ªå…ƒç´ æ—¶å¯ä»¥è°ƒç”¨XmlPullParserçš„getAttributte()æ–¹æ³•æ¥è·å–å±æ€§çš„å€¼ï¼Œä¹Ÿå¯è°ƒç”¨å®ƒçš„nextText()è·å–æœ¬èŠ‚ç‚¹çš„å€¼ã€‚</li></ul><ol start="10"><li>wait()å’Œsleep()çš„åŒºåˆ«</li></ol><ul><li>sleepæ¥è‡ªThreadç±»ï¼Œå’Œwaitæ¥è‡ªObjectç±»</li><li>è°ƒç”¨sleep()æ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œçº¿ç¨‹ä¸ä¼šé‡Šæ”¾å¯¹è±¡é”ã€‚è€Œ è°ƒç”¨ wait æ–¹æ³•çº¿ç¨‹ä¼šé‡Šæ”¾å¯¹è±¡é”</li><li>sleepç¡çœ åä¸å‡ºè®©ç³»ç»Ÿèµ„æºï¼Œwaitè®©å‡ºç³»ç»Ÿèµ„æºå…¶ä»–çº¿ç¨‹å¯ä»¥å ç”¨CPU</li><li>sleep(milliseconds)éœ€è¦æŒ‡å®šä¸€ä¸ªç¡çœ æ—¶é—´ï¼Œæ—¶é—´ä¸€åˆ°ä¼šè‡ªåŠ¨å”¤é†’</li></ul><ol start="11"><li>java å¤šæ€å®ç°åŸç†</li></ol><p>æŠ½è±¡çš„æ¥è®²ï¼Œå¤šæ€çš„æ„æ€å°±æ˜¯åŒä¸€æ¶ˆæ¯å¯ä»¥æ ¹æ®å‘é€å¯¹è±¡çš„ä¸åŒè€Œé‡‡ç”¨å¤šç§ä¸åŒçš„è¡Œä¸ºæ–¹å¼ã€‚ï¼ˆå‘é€æ¶ˆæ¯å°±æ˜¯å‡½æ•°è°ƒç”¨ï¼‰ å®ç°çš„åŸç†æ˜¯åŠ¨æ€ç»‘å®šï¼Œç¨‹åºè°ƒç”¨çš„æ–¹æ³•åœ¨è¿è¡ŒæœŸæ‰åŠ¨æ€ç»‘å®šï¼Œè¿½æº¯æºç å¯ä»¥å‘ç°ï¼ŒJVM é€šè¿‡å‚æ•°çš„è‡ªåŠ¨è½¬å‹æ¥æ‰¾åˆ°åˆé€‚çš„åŠæ³•ã€‚</p><ol start="12"><li>java åƒåœ¾å›æ”¶ä¸å†…å­˜åˆ†é…ç­–ç•¥</li></ol><p>12.1 åƒåœ¾å›æ”¶æ˜¯ä»€ä¹ˆ</p><p>å°±æ˜¯é‡Šæ”¾é‚£äº›ä¸å†æŒæœ‰å¼•ç”¨çš„å¯¹è±¡çš„å†…å­˜</p><p>12.2 æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦éœ€è¦æ”¶é›†ï¼Ÿ</p><ul><li>å¼•ç”¨è®¡æ•°ï¼ˆæœ€ç®€å•å¤è€çš„æ–¹æ³•ï¼‰ï¼šæŒ‡å°†èµ„æºï¼ˆå¯ä»¥æ˜¯å¯¹è±¡ã€å†…å­˜æˆ–ç£ç›˜ç©ºé—´ç­‰ç­‰ï¼‰çš„è¢«å¼•ç”¨æ¬¡æ•°ä¿å­˜èµ·æ¥ï¼Œå½“è¢«å¼•ç”¨æ¬¡æ•°å˜ä¸ºé›¶æ—¶å°±å°†å…¶é‡Šæ”¾çš„è¿‡ç¨‹</li><li>å¯¹è±¡å¼•ç”¨éå†ï¼ˆç°åœ¨å¤§å¤šæ•° jvm ä½¿ç”¨çš„æ–¹æ³•ï¼‰ï¼šå¯¹è±¡å¼•ç”¨éå†ä»ä¸€ç»„å¯¹è±¡å¼€å§‹ï¼Œæ²¿ç€æ•´ä¸ªå¯¹è±¡å›¾ä¸Šçš„æ¯æ¡é“¾æ¥ï¼Œé€’å½’ç¡®å®šå¯åˆ°è¾¾ï¼ˆreachableï¼‰çš„å¯¹è±¡ã€‚å¦‚æœæŸå¯¹è±¡ä¸èƒ½ä»è¿™äº›æ ¹å¯¹è±¡çš„ä¸€ä¸ªï¼ˆè‡³å°‘ä¸€ä¸ªï¼‰åˆ°è¾¾ï¼Œåˆ™å°†å®ƒä½œä¸ºåƒåœ¾æ”¶é›†</li><li>å¼•ç”¨è®¡æ•°ç¼ºé™·ï¼šå¼•ç”¨è®¡æ•°æ— æ³•è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ï¼šå‡è®¾å¯¹è±¡Aï¼ŒBéƒ½å·²ç»è¢«å®ä¾‹åŒ–ï¼Œè®©A=B,B=A,é™¤æ­¤ä¹‹å¤–è¿™ä¸¤ä¸ªå¯¹è±¡å†æ— ä»»ä½•å¼•ç”¨ï¼Œæ­¤æ—¶è®¡æ•°å™¨çš„å€¼å°±æ°¸è¿œä¸å¯èƒ½ä¸º0ï¼Œä½†æ˜¯å¼•ç”¨è®¡æ•°å™¨æ— æ³•é€šçŸ¥gcå›æ”¶ä»–ä»¬</li></ul><p>12.3 Javaçš„å››ç§å¼•ç”¨çš„åŒºåˆ«</p><ul><li>å¼ºå¼•ç”¨ï¼šå¦‚æœä¸€ä¸ªå¯¹è±¡å…·æœ‰å¼ºå¼•ç”¨ï¼Œå®ƒå°±ä¸ä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚å³ä½¿å½“å‰å†…å­˜ç©ºé—´ä¸è¶³ï¼ŒJVM ä¹Ÿä¸ä¼šå›æ”¶å®ƒï¼Œè€Œæ˜¯æŠ›å‡º OutOfMemoryError é”™è¯¯ï¼Œä½¿ç¨‹åºå¼‚å¸¸ç»ˆæ­¢ã€‚å¦‚æœæƒ³ä¸­æ–­å¼ºå¼•ç”¨å’ŒæŸä¸ªå¯¹è±¡ä¹‹é—´çš„å…³è”ï¼Œå¯ä»¥æ˜¾å¼åœ°å°†å¼•ç”¨èµ‹å€¼ä¸ºnullï¼Œè¿™æ ·ä¸€æ¥çš„è¯ï¼ŒJVMåœ¨åˆé€‚çš„æ—¶é—´å°±ä¼šå›æ”¶è¯¥å¯¹è±¡</li><li>è½¯å¼•ç”¨ï¼šåœ¨ä½¿ç”¨è½¯å¼•ç”¨æ—¶ï¼Œå¦‚æœå†…å­˜çš„ç©ºé—´è¶³å¤Ÿï¼Œè½¯å¼•ç”¨å°±èƒ½ç»§ç»­è¢«ä½¿ç”¨ï¼Œè€Œä¸ä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼Œåªæœ‰åœ¨å†…å­˜ä¸è¶³æ—¶ï¼Œè½¯å¼•ç”¨æ‰ä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚</li><li>å¼±å¼•ç”¨ï¼šå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡æ‹¥æœ‰çš„ç”Ÿå‘½å‘¨æœŸæ›´çŸ­æš‚ã€‚å› ä¸ºå½“ JVM è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œä¸€æ—¦å‘ç°å¼±å¼•ç”¨å¯¹è±¡ï¼Œæ— è®ºå½“å‰å†…å­˜ç©ºé—´æ˜¯å¦å……è¶³ï¼Œéƒ½ä¼šå°†å¼±å¼•ç”¨å›æ”¶ã€‚ä¸è¿‡ç”±äºåƒåœ¾å›æ”¶å™¨æ˜¯ä¸€ä¸ªä¼˜å…ˆçº§è¾ƒä½çš„çº¿ç¨‹ï¼Œæ‰€ä»¥å¹¶ä¸ä¸€å®šèƒ½è¿…é€Ÿå‘ç°å¼±å¼•ç”¨å¯¹è±¡</li><li>è™šå¼•ç”¨ï¼šé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å½¢åŒè™šè®¾ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ä»…æŒæœ‰è™šå¼•ç”¨ï¼Œé‚£ä¹ˆå®ƒç›¸å½“äºæ²¡æœ‰å¼•ç”¨ï¼Œåœ¨ä»»ä½•æ—¶å€™éƒ½å¯èƒ½è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚</li></ul><p>12.4 ä»‹ç»åƒåœ¾å›æ”¶æœºåˆ¶</p><ul><li>æ ‡è®°å›æ”¶æ³•ï¼šéå†å¯¹è±¡å›¾å¹¶ä¸”è®°å½•å¯åˆ°è¾¾çš„å¯¹è±¡ï¼Œä»¥ä¾¿åˆ é™¤ä¸å¯åˆ°è¾¾çš„å¯¹è±¡ï¼Œä¸€èˆ¬ä½¿ç”¨å•çº¿ç¨‹å·¥ä½œå¹¶ä¸”å¯èƒ½äº§ç”Ÿå†…å­˜ç¢ç‰‡</li><li>æ ‡è®°-å‹ç¼©å›æ”¶æ³•ï¼šå‰æœŸä¸ç¬¬ä¸€ç§æ–¹æ³•ç›¸åŒï¼Œåªæ˜¯å¤šäº†ä¸€æ­¥ï¼Œå°†æ‰€æœ‰çš„å­˜æ´»å¯¹è±¡å‹ç¼©åˆ°å†…å­˜çš„ä¸€ç«¯ï¼Œè¿™æ ·å†…å­˜ç¢ç‰‡å°±å¯ä»¥åˆæˆä¸€å¤§å—å¯å†åˆ©ç”¨çš„å†…å­˜åŒºåŸŸï¼Œæé«˜äº†å†…å­˜åˆ©ç”¨ç‡</li><li>å¤åˆ¶å›æ”¶æ³•ï¼šæŠŠç°æœ‰å†…å­˜ç©ºé—´åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œgcè¿è¡Œæ—¶ï¼Œå®ƒæŠŠå¯åˆ°è¾¾å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€åŠç©ºé—´ï¼Œå†æ¸…ç©ºæ­£åœ¨ä½¿ç”¨çš„ç©ºé—´çš„å…¨éƒ¨å¯¹è±¡ã€‚è¿™ç§æ–¹æ³•é€‚ç”¨äºçŸ­ç”Ÿå­˜æœŸçš„å¯¹è±¡ï¼ŒæŒç»­å¤åˆ¶é•¿ç”Ÿå­˜æœŸçš„å¯¹è±¡åˆ™å¯¼è‡´æ•ˆç‡é™ä½ã€‚</li><li>åˆ†ä»£å›æ”¶å‘ï¼šæŠŠå†…å­˜ç©ºé—´åˆ†ä¸ºä¸¤ä¸ªæˆ–è€…å¤šä¸ªåŸŸï¼Œå¦‚å¹´è½»ä»£å’Œè€å¹´ä»£ï¼Œå¹´è½»ä»£çš„ç‰¹ç‚¹æ˜¯å¯¹è±¡ä¼šå¾ˆå¿«è¢«å›æ”¶ï¼Œå› æ­¤åœ¨å¹´è½»ä»£ä½¿ç”¨æ•ˆç‡æ¯”è¾ƒé«˜çš„ç®—æ³•ã€‚å½“ä¸€ä¸ªå¯¹è±¡ç»è¿‡å‡ æ¬¡å›æ”¶åä¾ç„¶å­˜æ´»ï¼Œå¯¹è±¡å°±ä¼šè¢«æ”¾å…¥ç§°ä¸ºè€å¹´çš„å†…å­˜ç©ºé—´ï¼Œè€å¹´ä»£åˆ™é‡‡å–æ ‡è®°-å‹ç¼©ç®—æ³•</li></ul><p>12.5 JAVA ä¸­å †å’Œæ ˆçš„åŒºåˆ«</p><ul><li>åŸºæœ¬æ•°æ®ç±»å‹æ¯”å˜é‡å’Œå¯¹è±¡çš„å¼•ç”¨éƒ½æ˜¯åœ¨æ ˆåˆ†é…çš„</li><li>å †å†…å­˜ç”¨æ¥å­˜æ”¾ç”±newåˆ›å»ºçš„å¯¹è±¡å’Œæ•°ç»„</li><li>ç±»å˜é‡ï¼ˆstaticä¿®é¥°çš„å˜é‡ï¼‰ï¼Œç¨‹åºåœ¨ä¸€åŠ è½½çš„æ—¶å€™å°±åœ¨å †ä¸­ä¸ºç±»å˜é‡åˆ†é…å†…å­˜ï¼Œå †ä¸­çš„å†…å­˜åœ°å€å­˜æ”¾åœ¨æ ˆä¸­</li><li>å®ä¾‹å˜é‡ï¼šå½“ä½ ä½¿ç”¨javaå…³é”®å­—newçš„æ—¶å€™ï¼Œç³»ç»Ÿåœ¨å †ä¸­å¼€è¾Ÿå¹¶ä¸ä¸€å®šæ˜¯è¿ç»­çš„ç©ºé—´åˆ†é…ç»™å˜é‡ï¼Œæ˜¯æ ¹æ®é›¶æ•£çš„å †å†…å­˜åœ°å€ï¼Œé€šè¿‡å“ˆå¸Œç®—æ³•æ¢ç®—ä¸ºä¸€é•¿ä¸²æ•°å­—ä»¥è¡¨å¾è¿™ä¸ªå˜é‡åœ¨å †ä¸­çš„&quot;ç‰©ç†ä½ç½®â€,å®ä¾‹å˜é‡çš„ç”Ÿå‘½å‘¨æœŸâ€“å½“å®ä¾‹å˜é‡çš„å¼•ç”¨ä¸¢å¤±åï¼Œå°†è¢«GCï¼ˆåƒåœ¾å›æ”¶å™¨ï¼‰åˆ—å…¥å¯å›æ”¶â€œåå•â€ä¸­ï¼Œä½†å¹¶ä¸æ˜¯é©¬ä¸Šå°±é‡Šæ”¾å †ä¸­å†…å­˜</li><li>å±€éƒ¨å˜é‡: ç”±å£°æ˜åœ¨æŸæ–¹æ³•ï¼Œæˆ–æŸä»£ç æ®µé‡Œï¼ˆæ¯”å¦‚forå¾ªç¯ï¼‰ï¼Œæ‰§è¡Œåˆ°å®ƒçš„æ—¶å€™åœ¨æ ˆä¸­å¼€è¾Ÿå†…å­˜ï¼Œå½“å±€éƒ¨å˜é‡ä¸€ä½†è„±ç¦»ä½œç”¨åŸŸï¼Œå†…å­˜ç«‹å³é‡Šæ”¾</li></ul><ol start="13"><li>Java é›†åˆç³»åˆ—é—®é¢˜</li></ol><p>13.1 ArrayListã€LinkedListã€Vectorçš„åŒºåˆ«</p><ul><li>ArrayList å’ŒVectoråº•å±‚æ˜¯é‡‡ç”¨æ•°ç»„æ–¹å¼å­˜å‚¨æ•°æ®ï¼ŒVectorç”±äºä½¿ç”¨äº†synchronizedæ–¹æ³•ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰æ‰€ä»¥æ€§èƒ½ä¸Šæ¯”ArrayListè¦å·®</li><li>LinkedListä½¿ç”¨åŒå‘é“¾è¡¨å®ç°å­˜å‚¨ï¼Œéšæœºå­˜å–æ¯”è¾ƒæ…¢</li><li>HashMapçš„åº•å±‚æºç å®ç°ï¼šå½“æˆ‘ä»¬å¾€HashMapä¸­putå…ƒç´ çš„æ—¶å€™ï¼Œå…ˆæ ¹æ®keyçš„hashCodeé‡æ–°è®¡ç®—hashå€¼ï¼Œæ ¹æ®hashå€¼å¾—åˆ°è¿™ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼ˆå³ä¸‹æ ‡ï¼‰ï¼Œå¦‚æœæ•°ç»„è¯¥ä½ç½®ä¸Šå·²ç»å­˜æ”¾æœ‰å…¶ä»–å…ƒç´ äº†ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªä½ç½®ä¸Šçš„å…ƒç´ å°†ä»¥é“¾è¡¨çš„å½¢å¼å­˜æ”¾ï¼Œæ–°åŠ å…¥çš„æ”¾åœ¨é“¾å¤´ï¼Œæœ€å…ˆåŠ å…¥çš„æ”¾åœ¨é“¾å°¾ã€‚å¦‚æœæ•°ç»„è¯¥ä½ç½®ä¸Šæ²¡æœ‰å…ƒç´ ï¼Œå°±ç›´æ¥å°†è¯¥å…ƒç´ æ”¾åˆ°æ­¤æ•°ç»„ä¸­çš„è¯¥ä½ç½®ä¸Šã€‚</li><li>Fail-Fastæœºåˆ¶:åœ¨ä½¿ç”¨è¿­ä»£å™¨çš„è¿‡ç¨‹ä¸­æœ‰å…¶ä»–çº¿ç¨‹ä¿®æ”¹äº†mapï¼Œé‚£ä¹ˆå°†æŠ›å‡ºConcurrentModificationExceptionï¼Œè¿™å°±æ˜¯æ‰€è°“fail-fastæœºåˆ¶ã€‚è¿™ä¸€æœºåˆ¶åœ¨æºç ä¸­çš„å®ç°æ˜¯é€šè¿‡modCountåŸŸï¼ŒmodCounté¡¾åæ€ä¹‰å°±æ˜¯ä¿®æ”¹æ¬¡æ•°ï¼Œå¯¹HashMapå†…å®¹çš„ä¿®æ”¹éƒ½å°†å¢åŠ è¿™ä¸ªå€¼ï¼Œé‚£ä¹ˆåœ¨è¿­ä»£å™¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šå°†è¿™ä¸ªå€¼èµ‹ç»™è¿­ä»£å™¨çš„expectedModCountã€‚åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œåˆ¤æ–­modCountè·ŸexpectedModCountæ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœä¸ç›¸ç­‰å°±è¡¨ç¤ºå·²ç»æœ‰å…¶ä»–çº¿ç¨‹ä¿®æ”¹äº†Map</li></ul><p>13.2 HashMapå’Œ HashTable çš„åŒºåˆ«<br>HashTableæ¯”è¾ƒè€ï¼Œæ˜¯åŸºäºDictionary ç±»å®ç°çš„ï¼ŒHashTable åˆ™æ˜¯åŸºäº Mapæ¥å£å®ç°çš„ HashTable æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œ HashMap åˆ™æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ HashMapå¯ä»¥è®©ä½ å°†ç©ºå€¼ä½œä¸ºä¸€ä¸ªè¡¨çš„æ¡ç›®çš„keyæˆ–value</p><ol start="14"><li>ä»€ä¹ˆæ˜¯åå°„ï¼Œåœ¨å“ªé‡Œéœ€è¦ç”¨åˆ°</li><li>ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ± çš„ä½œç”¨æ˜¯ä»€ä¹ˆ</li></ol><p>1.ç­”ï¼šçº¿ç¨‹æ± çš„åŸºæœ¬æ€æƒ³è¿˜æ˜¯ä¸€ç§å¯¹è±¡æ± çš„æ€æƒ³ï¼Œå¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´ï¼Œé‡Œé¢å­˜æ”¾äº†ä¼—å¤š(æœªæ­»äº¡)çš„çº¿ç¨‹ï¼Œæ± ä¸­çº¿ç¨‹æ‰§è¡Œè°ƒåº¦ç”±æ± ç®¡ç†å™¨æ¥å¤„ç†ã€‚å½“æœ‰çº¿ç¨‹ä»»åŠ¡æ—¶ï¼Œä»æ± ä¸­å–ä¸€ä¸ªï¼Œæ‰§è¡Œå®Œæˆåçº¿ç¨‹å¯¹è±¡å½’æ± ï¼Œè¿™æ ·å¯ä»¥é¿å…åå¤åˆ›å»ºçº¿ç¨‹å¯¹è±¡æ‰€å¸¦æ¥çš„æ€§èƒ½å¼€é”€ï¼ŒèŠ‚çœäº†ç³»ç»Ÿçš„èµ„æºã€‚å°±å¥½æ¯”åŸæ¥å»é£Ÿå ‚æ‰“é¥­æ˜¯æ¯ä¸ªäººçœ‹è°æŠ¢çš„èµ¢ï¼Œè°å…ˆæŠ¢åˆ°è°å…ˆåƒï¼Œæœ‰äº†çº¿ç¨‹åƒä¹‹åï¼Œå°±æ˜¯æ’å¥½é˜Ÿå½¢ï¼Œä»Šå¤©æˆ‘è·Ÿä½ å…³ç³»å¥½ï¼Œä½ å…ˆæ¥åƒé¥­ã€‚æ¯”å¦‚ï¼šä¸€ä¸ªåº”ç”¨è¦å’Œç½‘ç»œæ‰“äº¤é“ï¼Œæœ‰å¾ˆå¤šæ­¥éª¤éœ€è¦è®¿é—®ç½‘ç»œï¼Œä¸ºäº†ä¸é˜»å¡ä¸»çº¿ç¨‹ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½åˆ›å»ºä¸ªçº¿ç¨‹ï¼Œåœ¨çº¿ç¨‹ä¸­å’Œç½‘ç»œäº¤äº’ï¼Œç”¨çº¿ç¨‹æ± å°±å˜çš„ç®€å•ï¼Œçº¿ç¨‹æ± æ˜¯å¯¹çº¿ç¨‹çš„ä¸€ç§å°è£…ï¼Œè®©çº¿ç¨‹ç”¨èµ·æ¥æ›´åŠ ç®€ä¾¿ï¼Œåªéœ€è¦åˆ›ä¸€ä¸ªçº¿ç¨‹æ± ï¼ŒæŠŠè¿™äº›æ­¥éª¤åƒä»»åŠ¡ä¸€æ ·æ”¾è¿›çº¿ç¨‹æ± ï¼Œåœ¨ç¨‹åºé”€æ¯æ—¶åªè¦è°ƒç”¨çº¿ç¨‹æ± çš„é”€æ¯å‡½æ•°å³å¯ã€‚</p><p>å•ä¸ªçº¿ç¨‹çš„å¼Šç«¯ï¼ša. æ¯æ¬¡new Threadæ–°å»ºå¯¹è±¡æ€§èƒ½å·®b. çº¿ç¨‹ç¼ºä¹ç»Ÿä¸€ç®¡ç†ï¼Œå¯èƒ½æ— é™åˆ¶æ–°å»ºçº¿ç¨‹ï¼Œç›¸äº’ä¹‹é—´ç«äº‰ï¼ŒåŠå¯èƒ½å ç”¨è¿‡å¤šç³»ç»Ÿèµ„æºå¯¼è‡´æ­»æœºæˆ–è€…OOM,c. ç¼ºä¹æ›´å¤šåŠŸèƒ½ï¼Œå¦‚å®šæ—¶æ‰§è¡Œã€å®šæœŸæ‰§è¡Œã€çº¿ç¨‹ä¸­æ–­ã€‚</p><p>javaæä¾›çš„å››ç§çº¿ç¨‹æ± çš„å¥½å¤„åœ¨äºï¼ša. é‡ç”¨å­˜åœ¨çš„çº¿ç¨‹ï¼Œå‡å°‘å¯¹è±¡åˆ›å»ºã€æ¶ˆäº¡çš„å¼€é”€ï¼Œæ€§èƒ½ä½³ã€‚b. å¯æœ‰æ•ˆæ§åˆ¶æœ€å¤§å¹¶å‘çº¿ç¨‹æ•°ï¼Œæé«˜ç³»ç»Ÿèµ„æºçš„ä½¿ç”¨ç‡ï¼ŒåŒæ—¶é¿å…è¿‡å¤šèµ„æºç«äº‰ï¼Œé¿å…å µå¡ã€‚c. æä¾›å®šæ—¶æ‰§è¡Œã€å®šæœŸæ‰§è¡Œã€å•çº¿ç¨‹ã€å¹¶å‘æ•°æ§åˆ¶ç­‰åŠŸèƒ½ã€‚</p><p>2.Javaçº¿ç¨‹æ± </p><p>Javaé€šè¿‡Executorsæä¾›å››ç§çº¿ç¨‹æ± ï¼Œåˆ†åˆ«ä¸ºï¼š<br>newCachedThreadPoolåˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚</p><p>newFixedThreadPool åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œå¯æ§åˆ¶çº¿ç¨‹æœ€å¤§å¹¶å‘æ•°ï¼Œè¶…å‡ºçš„çº¿ç¨‹ä¼šåœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚</p><p>newScheduledThreadPool åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œã€‚</p><p>newSingleThreadExecutor åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO, LIFO, ä¼˜å…ˆçº§)æ‰§è¡Œã€‚</p><p>(1). newCachedThreadPool</p><p>åˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚çº¿ç¨‹æ± ä¸ºæ— é™å¤§ï¼Œå½“æ‰§è¡Œç¬¬äºŒä¸ªä»»åŠ¡æ—¶ç¬¬ä¸€ä¸ªä»»åŠ¡å·²ç»å®Œæˆï¼Œä¼šå¤ç”¨æ‰§è¡Œç¬¬ä¸€ä¸ªä»»åŠ¡çš„çº¿ç¨‹ï¼Œè€Œä¸ç”¨æ¯æ¬¡æ–°å»ºçº¿ç¨‹ã€‚</p><p>(2). newFixedThreadPool</p><p>åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œå¯æ§åˆ¶çº¿ç¨‹æœ€å¤§å¹¶å‘æ•°ï¼Œè¶…å‡ºçš„çº¿ç¨‹ä¼šåœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚</p><p>(3) newScheduledThreadPool</p><p>åˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œã€‚ScheduledExecutorServiceæ¯”Timeræ›´å®‰å…¨ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§</p><p>(4) newSingleThreadExecutor</p><p>åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO, LIFO, ä¼˜å…ˆçº§)æ‰§è¡Œ</p><h4 id="androidéƒ¨åˆ†-é‡ç‚¹éƒ¨åˆ†"><a class="header-anchor" href="#androidéƒ¨åˆ†-é‡ç‚¹éƒ¨åˆ†">Â¶</a>Androidéƒ¨åˆ†ï¼ˆé‡ç‚¹éƒ¨åˆ†ï¼‰</h4><h6 id="1-activityç³»åˆ—é—®é¢˜"><a class="header-anchor" href="#1-activityç³»åˆ—é—®é¢˜">Â¶</a>1. Activityç³»åˆ—é—®é¢˜</h6><p>1.1 Activityç”Ÿå‘½å‘¨æœŸæµå›¾</p><p><img src="../images/activity.jpg" alt=" activity"></p><p>1.2 ä»‹ç»ä¸‹ä¸åŒåœºæ™¯ä¸‹Activityç”Ÿå‘½å‘¨æœŸçš„å˜åŒ–è¿‡ç¨‹</p><ul><li>å¯åŠ¨Activityï¼š onCreate()â€”&gt;onStart()â€”&gt;onResume()ï¼ŒActivityè¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚</li><li>Activityé€€å±…åå°ï¼š å½“å‰Activityè½¬åˆ°æ–°çš„Activityç•Œé¢æˆ–æŒ‰Homeé”®å›åˆ°ä¸»å±ï¼š onPause()â€”&gt;onStop()ï¼Œè¿›å…¥åœæ»çŠ¶æ€ã€‚</li><li>Activityè¿”å›å‰å°ï¼š onRestart()â€”&gt;onStart()â€”&gt;onResume()ï¼Œå†æ¬¡å›åˆ°è¿è¡ŒçŠ¶æ€ã€‚</li><li>Activityé€€å±…åå°ï¼Œä¸”ç³»ç»Ÿå†…å­˜ä¸è¶³ï¼Œ ç³»ç»Ÿä¼šæ€æ­»è¿™ä¸ªåå°çŠ¶æ€çš„Activityï¼Œè‹¥å†æ¬¡å›åˆ°è¿™ä¸ªActivity,åˆ™ä¼šèµ°onCreate()â€“&gt;onStart()â€”&gt;onResume()</li><li>é”å®šå±ä¸è§£é”å±å¹• åªä¼šè°ƒç”¨onPause()ï¼Œè€Œä¸ä¼šè°ƒç”¨onStopæ–¹æ³•ï¼Œå¼€å±ååˆ™è°ƒç”¨onResume()</li></ul><p>1.3 å†…å­˜ä¸è¶³æ—¶ç³»ç»Ÿä¼šæ€æ‰åå°çš„Activityï¼Œè‹¥éœ€è¦è¿›è¡Œä¸€äº›ä¸´æ—¶çŠ¶æ€çš„ä¿å­˜ï¼Œåœ¨å“ªä¸ªæ–¹æ³•è¿›è¡Œï¼Ÿ</p><p>Activityçš„ onSaveInstanceState() å’Œ onRestoreInstanceState()å¹¶ä¸æ˜¯ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå®ƒä»¬ä¸åŒäº onCreate()ã€onPause()ç­‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå®ƒä»¬å¹¶ä¸ä¸€å®šä¼šè¢«è§¦å‘ã€‚å½“åº”ç”¨é‡åˆ°æ„å¤–æƒ…å†µï¼ˆå¦‚ï¼šå†…å­˜ä¸è¶³ã€ç”¨æˆ·ç›´æ¥æŒ‰Homeé”®ï¼‰ç”±ç³»ç»Ÿé”€æ¯ä¸€ä¸ªActivityï¼ŒonSaveInstanceState() ä¼šè¢«è°ƒç”¨ã€‚ä½†æ˜¯å½“ç”¨æˆ·ä¸»åŠ¨å»é”€æ¯ä¸€ä¸ªActivityæ—¶ï¼Œä¾‹å¦‚åœ¨åº”ç”¨ä¸­æŒ‰è¿”å›é”®ï¼ŒonSaveInstanceState()å°±ä¸ä¼šè¢«è°ƒç”¨ã€‚é™¤éè¯¥activityæ˜¯è¢«ç”¨æˆ·ä¸»åŠ¨é”€æ¯çš„ï¼Œé€šå¸¸onSaveInstanceState()åªé€‚åˆç”¨äºä¿å­˜ä¸€äº›ä¸´æ—¶æ€§çš„çŠ¶æ€ï¼Œè€ŒonPause()é€‚åˆç”¨äºæ•°æ®çš„æŒä¹…åŒ–ä¿å­˜ã€‚</p><p>1.4 onSaveInstanceState()è¢«æ‰§è¡Œçš„åœºæ™¯æœ‰å“ªäº›ï¼š</p><p>ç³»ç»Ÿä¸çŸ¥é“ä½ æŒ‰ä¸‹HOMEåè¦è¿è¡Œå¤šå°‘å…¶ä»–çš„ç¨‹åºï¼Œè‡ªç„¶ä¹Ÿä¸çŸ¥é“activity Aæ˜¯å¦ä¼šè¢«é”€æ¯ï¼Œå› æ­¤ç³»ç»Ÿéƒ½ä¼šè°ƒç”¨onSaveInstanceState()ï¼Œè®©ç”¨æˆ·æœ‰æœºä¼šä¿å­˜æŸäº›éæ°¸ä¹…æ€§çš„æ•°æ®ã€‚ä»¥ä¸‹å‡ ç§æƒ…å†µçš„åˆ†æéƒ½éµå¾ªè¯¥åŸåˆ™</p><ul><li><p>å½“ç”¨æˆ·æŒ‰ä¸‹HOMEé”®æ—¶</p></li><li><p>é•¿æŒ‰HOMEé”®ï¼Œé€‰æ‹©è¿è¡Œå…¶ä»–çš„ç¨‹åºæ—¶</p></li><li><p>é”å±æ—¶</p></li><li><p>ä»activity Aä¸­å¯åŠ¨ä¸€ä¸ªæ–°çš„activityæ—¶</p></li><li><p>å±å¹•æ–¹å‘åˆ‡æ¢æ—¶</p></li></ul><p>1.5  ä»‹ç»Activityçš„å‡ ä¸­å¯åŠ¨æ¨¡å¼ï¼Œå¹¶ç®€å•è¯´è¯´è‡ªå·±çš„ç†è§£æˆ–è€…ä½¿ç”¨åœºæ™¯</p><h6 id="2-serviceç³»åˆ—é—®é¢˜"><a class="header-anchor" href="#2-serviceç³»åˆ—é—®é¢˜">Â¶</a>2. Serviceç³»åˆ—é—®é¢˜</h6><p>2.1 æ³¨å†ŒServiceéœ€è¦æ³¨æ„ä»€ä¹ˆ</p><p>Serviceè¿˜æ˜¯è¿è¡Œåœ¨ä¸»çº¿ç¨‹å½“ä¸­çš„ï¼Œæ‰€ä»¥å¦‚æœéœ€è¦æ‰§è¡Œä¸€äº›å¤æ‚çš„é€»è¾‘æ“ä½œï¼Œæœ€å¥½åœ¨æœåŠ¡çš„å†…éƒ¨æ‰‹åŠ¨åˆ›å»ºå­çº¿ç¨‹è¿›è¡Œå¤„ç†ï¼Œå¦åˆ™ä¼šå‡ºç°UIçº¿ç¨‹è¢«é˜»å¡çš„é—®é¢˜</p><p>2.2 Serviceä¸Activityæ€ä¹ˆå®ç°é€šä¿¡</p><p>æ–¹æ³•ä¸€ï¼š</p><ul><li>æ·»åŠ ä¸€ä¸ªç»§æ‰¿Binderçš„å†…éƒ¨ç±»ï¼Œå¹¶æ·»åŠ ç›¸åº”çš„é€»è¾‘æ–¹æ³•</li><li>é‡å†™Serviceçš„onBindæ–¹æ³•ï¼Œè¿”å›æˆ‘ä»¬åˆšåˆšå®šä¹‰çš„é‚£ä¸ªå†…éƒ¨ç±»å®ä¾‹</li><li>Activityä¸­åˆ›å»ºä¸€ä¸ªServiceConnectionçš„åŒ¿åå†…éƒ¨ç±»ï¼Œå¹¶ä¸”é‡å†™é‡Œé¢çš„onServiceConnectedæ–¹æ³•å’ŒonServiceDisconnectedæ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•åˆ†åˆ«ä¼šåœ¨æ´»åŠ¨ä¸æœåŠ¡æˆåŠŸç»‘å®šä»¥åŠè§£é™¤ç»‘å®šçš„æ—¶å€™è°ƒç”¨ï¼Œåœ¨onServiceConnectedæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªåˆšæ‰é‚£ä¸ªserviceçš„binderå¯¹è±¡ï¼Œé€šè¿‡å¯¹è¿™ä¸ªbinderå¯¹è±¡è¿›è¡Œå‘ä¸‹è½¬å‹ï¼Œå¾—åˆ°æˆ‘ä»¬é‚£ä¸ªè‡ªå®šä¹‰çš„Binderå®ä¾‹ï¼Œæœ‰äº†è¿™ä¸ªå®ä¾‹ï¼Œåšå¯ä»¥è°ƒç”¨è¿™ä¸ªå®ä¾‹é‡Œé¢çš„å…·ä½“æ–¹æ³•è¿›è¡Œéœ€è¦çš„æ“ä½œäº†</li></ul><p>æ–¹æ³•äºŒï¼š</p><p>é€šè¿‡BroadCast(å¹¿æ’­)çš„å½¢å¼ å½“æˆ‘ä»¬çš„è¿›åº¦å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æˆ‘ä»¬å‘é€ä¸€æ¡å¹¿æ’­ï¼Œç„¶ååœ¨Activityçš„æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨ï¼Œæ¥æ”¶åˆ°å¹¿æ’­ä¹‹åæ›´æ–°è§†å›¾</p><p>2.3 ä»‹ç»æºç ä¸­binderæœºåˆ¶</p><p>2.4 IntentServiceä¸Serviceçš„åŒºåˆ«</p><p>IntentServiceæ˜¯Serviceçš„å­ç±»ï¼Œæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„ï¼Œä¼šè‡ªåŠ¨åœæ­¢çš„æœåŠ¡ï¼Œå¾ˆå¥½è§£å†³äº†ä¼ ç»Ÿçš„Serviceä¸­å¤„ç†å®Œè€—æ—¶æ“ä½œå¿˜è®°åœæ­¢å¹¶é”€æ¯Serviceçš„é—®é¢˜</p><ul><li>ä¼šåˆ›å»ºç‹¬ç«‹çš„workerçº¿ç¨‹æ¥å¤„ç†æ‰€æœ‰çš„Intentè¯·æ±‚ï¼›</li><li>ä¼šåˆ›å»ºç‹¬ç«‹çš„workerçº¿ç¨‹æ¥å¤„ç†onHandleIntent()æ–¹æ³•å®ç°çš„ä»£ç ï¼Œæ— éœ€å¤„ç†å¤šçº¿ç¨‹é—®é¢˜ï¼›</li><li>æ‰€æœ‰è¯·æ±‚å¤„ç†å®Œæˆåï¼ŒIntentServiceä¼šè‡ªåŠ¨åœæ­¢ï¼Œæ— éœ€è°ƒç”¨stopSelf()æ–¹æ³•åœæ­¢Serviceï¼›</li><li>ä¸ºServiceçš„onBind()æä¾›é»˜è®¤å®ç°ï¼Œè¿”å›nullï¼›</li><li>ä¸ºServiceçš„onStartCommandæä¾›é»˜è®¤å®ç°ï¼Œå°†è¯·æ±‚Intentæ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼›</li><li>IntentServiceä¸ä¼šé˜»å¡UIçº¿ç¨‹ï¼Œè€Œæ™®é€šServeiceä¼šå¯¼è‡´ANRå¼‚å¸¸</li><li>ntentserviceè‹¥æœªæ‰§è¡Œå®Œæˆä¸Šä¸€æ¬¡çš„ä»»åŠ¡ï¼Œå°†ä¸ä¼šæ–°å¼€ä¸€ä¸ªçº¿ç¨‹ï¼Œæ˜¯ç­‰å¾…ä¹‹å‰çš„ä»»åŠ¡å®Œæˆåï¼Œå†æ‰§è¡Œæ–°çš„ä»»åŠ¡ï¼Œç­‰ä»»åŠ¡å®Œæˆåå†æ¬¡è°ƒç”¨stopSelf()</li></ul><h6 id="3-handleç³»åˆ—é—®é¢˜"><a class="header-anchor" href="#3-handleç³»åˆ—é—®é¢˜">Â¶</a>3. Handleç³»åˆ—é—®é¢˜</h6><p>3.1 ä»‹ç»Handleçš„æœºåˆ¶</p><ul><li>Handleré€šè¿‡è°ƒç”¨sendmessageæ–¹æ³•æŠŠæ¶ˆæ¯æ”¾åœ¨æ¶ˆæ¯é˜Ÿåˆ—MessageQueueä¸­ï¼ŒLooperè´Ÿè´£æŠŠæ¶ˆæ¯ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–å‡ºæ¥ï¼Œé‡æ–°å†äº¤ç»™Handlerè¿›è¡Œå¤„ç†ï¼Œä¸‰è€…å½¢æˆä¸€ä¸ªå¾ªç¯</li><li>é€šè¿‡æ„å»ºä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼ŒæŠŠæ‰€æœ‰çš„Messageè¿›è¡Œç»Ÿä¸€çš„ç®¡ç†ï¼Œå½“Messageä¸ç”¨äº†ï¼Œå¹¶ä¸ä½œä¸ºåƒåœ¾å›æ”¶ï¼Œè€Œæ˜¯æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œä¾›ä¸‹æ¬¡handleråˆ›å»ºæ¶ˆæ¯æ—¶å€™ä½¿ç”¨ï¼Œæé«˜äº†æ¶ˆæ¯å¯¹è±¡çš„å¤ç”¨ï¼Œå‡å°‘ç³»ç»Ÿåƒåœ¾å›æ”¶çš„æ¬¡æ•°</li><li>æ¯ä¸€ä¸ªçº¿ç¨‹ï¼Œéƒ½ä¼šå•ç‹¬å¯¹åº”çš„ä¸€ä¸ªlooperï¼Œè¿™ä¸ªlooperé€šè¿‡ThreadLocalæ¥åˆ›å»ºï¼Œä¿è¯æ¯ä¸ªçº¿ç¨‹åªåˆ›å»ºä¸€ä¸ªlooperï¼Œlooperåˆå§‹åŒ–åå°±ä¼šè°ƒç”¨looper.loopåˆ›å»ºä¸€ä¸ªMessageQueueï¼Œè¿™ä¸ªæ–¹æ³•åœ¨UIçº¿ç¨‹åˆå§‹åŒ–çš„æ—¶å€™å°±ä¼šå®Œæˆï¼Œæˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»º</li></ul><p>3.2 è°ˆè°ˆå¯¹HandlerThreadçš„ç†è§£</p><h6 id="listviewç³»åˆ—é—®é¢˜"><a class="header-anchor" href="#listviewç³»åˆ—é—®é¢˜">Â¶</a>ListViewç³»åˆ—é—®é¢˜</h6><p>4.1 ListViewå¡é¡¿çš„åŸå› ä¸æ€§èƒ½ä¼˜åŒ–ï¼Œè¶Šå¤šè¶Šå¥½</p><ul><li>é‡ç”¨converViewï¼š é€šè¿‡å¤ç”¨converviewæ¥å‡å°‘ä¸å¿…è¦çš„viewçš„åˆ›å»ºï¼Œå¦å¤–Infalteæ“ä½œä¼šæŠŠxmlæ–‡ä»¶å®ä¾‹åŒ–æˆç›¸åº”çš„Viewå®ä¾‹ï¼Œå±äºIOæ“ä½œï¼Œæ˜¯è€—æ—¶æ“ä½œã€‚</li><li>å‡å°‘findViewById()æ“ä½œï¼š å°†xmlæ–‡ä»¶ä¸­çš„å…ƒç´ å°è£…æˆviewholderé™æ€ç±»ï¼Œé€šè¿‡converviewçš„setTagå’ŒgetTagæ–¹æ³•å°†viewä¸ç›¸åº”çš„holderå¯¹è±¡ç»‘å®šåœ¨ä¸€èµ·ï¼Œé¿å…ä¸å¿…è¦çš„findviewbyidæ“ä½œ</li><li>é¿å…åœ¨ getView æ–¹æ³•ä¸­åšè€—æ—¶çš„æ“ä½œ: ä¾‹å¦‚åŠ è½½æœ¬åœ° Image éœ€è¦è½½å…¥å†…å­˜ä»¥åŠè§£æ Bitmap ï¼Œéƒ½æ˜¯æ¯”è¾ƒè€—æ—¶çš„æ“ä½œï¼Œå¦‚æœç”¨æˆ·å¿«é€Ÿæ»‘åŠ¨listviewï¼Œä¼šå› ä¸ºgetviewé€»è¾‘è¿‡äºå¤æ‚è€—æ—¶è€Œé€ æˆæ»‘åŠ¨å¡é¡¿ç°è±¡ã€‚ç”¨æˆ·æ»‘åŠ¨æ—¶å€™ä¸è¦åŠ è½½å›¾ç‰‡ï¼Œå¾…æ»‘åŠ¨å®Œæˆå†åŠ è½½ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªç¬¬ä¸‰æ–¹åº“glide</li><li>Itemçš„å¸ƒå±€å±‚æ¬¡ç»“æ„å°½é‡ç®€å•ï¼Œé¿å…å¸ƒå±€å¤ªæ·±æˆ–è€…ä¸å¿…è¦çš„é‡ç»˜</li><li>å°½é‡èƒ½ä¿è¯ Adapter çš„ hasStableIds() è¿”å› true è¿™æ ·åœ¨ notifyDataSetChanged() çš„æ—¶å€™ï¼Œå¦‚æœitemå†…å®¹å¹¶æ²¡æœ‰å˜åŒ–ï¼ŒListView å°†ä¸ä¼šé‡æ–°ç»˜åˆ¶è¿™ä¸ª Viewï¼Œè¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„</li><li>åœ¨ä¸€äº›åœºæ™¯ä¸­ï¼ŒScollViewå†…ä¼šåŒ…å«å¤šä¸ªListViewï¼Œå¯ä»¥æŠŠlistviewçš„é«˜åº¦å†™æ­»å›ºå®šä¸‹æ¥ã€‚ç”±äºScollViewåœ¨å¿«é€Ÿæ»‘åŠ¨è¿‡ç¨‹ä¸­éœ€è¦å¤§é‡è®¡ç®—æ¯ä¸€ä¸ªlistviewçš„é«˜åº¦ï¼Œé˜»å¡äº†UIçº¿ç¨‹å¯¼è‡´å¡é¡¿ç°è±¡å‡ºç°ï¼Œå¦‚æœæˆ‘ä»¬æ¯ä¸€ä¸ªitemçš„é«˜åº¦éƒ½æ˜¯å‡åŒ€çš„ï¼Œå¯ä»¥é€šè¿‡è®¡ç®—æŠŠlistviewçš„é«˜åº¦ç¡®å®šä¸‹æ¥ï¼Œé¿å…å¡é¡¿ç°è±¡å‡ºç°</li><li>ä½¿ç”¨ RecycleView ä»£æ›¿listviewï¼šæ¯ä¸ªitemå†…å®¹çš„å˜åŠ¨ï¼Œlistviewéƒ½éœ€è¦å»è°ƒç”¨notifyDataSetChangedæ¥æ›´æ–°å…¨éƒ¨çš„itemï¼Œå¤ªæµªè´¹æ€§èƒ½äº†ã€‚RecycleViewå¯ä»¥å®ç°å½“ä¸ªitemçš„å±€éƒ¨åˆ·æ–°ï¼Œå¹¶ä¸”å¼•å…¥äº†å¢åŠ å’Œåˆ é™¤çš„åŠ¨æ€æ•ˆæœï¼Œåœ¨æ€§èƒ½ä¸Šå’Œå®šåˆ¶ä¸Šéƒ½æœ‰å¾ˆå¤§çš„æ”¹å–„</li><li>ListView ä¸­å…ƒç´ é¿å…åŠé€æ˜ï¼š åŠé€æ˜ç»˜åˆ¶éœ€è¦å¤§é‡ä¹˜æ³•è®¡ç®—ï¼Œåœ¨æ»‘åŠ¨æ—¶ä¸åœé‡ç»˜ä¼šé€ æˆå¤§é‡çš„è®¡ç®—ï¼Œåœ¨æ¯”è¾ƒå·®çš„æœºå­ä¸Šä¼šæ¯”è¾ƒå¡ã€‚ åœ¨è®¾è®¡ä¸Šèƒ½ä¸åŠé€æ˜å°±ä¸ä¸åŠé€æ˜ã€‚å®åœ¨è¦å¼„å°±æŠŠåœ¨æ»‘åŠ¨çš„æ—¶å€™æŠŠåŠé€æ˜è®¾ç½®æˆä¸é€æ˜ï¼Œæ»‘åŠ¨å®Œå†é‡æ–°è®¾ç½®æˆåŠé€æ˜ã€‚</li><li>å°½é‡å¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼š ç¡¬ä»¶åŠ é€Ÿæå‡å·¨å¤§ï¼Œé¿å…ä½¿ç”¨ä¸€äº›ä¸æ”¯æŒçš„å‡½æ•°å¯¼è‡´å«æ³ªå…³é—­æŸä¸ªåœ°æ–¹çš„ç¡¬ä»¶åŠ é€Ÿã€‚å½“ç„¶è¿™ä¸€æ¡ä¸åªæ˜¯å¯¹ ListViewã€‚</li></ul><p>4.2 æ€ä¹ˆå®ç°ä¸€ä¸ªéƒ¨åˆ†æ›´æ–°çš„ ListViewï¼Ÿ</p><p>4.3 æ€ä¹ˆå®ç°ListViewå¤šç§å¸ƒå±€ï¼Ÿ</p><p>4.4 ListViewä¸æ•°æ®åº“ç»‘å®šçš„å®ç°</p><h6 id="5-jniç³»åˆ—é—®é¢˜"><a class="header-anchor" href="#5-jniç³»åˆ—é—®é¢˜">Â¶</a>5. JNIç³»åˆ—é—®é¢˜</h6><p>5.1 å¦‚ä½•ä½¿ç”¨JNI</p><ol><li><p>JAVAä¸­å£°æ˜native æ–¹æ³•å¦‚private native String printJNI(String inputStr);</p></li><li><p>ä½¿ç”¨javahå·¥å…·ç”Ÿæˆ.hå¤´æ–‡ä»¶è¿™æ—¶å€™å¤´æ–‡ä»¶ä¸­å°±ä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„å‡½æ•°JNIEXPORT jstring JNICALL Java_com_wenming_HelloWorld_printJNI</p></li><li><p>å®ç°JNIåŸç”Ÿå‡½æ•°æºæ–‡ä»¶ï¼Œæ–°å»ºHelloWorld.cæ–‡ä»¶ï¼Œå¯¹åˆšæ‰è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°è¿›è¡Œå…·ä½“çš„é€»è¾‘ä¹¦å†™ï¼Œä¾‹å¦‚è¿”å›ä¸€ä¸ªjavaå«åšHelloWorldçš„å­—ç¬¦ä¸²ç­‰</p></li><li><p>ç¼–è¯‘ç”ŸæˆåŠ¨æ€é“¾æ¥soæ–‡ä»¶**</p></li><li><p>Javaä¸­è°ƒç”¨Sysytem.loadæ–¹æ³•æŠŠåˆšæ‰çš„soåº“åŠ è½½è¿›æ¥ï¼Œå°±å¯ä»¥è°ƒç”¨nativeæ–¹æ³•äº†</p></li></ol><p>5.2 å¦‚ä½•é€šè¿‡JNIä¼ é€’Stringå¯¹è±¡</p><p>Javaçš„Stringå’ŒC++çš„stringæ˜¯ä¸èƒ½å¯¹ç­‰èµ·æ¥çš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æ‹¿åˆ°.hæ–‡ä»¶ä¸‹é¢çš„jstringå¯¹è±¡ï¼Œä¼šåšä¸€æ¬¡è½¬æ¢æˆ‘ä»¬æŠŠjstringè½¬æ¢ä¸ºCä¸‹é¢çš„char*ç±»å‹ï¼Œ è·å–å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">constchar* str;</span><br><span class="line">str = env-&gt;GetStringUTFChars(prompt,false);</span><br></pre></td></tr></table></figure><p>èµ‹äºˆå€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">char* tmpstr =&quot;return string succeeded&quot;;</span><br><span class="line">jstring rtstr = env-&gt;NewStringUTF(tmpstr);</span><br></pre></td></tr></table></figure><h6 id="6-oomç³»åˆ—é—®é¢˜"><a class="header-anchor" href="#6-oomç³»åˆ—é—®é¢˜">Â¶</a>6.OOMç³»åˆ—é—®é¢˜</h6><p>6.1 ä»€ä¹ˆOOMï¼Ÿ</p><p>OOMå…¨ç§°æ˜¯Out Of Merroryï¼ŒAndroidç³»ç»Ÿçš„æ¯ä¸€ä¸ªåº”ç”¨ç¨‹åºéƒ½è®¾ç½®ä¸€ä¸ªç¡¬æ€§çš„Dalvik Heap Sizeæœ€å¤§é™åˆ¶é˜ˆå€¼ï¼Œå¦‚æœç”³è¯·çš„å†…å­˜èµ„æºè¶…è¿‡è¿™ä¸ªé™åˆ¶ï¼Œç³»ç»Ÿå°±ä¼šæŠ›å‡ºOOMé”™è¯¯</p><p>6.2 å†…å­˜æ³„æ¼æœ‰å“ªäº›åœºæ™¯ä»¥åŠè§£å†³æ–¹æ³•</p><ul><li><p>ç±»çš„é™æ€å˜é‡æŒæœ‰å¤§æ•°æ®å¯¹è±¡ é™æ€å˜é‡é•¿æœŸç»´æŒåˆ°å¤§æ•°æ®å¯¹è±¡çš„å¼•ç”¨ï¼Œé˜»æ­¢åƒåœ¾å›æ”¶ã€‚</p></li><li><p>éé™æ€å†…éƒ¨ç±»å­˜åœ¨é™æ€å®ä¾‹ éé™æ€å†…éƒ¨ç±»ä¼šç»´æŒä¸€ä¸ªåˆ°å¤–éƒ¨ç±»å®ä¾‹çš„å¼•ç”¨ï¼Œå¦‚æœéé™æ€å†…éƒ¨ç±»çš„å®ä¾‹æ˜¯é™æ€çš„ï¼Œå°±ä¼šé—´æ¥é•¿æœŸç»´æŒç€å¤–éƒ¨ç±»çš„å¼•ç”¨ï¼Œé˜»æ­¢è¢«å›æ”¶æ‰ã€‚</p></li><li><p>èµ„æºå¯¹è±¡æœªå…³é—­ èµ„æºæ€§å¯¹è±¡æ¯”å¦‚ï¼ˆCursorï¼ŒFileæ–‡ä»¶ç­‰ï¼‰å¾€å¾€éƒ½ç”¨äº†ä¸€äº›ç¼“å†²ï¼Œæˆ‘ä»¬åœ¨ä¸ä½¿ç”¨çš„æ—¶å€™ï¼Œåº”è¯¥åŠæ—¶å…³é—­å®ƒä»¬ï¼Œä»¥ä¾¿å®ƒä»¬çš„ç¼“å†²åŠæ—¶å›æ”¶å†…å­˜ã€‚å®ƒä»¬çš„ç¼“å†²ä¸ä»…å­˜åœ¨äºjavaè™šæ‹Ÿæœºå†…ï¼Œè¿˜å­˜åœ¨äºjavaè™šæ‹Ÿæœºå¤–ã€‚ å¦‚æœæˆ‘ä»¬ä»…ä»…æ˜¯æŠŠå®ƒçš„å¼•ç”¨è®¾ç½®ä¸ºnull,è€Œä¸å…³é—­å®ƒä»¬ï¼Œå¾€å¾€ä¼šé€ æˆå†…å­˜æ³„éœ²ã€‚ è§£å†³åŠæ³•ï¼š æ¯”å¦‚SQLiteCursorï¼ˆåœ¨ææ„å‡½æ•°finalizeï¼ˆï¼‰,å¦‚æœæˆ‘ä»¬æ²¡æœ‰å…³é—­å®ƒï¼Œå®ƒè‡ªå·±ä¼šè°ƒclose()å…³é—­ï¼‰ï¼Œ å¦‚æœæˆ‘ä»¬æ²¡æœ‰å…³é—­å®ƒï¼Œç³»ç»Ÿåœ¨å›æ”¶å®ƒæ—¶ä¹Ÿä¼šå…³é—­å®ƒï¼Œä½†æ˜¯è¿™æ ·çš„æ•ˆç‡å¤ªä½äº†ã€‚ å› æ­¤å¯¹äºèµ„æºæ€§å¯¹è±¡åœ¨ä¸ä½¿ç”¨çš„æ—¶å€™ï¼Œåº”è¯¥è°ƒç”¨å®ƒçš„close()å‡½æ•°ï¼Œå°†å…¶å…³é—­æ‰ï¼Œç„¶åæ‰ç½®ä¸ºnull. åœ¨æˆ‘ä»¬çš„ç¨‹åºé€€å‡ºæ—¶ä¸€å®šè¦ç¡®ä¿æˆ‘ä»¬çš„èµ„æºæ€§å¯¹è±¡å·²ç»å…³é—­ã€‚ç¨‹åºä¸­ç»å¸¸ä¼šè¿›è¡ŒæŸ¥è¯¢æ•°æ®åº“çš„æ“ä½œï¼Œä½†æ˜¯ç»å¸¸ä¼šæœ‰ä½¿ç”¨å®Œæ¯•Cursoråæ²¡æœ‰å…³é—­çš„æƒ…å†µã€‚å¦‚æœæˆ‘ä»¬çš„æŸ¥è¯¢ç»“æœé›†æ¯”è¾ƒå°ï¼Œå¯¹å†…å­˜çš„æ¶ˆè€—ä¸å®¹æ˜“è¢«å‘ç°ï¼Œåªæœ‰åœ¨å¸¸æ—¶é—´å¤§é‡æ“ä½œçš„æƒ…å†µä¸‹æ‰ä¼šå¤ç°å†…å­˜é—®é¢˜ï¼Œè¿™æ ·å°±ä¼šç»™ä»¥åçš„æµ‹è¯•å’Œé—®é¢˜æ’æŸ¥å¸¦æ¥å›°éš¾å’Œé£é™©ï¼Œè®°å¾—try catchåï¼Œåœ¨finallyæ–¹æ³•ä¸­å…³é—­è¿æ¥</p></li><li><p>Handlerå†…å­˜æ³„æ¼  Handlerä½œä¸ºå†…éƒ¨ç±»å­˜åœ¨äºActivityä¸­ï¼Œä½†æ˜¯Handlerç”Ÿå‘½å‘¨æœŸä¸Activityç”Ÿå‘½å‘¨æœŸå¾€å¾€å¹¶ä¸æ˜¯ç›¸åŒçš„ï¼Œæ¯”å¦‚å½“Handlerå¯¹è±¡æœ‰Messageåœ¨æ’é˜Ÿï¼Œåˆ™æ— æ³•é‡Šæ”¾ï¼Œè¿›è€Œå¯¼è‡´æœ¬è¯¥é‡Šæ”¾çš„Acitivityä¹Ÿæ²¡æœ‰åŠæ³•è¿›è¡Œå›æ”¶ã€‚ è§£å†³åŠæ³•ï¼š</p></li><li><p>å£°æ˜handlerä¸ºstaticç±»ï¼Œè¿™æ ·å†…éƒ¨ç±»å°±ä¸å†æŒæœ‰å¤–éƒ¨ç±»çš„å¼•ç”¨äº†ï¼Œå°±ä¸ä¼šé˜»å¡Activityçš„é‡Šæ”¾</p></li><li><p>å¦‚æœå†…éƒ¨ç±»å®åœ¨éœ€è¦ç”¨åˆ°å¤–éƒ¨ç±»çš„å¯¹è±¡ï¼Œå¯åœ¨å…¶å†…éƒ¨å£°æ˜ä¸€ä¸ªå¼±å¼•ç”¨å¼•ç”¨å¤–éƒ¨ç±»ã€‚</p></li></ul> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> public class MainActivity extends Activity &#123;</span><br><span class="line">  private CustomHandler mHandler;</span><br><span class="line"></span><br><span class="line">  @Override</span><br><span class="line">  protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">      super.onCreate(savedInstanceState);</span><br><span class="line">      mHandler = new CustomHandler(this);</span><br><span class="line">  &#125;</span><br><span class="line">  static class CustomHandlerextends Handler &#123;</span><br><span class="line">     // å†…éƒ¨å£°æ˜ä¸€ä¸ªå¼±å¼•ç”¨ï¼Œå¼•ç”¨å¤–éƒ¨ç±»</span><br><span class="line">     private WeakReference&lt;MainActivity &gt; activityWeakReference;</span><br><span class="line">     public MyHandler(MyActivity activity) &#123;</span><br><span class="line">         activityWeakReference= new WeakReference&lt;MainActivity &gt;(activity);</span><br><span class="line">     &#125;</span><br><span class="line">             // ... ...   </span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åœ¨Activity onStopæˆ–è€…onDestroyçš„æ—¶å€™ï¼Œå–æ¶ˆæ‰è¯¥Handlerå¯¹è±¡çš„Messageå’ŒRunnable</li></ul>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Override</span><br><span class="line">public void onDestroy() &#123;</span><br><span class="line"> //  If null, all callbacks and messages will be removed.</span><br><span class="line"> mHandler.removeCallbacksAndMessages(null);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸€äº›ä¸è‰¯ä»£ç ä¹ æƒ¯ æœ‰äº›ä»£ç å¹¶ä¸é€ æˆå†…å­˜æ³„éœ²ï¼Œä½†æ˜¯ä»–ä»¬çš„èµ„æºæ²¡æœ‰å¾—åˆ°é‡ç”¨ï¼Œé¢‘ç¹çš„ç”³è¯·å†…å­˜å’Œé”€æ¯å†…å­˜ï¼Œæ¶ˆè€—CPUèµ„æºçš„åŒæ—¶ï¼Œä¹Ÿå¼•èµ·å†…å­˜æŠ–åŠ¨ è§£å†³æ–¹æ¡ˆ å¦‚æœéœ€è¦é¢‘ç¹çš„ç”³è¯·å†…å­˜å¯¹è±¡å’Œå’Œé‡Šæ”¾å¯¹è±¡ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¯¹è±¡æ± æ¥å¢åŠ å¯¹è±¡çš„å¤ç”¨ã€‚ ä¾‹å¦‚ListViewä¾¿æ˜¯é‡‡ç”¨è¿™ç§æ€æƒ³ï¼Œé€šè¿‡å¤ç”¨converviewæ¥é¿å…é¢‘ç¹çš„GC</li></ul><p>6.2 å¦‚ä½•é¿å… OOM é—®é¢˜çš„å‡ºç°</p><ol><li>ä½¿ç”¨æ›´åŠ è½»é‡çš„æ•°æ®ç»“æ„ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨ArrayMap/SparseArrayè€Œä¸æ˜¯HashMapç­‰ä¼ ç»Ÿæ•°æ®ç»“æ„ã€‚é€šå¸¸çš„HashMapçš„å®ç°æ–¹å¼æ›´åŠ æ¶ˆè€—å†…å­˜ï¼Œå› ä¸ºå®ƒéœ€è¦ä¸€ä¸ªé¢å¤–çš„å®ä¾‹å¯¹è±¡æ¥è®°å½•Mappingæ“ä½œã€‚å¦å¤–ï¼ŒSparseArrayæ›´åŠ é«˜æ•ˆï¼Œåœ¨äºä»–ä»¬é¿å…äº†å¯¹keyä¸valueçš„è‡ªåŠ¨è£…ç®±ï¼ˆautoboxingï¼‰ï¼Œå¹¶ä¸”é¿å…äº†è£…ç®±åçš„è§£ç®±ã€‚</li><li>é¿å…åœ¨Androidé‡Œé¢ä½¿ç”¨Enum Androidå®˜æ–¹åŸ¹è®­è¯¾ç¨‹æåˆ°è¿‡â€œEnums often require more than twice as muchmemory as static constants. You should strictly avoid using enums on Android.â€ï¼Œå…·ä½“åŸç†è¯·å‚è€ƒã€ŠAndroidæ€§èƒ½ä¼˜åŒ–å…¸èŒƒï¼ˆä¸‰ï¼‰ã€‹ï¼Œæ‰€ä»¥è¯·é¿å…åœ¨Androidé‡Œé¢ä½¿ç”¨åˆ°æšä¸¾ã€‚</li><li>å‡å°Bitmapå¯¹è±¡çš„å†…å­˜å ç”¨ Bitmapæ˜¯ä¸€ä¸ªæå®¹æ˜“æ¶ˆè€—å†…å­˜çš„å¤§èƒ–å­ï¼Œå‡å°åˆ›å»ºå‡ºæ¥çš„Bitmapçš„å†…å­˜å ç”¨å¯è°“æ˜¯é‡ä¸­ä¹‹é‡ï¼Œï¼Œé€šå¸¸æ¥è¯´æœ‰ä»¥ä¸‹2ä¸ªæªæ–½ï¼š inSampleSizeï¼šç¼©æ”¾æ¯”ä¾‹ï¼Œåœ¨æŠŠå›¾ç‰‡è½½å…¥å†…å­˜ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆè®¡ç®—å‡ºä¸€ä¸ªåˆé€‚çš„ç¼©æ”¾æ¯”ä¾‹ï¼Œé¿å…ä¸å¿…è¦çš„å¤§å›¾è½½å…¥ã€‚ decode formatï¼šè§£ç æ ¼å¼ï¼Œé€‰æ‹©ARGB_6666/RBG_545/ARGB_4444/ALPHA_6ï¼Œå­˜åœ¨å¾ˆå¤§å·®å¼‚</li><li>Bitmapå¯¹è±¡çš„å¤ç”¨ ç¼©å°Bitmapçš„åŒæ—¶ï¼Œä¹Ÿéœ€è¦æé«˜BitMapå¯¹è±¡çš„å¤ç”¨ç‡ï¼Œé¿å…é¢‘ç¹åˆ›å»ºBitMapå¯¹è±¡ï¼Œå¤ç”¨çš„æ–¹æ³•æœ‰ä»¥ä¸‹2ä¸ªæªæ–½ LRUCache :â€œæœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•â€åœ¨Androidä¸­æœ‰æå…¶æ™®éçš„åº”ç”¨ã€‚ListViewä¸GridViewç­‰æ˜¾ç¤ºå¤§é‡å›¾ç‰‡çš„æ§ä»¶é‡Œï¼Œå°±æ˜¯ä½¿ç”¨LRUçš„æœºåˆ¶æ¥ç¼“å­˜å¤„ç†å¥½çš„Bitmapï¼ŒæŠŠè¿‘æœŸæœ€å°‘ä½¿ç”¨çš„æ•°æ®ä»ç¼“å­˜ä¸­ç§»é™¤ï¼Œä¿ç•™ä½¿ç”¨æœ€é¢‘ç¹çš„æ•°æ®ï¼Œ inBitMapé«˜çº§ç‰¹æ€§:åˆ©ç”¨inBitmapçš„é«˜çº§ç‰¹æ€§æé«˜Androidç³»ç»Ÿåœ¨Bitmapåˆ†é…ä¸é‡Šæ”¾æ‰§è¡Œæ•ˆç‡ã€‚ä½¿ç”¨inBitmapå±æ€§å¯ä»¥å‘ŠçŸ¥Bitmapè§£ç å™¨å»å°è¯•ä½¿ç”¨å·²ç»å­˜åœ¨çš„å†…å­˜åŒºåŸŸï¼Œæ–°è§£ç çš„Bitmapä¼šå°è¯•å»ä½¿ç”¨ä¹‹å‰é‚£å¼ Bitmapåœ¨Heapä¸­æ‰€å æ®çš„pixel dataå†…å­˜åŒºåŸŸï¼Œè€Œä¸æ˜¯å»é—®å†…å­˜é‡æ–°ç”³è¯·ä¸€å—åŒºåŸŸæ¥å­˜æ”¾Bitmapã€‚åˆ©ç”¨è¿™ç§ç‰¹æ€§ï¼Œå³ä½¿æ˜¯ä¸Šåƒå¼ çš„å›¾ç‰‡ï¼Œä¹Ÿåªä¼šä»…ä»…åªéœ€è¦å ç”¨å±å¹•æ‰€èƒ½å¤Ÿæ˜¾ç¤ºçš„å›¾ç‰‡æ•°é‡çš„å†…å­˜å¤§å°</li><li>ä½¿ç”¨æ›´å°çš„å›¾ç‰‡ åœ¨æ¶‰åŠç»™åˆ°èµ„æºå›¾ç‰‡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç‰¹åˆ«ç•™æ„è¿™å¼ å›¾ç‰‡æ˜¯å¦å­˜åœ¨å¯ä»¥å‹ç¼©çš„ç©ºé—´ï¼Œæ˜¯å¦å¯ä»¥ä½¿ç”¨æ›´å°çš„å›¾ç‰‡ã€‚å°½é‡ä½¿ç”¨æ›´å°çš„å›¾ç‰‡ä¸ä»…å¯ä»¥å‡å°‘å†…å­˜çš„ä½¿ç”¨ï¼Œè¿˜èƒ½é¿å…å‡ºç°å¤§é‡çš„InflationExceptionã€‚å‡è®¾æœ‰ä¸€å¼ å¾ˆå¤§çš„å›¾ç‰‡è¢«XMLæ–‡ä»¶ç›´æ¥å¼•ç”¨ï¼Œå¾ˆæœ‰å¯èƒ½åœ¨åˆå§‹åŒ–è§†å›¾æ—¶ä¼šå› ä¸ºå†…å­˜ä¸è¶³è€Œå‘ç”ŸInflationExceptionï¼Œè¿™ä¸ªé—®é¢˜çš„æ ¹æœ¬åŸå› å…¶å®æ˜¯å‘ç”Ÿäº†OOMã€‚</li><li>StringBuilder åœ¨æœ‰äº›æ—¶å€™ï¼Œä»£ç ä¸­ä¼šéœ€è¦ä½¿ç”¨åˆ°å¤§é‡çš„å­—ç¬¦ä¸²æ‹¼æ¥çš„æ“ä½œï¼Œè¿™ç§æ—¶å€™æœ‰å¿…è¦è€ƒè™‘ä½¿ç”¨StringBuilderæ¥æ›¿ä»£é¢‘ç¹çš„â€œ+â€ã€‚</li><li>é¿å…åœ¨onDrawæ–¹æ³•é‡Œé¢æ‰§è¡Œå¯¹è±¡çš„åˆ›å»º ç±»ä¼¼onDrawç­‰é¢‘ç¹è°ƒç”¨çš„æ–¹æ³•ï¼Œä¸€å®šéœ€è¦æ³¨æ„é¿å…åœ¨è¿™é‡Œåšåˆ›å»ºå¯¹è±¡çš„æ“ä½œï¼Œå› ä¸ºä»–ä¼šè¿…é€Ÿå¢åŠ å†…å­˜çš„ä½¿ç”¨ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¼•èµ·é¢‘ç¹çš„gcï¼Œç”šè‡³æ˜¯å†…å­˜æŠ–åŠ¨ã€‚</li><li>é¿å…å¯¹è±¡çš„å†…å­˜æ³„éœ² androidä¸­å†…å­˜æ³„æ¼çš„åœºæ™¯ä»¥åŠè§£å†³åŠæ³•ï¼Œå‚è€ƒä¸Šä¸€é—®</li></ol><h6 id="7-anr-ç³»åˆ—é—®é¢˜"><a class="header-anchor" href="#7-anr-ç³»åˆ—é—®é¢˜">Â¶</a>7. ANR ç³»åˆ—é—®é¢˜</h6><p>7.1 ä»€ä¹ˆANR</p><p>ANRå…¨ç§°Application Not Respondingï¼Œæ„æ€å°±æ˜¯ç¨‹åºæœªå“åº”ã€‚å¦‚æœä¸€ä¸ªåº”ç”¨æ— æ³•å“åº”ç”¨æˆ·çš„è¾“å…¥ï¼Œç³»ç»Ÿå°±ä¼šå¼¹å‡ºä¸€ä¸ªANRå¯¹è¯æ¡†ï¼Œç”¨æˆ·å¯ä»¥è‡ªè¡Œé€‰æ‹©ç»§ç»­ç­‰å¾…äº¦æˆ–è€…æ˜¯åœæ­¢å½“å‰ç¨‹åºã€‚ä¸€æ—¦å‡ºç°ä¸‹é¢ä¸¤ç§æƒ…å†µï¼Œåˆ™å¼¹å‡ºANRå¯¹è¯æ¡†</p><ul><li>åº”ç”¨åœ¨5ç§’å†…æœªå“åº”ç”¨æˆ·çš„è¾“å…¥äº‹ä»¶ï¼ˆå¦‚æŒ‰é”®æˆ–è€…è§¦æ‘¸ï¼‰</li><li>BroadcastReceiveræœªåœ¨10ç§’å†…å®Œæˆç›¸å…³çš„å¤„ç†</li></ul><p>7.2 ANRæ˜¯æ€ä¹ˆå¼•èµ·çš„ï¼Ÿ</p><ul><li>ä¸»çº¿ç¨‹ä¸­å­˜åœ¨è€—æ—¶çš„è®¡ç®—-\</li><li>ä¸»çº¿ç¨‹è¢«IOæ“ä½œï¼ˆä»4.0ä¹‹åç½‘ç»œIOä¸å…è®¸åœ¨ä¸»çº¿ç¨‹ä¸­ï¼‰é˜»å¡ã€‚</li><li>ä¸»çº¿ç¨‹ä¸­é”™è¯¯çš„æ“ä½œï¼Œæ¯”å¦‚Thread.waitæˆ–è€…Thread.sleepç­‰</li></ul><p>7.3 å¦‚ä½•é¿å…ANRé—®é¢˜çš„å‡ºç°</p><p>åŸºæœ¬æ€è·¯å°±æ˜¯æŠŠä¸€äº›è€—æ—¶æ“ä½œæ”¾åˆ°å­çº¿ç¨‹ä¸­å¤„ç†</p><ul><li>ä½¿ç”¨AsyncTaskå¤„ç†è€—æ—¶IOæ“ä½œã€‚</li><li>é™ä½å­çº¿ç¨‹ä¼˜å…ˆçº§ä½¿ç”¨Threadæˆ–è€…HandlerThreadæ—¶ï¼Œè°ƒç”¨Process.setThreadPriority(Process.THREAD_PRIORITY_BACKGROUND)è®¾ç½®ä¼˜å…ˆçº§ï¼Œå¦åˆ™ä»ç„¶ä¼šé™ä½ç¨‹åºå“åº”ï¼Œå› ä¸ºé»˜è®¤Threadçš„ä¼˜å…ˆçº§å’Œä¸»çº¿ç¨‹ç›¸åŒ.</li><li>ä½¿ç”¨Handlerå¤„ç†å­çº¿ç¨‹ç»“æœï¼Œè€Œä¸æ˜¯ä½¿ç”¨Thread.wait()æˆ–è€…Thread.sleep()æ¥é˜»å¡ä¸»çº¿ç¨‹ã€‚</li><li>Activityçš„onCreateå’ŒonResumeå›è°ƒä¸­å°½é‡é¿å…è€—æ—¶çš„ä»£ç </li><li>BroadcastReceiverä¸­onReceiveä»£ç ä¹Ÿè¦å°½é‡å‡å°‘è€—æ—¶æ“ä½œå»ºè®®ä½¿ç”¨IntentServiceå¤„ç†ã€‚IntentServiceæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„ï¼Œä¼šè‡ªåŠ¨åœæ­¢çš„æœåŠ¡ï¼Œå¾ˆå¥½è§£å†³äº†ä¼ ç»Ÿçš„Serviceä¸­å¤„ç†å®Œè€—æ—¶æ“ä½œå¿˜è®°åœæ­¢å¹¶é”€æ¯Serviceçš„é—®é¢˜</li></ul><h6 id="8-asynctaské—®é¢˜"><a class="header-anchor" href="#8-asynctaské—®é¢˜">Â¶</a>8. Asynctaské—®é¢˜</h6><p>8.1 AsynTaskä¸ºä»€ä¹ˆè¦è®¾è®¡ä¸ºåªèƒ½å¤Ÿä¸€æ¬¡ä»»åŠ¡ï¼Ÿ</p><p>æœ€æ ¸å¿ƒçš„è¿˜æ˜¯çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå¤šä¸ªå­çº¿ç¨‹åŒæ—¶è¿è¡Œï¼Œä¼šäº§ç”ŸçŠ¶æ€ä¸ä¸€è‡´çš„é—®é¢˜ã€‚æ‰€ä»¥è¦åŠ¡å¿…ä¿è¯åªèƒ½å¤Ÿæ‰§è¡Œä¸€æ¬¡</p><p>8.2 AsynTaské€ æˆçš„å†…å­˜æ³„éœ²çš„é—®é¢˜æ€ä¹ˆè§£å†³ï¼Œã€‹æ¯”å¦‚éé™æ€å†…éƒ¨ç±»AsynTaskä¼šéšå¼åœ°æŒæœ‰å¤–éƒ¨ç±»çš„å¼•ç”¨ï¼Œå¦‚æœå…¶ç”Ÿå‘½å‘¨æœŸå¤§äºå¤–éƒ¨activityçš„ç”Ÿå‘½å‘¨æœŸï¼Œå°±ä¼šå‡ºç°å†…å­˜æ³„æ¼</p><ul><li>æ³¨æ„è¦å¤å†™AsynTaskçš„onCancelæ–¹æ³•ï¼ŒæŠŠé‡Œé¢çš„socketï¼Œfileç­‰ï¼Œè¯¥å…³æ‰çš„è¦åŠæ—¶å…³æ‰</li><li>åœ¨ Activity çš„onDestory()æ–¹æ³•ä¸­è°ƒç”¨Asyntask.cancalæ–¹æ³•</li><li>Asyntaskå†…éƒ¨ä½¿ç”¨å¼±å¼•ç”¨çš„æ–¹å¼æ¥æŒæœ‰Activity</li></ul><p>8.3 è‹¥Activityå·²ç»é”€æ¯ï¼Œæ­¤æ—¶AsynTaskæ‰§è¡Œå®Œå¹¶ä¸”è¿”å›ç»“æœï¼Œä¼šæŠ¥å¼‚å¸¸å—?</p><p>å½“ä¸€ä¸ªAppæ—‹è½¬æ—¶ï¼Œæ•´ä¸ªActivityä¼šè¢«é”€æ¯å’Œé‡å»ºã€‚å½“Activityé‡å¯æ—¶ï¼ŒAsyncTaskä¸­å¯¹è¯¥Activityçš„å¼•ç”¨æ˜¯æ— æ•ˆçš„ï¼Œå› æ­¤onPostExecute()å°±ä¸ä¼šèµ·ä½œç”¨ï¼Œè‹¥AsynTaskæ­£åœ¨æ‰§è¡Œï¼ŒæŠ˜ä¼šæŠ¥ view not attached to window manager å¼‚å¸¸</p><p>åŒæ ·ä¹Ÿæ˜¯ç”Ÿå‘½å‘¨æœŸçš„é—®é¢˜ï¼Œåœ¨ Activity çš„onDestory()æ–¹æ³•ä¸­è°ƒç”¨Asyntask.cancalæ–¹æ³•ï¼Œè®©äºŒè€…çš„ç”Ÿå‘½å‘¨æœŸåŒæ­¥</p><p>8.4 Activityé”€æ¯ä½†Taskå¦‚æœæ²¡æœ‰é”€æ¯æ‰ï¼Œå½“Activityé‡å¯æ—¶è¿™ä¸ªAsyncTaskè¯¥å¦‚ä½•è§£å†³ï¼Ÿ</p><p>è¿˜æ˜¯å±å¹•æ—‹è½¬è¿™ä¸ªä¾‹å­ï¼Œåœ¨é‡å»ºActivityçš„æ—¶å€™ï¼Œä¼šå›æ‰Activity.onRetainNonConfigurationInstance()é‡æ–°ä¼ é€’ä¸€ä¸ªæ–°çš„å¯¹è±¡ç»™AsyncTaskï¼Œå®Œæˆå¼•ç”¨çš„æ›´æ–°</p><h6 id="9-androidè§¦æ‘¸åˆ†å‘æœºåˆ¶"><a class="header-anchor" href="#9-androidè§¦æ‘¸åˆ†å‘æœºåˆ¶">Â¶</a>9. Androidè§¦æ‘¸åˆ†å‘æœºåˆ¶</h6><p>9.1 ä»‹ç»è§¦æ‘¸äº‹ä»¶çš„åˆ†å‘æœºåˆ¶</p><p><img src="../images/touch.jpg" alt="touch"></p><p>(1) äº‹ä»¶ä»Activity.dispatchTouchEvent()å¼€å§‹ä¼ é€’ï¼Œåªè¦æ²¡æœ‰è¢«åœæ­¢æˆ–æ‹¦æˆªï¼Œä»æœ€ä¸Šå±‚çš„View(ViewGroup)å¼€å§‹ä¸€ç›´å¾€ä¸‹(å­View)ä¼ é€’ã€‚å­Viewå¯ä»¥é€šè¿‡onTouchEvent()å¯¹äº‹ä»¶è¿›è¡Œå¤„ç†ã€‚</p><p>(2) äº‹ä»¶ç”±çˆ¶View(ViewGroup)ä¼ é€’ç»™å­Viewï¼ŒViewGroupå¯ä»¥é€šè¿‡onInterceptTouchEvent()å¯¹äº‹ä»¶åšæ‹¦æˆªï¼Œåœæ­¢å…¶å¾€ä¸‹ä¼ é€’ã€‚</p><p>(3) å¦‚æœäº‹ä»¶ä»ä¸Šå¾€ä¸‹ä¼ é€’è¿‡ç¨‹ä¸­ä¸€ç›´æ²¡æœ‰è¢«åœæ­¢ï¼Œä¸”æœ€åº•å±‚å­Viewæ²¡æœ‰æ¶ˆè´¹äº‹ä»¶ï¼Œäº‹ä»¶ä¼šåå‘å¾€ä¸Šä¼ é€’ï¼Œè¿™æ—¶çˆ¶View(ViewGroup)å¯ä»¥è¿›è¡Œæ¶ˆè´¹ï¼Œå¦‚æœè¿˜æ˜¯æ²¡æœ‰è¢«æ¶ˆè´¹çš„è¯ï¼Œæœ€åä¼šåˆ°Activityçš„onTouchEvent()å‡½æ•°ã€‚</p><p>(4) å¦‚æœViewæ²¡æœ‰å¯¹ACTION_DOWNè¿›è¡Œæ¶ˆè´¹ï¼Œä¹‹åçš„å…¶ä»–äº‹ä»¶ä¸ä¼šä¼ é€’è¿‡æ¥ã€‚</p><p>(5) OnTouchListenerä¼˜å…ˆäºonTouchEvent()å¯¹äº‹ä»¶è¿›è¡Œæ¶ˆè´¹ã€‚</p><p>ä¸Šé¢çš„æ¶ˆè´¹å³è¡¨ç¤ºç›¸åº”å‡½æ•°è¿”å›å€¼ä¸ºtrueã€‚</p><p>9.2 Viewä¸­ setOnTouchListenerçš„onTouchï¼ŒonTouchEventï¼ŒonClickçš„æ‰§è¡Œé¡ºåº</p><p>è¿½æº¯åˆ°Viewçš„dispatchTouchEventæºç æŸ¥çœ‹ï¼Œæœ‰è¿™ä¹ˆä¸€æ®µä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public boolean dispatchTouchEvent(MotionEvent event) &#123;  </span><br><span class="line">        if (!onFilterTouchEventForSecurity(event)) &#123;  </span><br><span class="line">            return false;  </span><br><span class="line">        &#125;  </span><br><span class="line"></span><br><span class="line">        if (mOnTouchListener != null &amp;&amp; (mViewFlags &amp; ENABLED_MASK) == ENABLED &amp;&amp;  mOnTouchListener.onTouch(this, event)) &#123;  </span><br><span class="line">            return true;  </span><br><span class="line">        &#125;  </span><br><span class="line">        return onTouchEvent(event);  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å½“ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ä»»æ„ä¸€ä¸ªä¸æˆç«‹æ—¶ï¼Œ</p><ul><li>mOnTouchListenerä¸ä¸ºnull</li><li>viewæ˜¯enableçš„çŠ¶æ€</li><li>mOnTouchListener.onTouch(this, event)è¿”å›trueï¼Œ</li></ul><p>å‡½æ•°ä¼šæ‰§è¡Œåˆ°onTouchEventã€‚åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé¦–å…ˆæ‰§è¡Œçš„æ˜¯mOnTouchListener.onTouchçš„æ–¹æ³•ï¼Œç„¶åæ˜¯onTouchEventæ–¹æ³•</p><p>ç»§ç»­è¿½æº¯æºç ï¼Œåˆ°onTouchEvent()è§‚å¯Ÿï¼Œå‘ç°åœ¨å¤„ç†ACTION_UPäº‹ä»¶é‡Œæœ‰è¿™ä¹ˆä¸€æ®µä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (!post(mPerformClick)) &#123;  </span><br><span class="line">                                    performClick();  </span><br><span class="line">                                &#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¯çŸ¥ï¼ŒonClickæ–¹æ³•ä¹Ÿåœ¨æœ€åå¾—åˆ°äº†æ‰§è¡Œ</p><p>æ‰€ä»¥ä¸‰è€…çš„é¡ºåºæ˜¯ï¼š</p><ol><li>setOnTouchListener() çš„onTouch</li><li>onTouchEvent()</li><li>onClick()</li></ol><h6 id="10-dalvikè™šæ‹Ÿæœºç³»åˆ—é—®é¢˜"><a class="header-anchor" href="#10-dalvikè™šæ‹Ÿæœºç³»åˆ—é—®é¢˜">Â¶</a>10. Dalvikè™šæ‹Ÿæœºç³»åˆ—é—®é¢˜</h6><p>10.1  ä»€ä¹ˆæ˜¯Dalvikè™šæ‹Ÿæœºï¼Ÿ</p><p>Dalvikè™šæ‹Ÿæœºæ˜¯Androidå¹³å°çš„æ ¸å¿ƒã€‚å®ƒå¯ä»¥æ”¯æŒ.dexæ ¼å¼çš„ç¨‹åºçš„è¿è¡Œï¼Œ.dexæ ¼å¼æ˜¯ä¸“ä¸ºDalvikè®¾è®¡çš„ä¸€ç§å‹ç¼©æ ¼å¼ï¼Œå¯ä»¥å‡å°‘æ•´ä½“æ–‡ä»¶å°ºå¯¸ï¼Œæé«˜I/Oæ“ä½œçš„é€Ÿåº¦ï¼Œé€‚åˆå†…å­˜å’Œå¤„ç†å™¨é€Ÿåº¦æœ‰é™çš„ç³»ç»Ÿã€‚</p><p>10.2  Dalvikè™šæ‹Ÿæœºçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>Dalvikè™šæ‹Ÿæœºä¸»è¦æ˜¯å®Œæˆå¯¹è±¡ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œå†…å­˜å›æ”¶ï¼Œå †æ ˆç®¡ç†ï¼Œçº¿ç¨‹ç®¡ç†ï¼Œå®‰å…¨å’Œå¼‚å¸¸ç®¡ç†ç­‰ç­‰é‡è¦åŠŸèƒ½ã€‚</p><p>10.3 Dalvikè™šæ‹Ÿæœºä¸JVMæœ‰ä»€ä¹ˆåŒºåˆ«</p><ul><li>Dalvik åŸºäºå¯„å­˜å™¨ï¼Œè€Œ JVM åŸºäºæ ˆã€‚åŸºäºå¯„å­˜å™¨çš„è™šæ‹Ÿæœºå¯¹äºæ›´å¤§çš„ç¨‹åºæ¥è¯´ï¼Œåœ¨å®ƒä»¬ç¼–è¯‘çš„æ—¶å€™ï¼ŒèŠ±è´¹çš„æ—¶é—´æ›´çŸ­ã€‚</li><li>Dalvikæ‰§è¡Œ.dexæ ¼å¼çš„å­—èŠ‚ç ï¼Œè€ŒJVMæ‰§è¡Œ.classæ ¼å¼çš„å­—èŠ‚ç ã€‚</li></ul><p>10.4 æ¯ä¸ªåº”ç”¨ç¨‹åºå¯¹åº”å¤šå°‘ä¸ªDalvikè™šæ‹Ÿæœº</p><ul><li>æ¯ä¸€ä¸ªAndroidåº”ç”¨åœ¨åº•å±‚éƒ½ä¼šå¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„Dalvikè™šæ‹Ÿæœºå®ä¾‹ï¼Œå…¶ä»£ç åœ¨è™šæ‹Ÿæœºçš„è§£é‡Šä¸‹å¾—ä»¥æ‰§è¡Œ ï¼Œè€Œæ‰€æœ‰çš„Androidåº”ç”¨çš„çº¿ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªLinuxçº¿ç¨‹</li></ul><h6 id="11-æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨æœ‰å“ªå‡ ç§æ–¹å¼-æœ‰ä»€ä¹ˆåŒºåˆ«"><a class="header-anchor" href="#11-æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨æœ‰å“ªå‡ ç§æ–¹å¼-æœ‰ä»€ä¹ˆåŒºåˆ«">Â¶</a>11.æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨æœ‰å“ªå‡ ç§æ–¹å¼,æœ‰ä»€ä¹ˆåŒºåˆ«</h6><ul><li>é™æ€æ³¨å†Œï¼šåœ¨AndroidManifest.xmlæ–‡ä»¶ä¸­è¿›è¡Œæ³¨å†Œï¼Œå½“Appé€€å‡ºåï¼ŒReceiverä»ç„¶å¯ä»¥æ¥æ”¶åˆ°å¹¿æ’­å¹¶ä¸”è¿›è¡Œç›¸åº”çš„å¤„ç†</li><li>åŠ¨æ€æ³¨å†Œï¼šåœ¨ä»£ç ä¸­åŠ¨æ€æ³¨å†Œï¼Œå½“Appé€€å‡ºåï¼Œä¹Ÿå°±æ²¡åŠæ³•å†æ¥å—å¹¿æ’­äº†</li></ul><h6 id="12-æ˜¾ç¤ºintentä¸éšå¼intentçš„åŒºåˆ«"><a class="header-anchor" href="#12-æ˜¾ç¤ºintentä¸éšå¼intentçš„åŒºåˆ«">Â¶</a>12. æ˜¾ç¤ºIntentä¸éšå¼Intentçš„åŒºåˆ«</h6><p>å¯¹æ˜ç¡®æŒ‡å‡ºäº†ç›®æ ‡ç»„ä»¶åç§°çš„Intentï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ˜¾å¼Intentâ€ã€‚ å¯¹äºæ²¡æœ‰æ˜ç¡®æŒ‡å‡ºç›®æ ‡ç»„ä»¶åç§°çš„Intentï¼Œåˆ™ç§°ä¹‹ä¸ºâ€œéšå¼ Intentâ€ã€‚</p><p>å¯¹äºéšå¼æ„å›¾ï¼Œåœ¨å®šä¹‰Activityæ—¶ï¼ŒæŒ‡å®šä¸€ä¸ªintent-filterï¼Œå½“ä¸€ä¸ªéšå¼æ„å›¾å¯¹è±¡è¢«ä¸€ä¸ªæ„å›¾è¿‡æ»¤å™¨è¿›è¡ŒåŒ¹é…æ—¶ï¼Œå°†æœ‰ä¸‰ä¸ªæ–¹é¢ä¼šè¢«å‚è€ƒåˆ°ï¼š</p><ul><li>åŠ¨ä½œ(Action)</li><li>ç±»åˆ«(Category ['kÃ¦tÉªg(É™)rÉª] )</li><li>æ•°æ®(Data )</li></ul><h6 id="13-androidä¸­çš„åŠ¨ç”»æœ‰å“ªäº›-åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a class="header-anchor" href="#13-androidä¸­çš„åŠ¨ç”»æœ‰å“ªäº›-åŒºåˆ«æ˜¯ä»€ä¹ˆ">Â¶</a>13. Androidä¸­çš„åŠ¨ç”»æœ‰å“ªäº›ï¼ŒåŒºåˆ«æ˜¯ä»€ä¹ˆ</h6><ul><li>é€å¸§åŠ¨ç”»(Drawable Animation)ï¼šåŠ è½½ä¸€ç³»åˆ—Drawableèµ„æºæ¥åˆ›å»ºåŠ¨ç”»ï¼Œç®€å•æ¥è¯´å°±æ˜¯æ’­æ”¾ä¸€ç³»åˆ—çš„å›¾ç‰‡æ¥å®ç°åŠ¨ç”»æ•ˆæœï¼Œå¯ä»¥è‡ªå®šä¹‰æ¯å¼ å›¾ç‰‡çš„æŒç»­æ—¶é—´</li><li>è¡¥é—´åŠ¨ç”»(Tween Animation)ï¼šTweenå¯ä»¥å¯¹Viewå¯¹è±¡å®ç°ä¸€ç³»åˆ—ç®€å•çš„åŠ¨ç”»æ•ˆæœï¼Œæ¯”å¦‚ä½ç§»ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬ï¼Œé€æ˜åº¦ç­‰ç­‰ã€‚ä½†æ˜¯å®ƒå¹¶ä¸ä¼šæ”¹å˜Viewå±æ€§çš„å€¼ï¼Œåªæ˜¯æ”¹å˜äº†Viewçš„ç»˜åˆ¶çš„ä½ç½®ï¼Œæ¯”å¦‚ï¼Œä¸€ä¸ªæŒ‰é’®åœ¨åŠ¨ç”»è¿‡åï¼Œä¸åœ¨åŸæ¥çš„ä½ç½®ï¼Œä½†æ˜¯è§¦å‘ç‚¹å‡»äº‹ä»¶çš„ä»ç„¶æ˜¯åŸæ¥çš„åæ ‡ã€‚</li><li>å±æ€§åŠ¨ç”»(Property Animation)ï¼š åŠ¨ç”»çš„å¯¹è±¡é™¤äº†ä¼ ç»Ÿçš„Viewå¯¹è±¡ï¼Œè¿˜å¯ä»¥æ˜¯Objectå¯¹è±¡ï¼ŒåŠ¨ç”»ç»“æŸåï¼ŒObjectå¯¹è±¡çš„å±æ€§å€¼è¢«å®å®åœ¨åœ¨çš„æ”¹å˜äº†</li></ul><h6 id="14-ä¸ä½¿ç”¨åŠ¨ç”»-æ€ä¹ˆå®ç°ä¸€ä¸ªåŠ¨æ€çš„-viewï¼Ÿ"><a class="header-anchor" href="#14-ä¸ä½¿ç”¨åŠ¨ç”»-æ€ä¹ˆå®ç°ä¸€ä¸ªåŠ¨æ€çš„-viewï¼Ÿ">Â¶</a>14. ä¸ä½¿ç”¨åŠ¨ç”»ï¼Œæ€ä¹ˆå®ç°ä¸€ä¸ªåŠ¨æ€çš„ Viewï¼Ÿ</h6><h6 id="15-postvalidataä¸validataæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a class="header-anchor" href="#15-postvalidataä¸validataæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ">Â¶</a>15. Postvalidataä¸Validataæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h6><h6 id="16-å¦‚ä½•è‡ªå®šä¹‰viewgroupï¼Ÿ"><a class="header-anchor" href="#16-å¦‚ä½•è‡ªå®šä¹‰viewgroupï¼Ÿ">Â¶</a>16. å¦‚ä½•è‡ªå®šä¹‰ViewGroupï¼Ÿ</h6><h6 id="17-viewçš„ç»˜åˆ¶æµç¨‹"><a class="header-anchor" href="#17-viewçš„ç»˜åˆ¶æµç¨‹">Â¶</a>17. Viewçš„ç»˜åˆ¶æµç¨‹</h6><p><img src="../images/view.png" alt="view"><br><br>measure()æ–¹æ³•ï¼Œlayout()ï¼Œdraw()ä¸‰ä¸ªæ–¹æ³•ä¸»è¦å­˜æ”¾äº†ä¸€äº›æ ‡è¯†ç¬¦ï¼Œæ¥åˆ¤æ–­æ¯ä¸ªViewæ˜¯å¦éœ€è¦å†é‡æ–°æµ‹é‡ï¼Œå¸ƒå±€æˆ–è€…ç»˜åˆ¶ï¼Œä¸»è¦çš„ç»˜åˆ¶è¿‡ç¨‹è¿˜æ˜¯åœ¨onMeasureï¼ŒonLayoutï¼ŒonDrawè¿™ä¸ªä¸‰ä¸ªæ–¹æ³•ä¸­</p><ol><li>onMesarue() ä¸ºæ•´ä¸ªViewæ ‘è®¡ç®—å®é™…çš„å¤§å°ï¼Œå³è®¾ç½®å®é™…çš„é«˜(å¯¹åº”å±æ€§:mMeasuredHeight)å’Œå®½(å¯¹åº”å±æ€§: mMeasureWidth)ï¼Œæ¯ä¸ªViewçš„æ§ä»¶çš„å®é™…å®½é«˜éƒ½æ˜¯ç”±çˆ¶è§†å›¾å’Œæœ¬èº«è§†å›¾å†³å®šçš„ã€‚</li><li>onLayout() ä¸ºå°†æ•´ä¸ªæ ¹æ®å­è§†å›¾çš„å¤§å°ä»¥åŠå¸ƒå±€å‚æ•°å°†Viewæ ‘æ”¾åˆ°åˆé€‚çš„ä½ç½®ä¸Šã€‚</li><li>onDraw() å¼€å§‹ç»˜åˆ¶å›¾åƒï¼Œç»˜åˆ¶çš„æµç¨‹å¦‚ä¸‹<ol><li>é¦–å…ˆç»˜åˆ¶è¯¥Viewçš„èƒŒæ™¯</li><li>è°ƒç”¨onDraw()æ–¹æ³•ç»˜åˆ¶è§†å›¾æœ¬èº« (æ¯ä¸ªViewéƒ½éœ€è¦é‡è½½è¯¥æ–¹æ³•ï¼ŒViewGroupä¸éœ€è¦å®ç°è¯¥æ–¹æ³•)</li><li>å¦‚æœè¯¥Viewæ˜¯ViewGroupï¼Œè°ƒç”¨dispatchDraw ()æ–¹æ³•ç»˜åˆ¶å­è§†å›¾</li><li>ç»˜åˆ¶æ»šåŠ¨æ¡</li></ol></li></ol><h6 id="18-æ•°æ®æŒä¹…åŒ–çš„å››ç§æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"><a class="header-anchor" href="#18-æ•°æ®æŒä¹…åŒ–çš„å››ç§æ–¹å¼æœ‰å“ªäº›ï¼Ÿ">Â¶</a>18. æ•°æ®æŒä¹…åŒ–çš„å››ç§æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h6><ol><li>æ–‡ä»¶å­˜å‚¨ï¼š é€šè¿‡java.io.FileInputStreamå’Œjava.io.FileOutputStreamè¿™ä¸¤ä¸ªç±»æ¥å®ç°å¯¹æ–‡ä»¶çš„è¯»å†™ï¼Œjava.io.Fileç±»åˆ™ç”¨æ¥æ„é€ ä¸€ä¸ªå…·ä½“æŒ‡å‘æŸä¸ªæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹çš„å¯¹è±¡ã€‚</li><li>SharedPreferencesï¼š SharedPreferencesæ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®å­˜å‚¨æœºåˆ¶ï¼Œä»–å°†ä¸€äº›ç®€å•çš„æ•°æ®ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬booleanç±»å‹ï¼Œintç±»å‹ï¼Œfloatç±»å‹ï¼Œlongç±»å‹ä»¥åŠStringç±»å‹çš„æ•°æ®ï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨åœ¨åº”ç”¨ç¨‹åºçš„ç§æœ‰Preferencesç›®å½•ï¼ˆ/data/data/&lt;åŒ…å&gt;/shared_prefs/ï¼‰ä¸­ï¼Œè¿™ç§Preferencesæœºåˆ¶å¹¿æ³›åº”ç”¨äºå­˜å‚¨åº”ç”¨ç¨‹åºä¸­çš„é…ç½®ä¿¡æ¯ã€‚</li><li>SQLiteæ•°æ®åº“ï¼š å½“åº”ç”¨ç¨‹åºéœ€è¦å¤„ç†çš„æ•°æ®é‡æ¯”è¾ƒå¤§æ—¶ï¼Œä¸ºäº†æ›´åŠ åˆç†åœ°å­˜å‚¨ã€ç®¡ç†ã€æŸ¥è¯¢æ•°æ®ï¼Œæˆ‘ä»¬å¾€å¾€ä½¿ç”¨å…³ç³»æ•°æ®åº“æ¥å­˜å‚¨æ•°æ®ã€‚Androidç³»ç»Ÿçš„å¾ˆå¤šç”¨æˆ·æ•°æ®ï¼Œå¦‚è”ç³»äººä¿¡æ¯ï¼Œé€šè¯è®°å½•ï¼ŒçŸ­ä¿¡æ¯ç­‰ï¼Œéƒ½æ˜¯å­˜å‚¨åœ¨SQLiteæ•°æ®åº“å½“ä¸­çš„ï¼Œæ‰€ä»¥åˆ©ç”¨æ“ä½œSQLiteæ•°æ®åº“çš„APIå¯ä»¥åŒæ ·æ–¹ä¾¿çš„è®¿é—®å’Œä¿®æ”¹è¿™äº›æ•°æ®ã€‚</li><li>ContentProvider: ä¸»è¦ç”¨äºåœ¨ä¸åŒçš„åº”ç”¨ç¨‹åºä¹‹é—´å®ç°æ•°æ®å…±äº«çš„åŠŸèƒ½ï¼Œä¸åŒäºsharepreferenceå’Œæ–‡ä»¶å­˜å‚¨ä¸­çš„ä¸¤ç§å…¨å±€å¯è¯»å†™æ“ä½œæ¨¡å¼ï¼Œå†…å®¹æä¾›å…¶å¯ä»¥é€‰æ‹©åªå¯¹å“ªä¸€éƒ¨åˆ†æ•°æ®è¿›è¡Œå…±äº«ï¼Œä»è€Œä¿è¯æˆ‘ä»¬ç¨‹åºä¸­çš„éšç§æ•°æ®ä¸ä¼šæœ‰æ³„æ¼çš„é£é™©</li></ol><h6 id="19-fragementé‡Œé¢å¯ä»¥å†åµŒå¥—fragmentï¼Ÿ"><a class="header-anchor" href="#19-fragementé‡Œé¢å¯ä»¥å†åµŒå¥—fragmentï¼Ÿ">Â¶</a>19. fragementé‡Œé¢å¯ä»¥å†åµŒå¥—fragmentï¼Ÿ</h6><h6 id="20-sockerç¼–ç¨‹çš„æ­¥éª¤"><a class="header-anchor" href="#20-sockerç¼–ç¨‹çš„æ­¥éª¤">Â¶</a>20. Sockerç¼–ç¨‹çš„æ­¥éª¤</h6><h6 id="21-activityä¸­å¦‚ä½•åŠ¨æ€çš„æ·»åŠ fragment"><a class="header-anchor" href="#21-activityä¸­å¦‚ä½•åŠ¨æ€çš„æ·»åŠ fragment">Â¶</a>21. Activityä¸­å¦‚ä½•åŠ¨æ€çš„æ·»åŠ Fragment</h6><h6 id="22-scrollviewæ€ä¹ˆåˆ¤æ–­æ˜¯å¦æ»‘å€’åº•éƒ¨"><a class="header-anchor" href="#22-scrollviewæ€ä¹ˆåˆ¤æ–­æ˜¯å¦æ»‘å€’åº•éƒ¨">Â¶</a>22. Scrollviewæ€ä¹ˆåˆ¤æ–­æ˜¯å¦æ»‘å€’åº•éƒ¨</h6><h6 id="23-ä»€ä¹ˆæ˜¯-mvc-æ¨¡å¼ï¼Ÿmvc-æ¨¡å¼çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ"><a class="header-anchor" href="#23-ä»€ä¹ˆæ˜¯-mvc-æ¨¡å¼ï¼Ÿmvc-æ¨¡å¼çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ">Â¶</a>23. ä»€ä¹ˆæ˜¯ MVC æ¨¡å¼ï¼ŸMVC æ¨¡å¼çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ</h6><h6 id="24-åº”ç”¨å¸¸é©»åå°-é¿å…è¢«ç¬¬ä¸‰æ–¹æ€æ‰çš„æ–¹æ³•-è®²è®²ä½ ç”¨è¿‡çš„å¥‡æ·«å·§æŠ€ï¼Ÿ"><a class="header-anchor" href="#24-åº”ç”¨å¸¸é©»åå°-é¿å…è¢«ç¬¬ä¸‰æ–¹æ€æ‰çš„æ–¹æ³•-è®²è®²ä½ ç”¨è¿‡çš„å¥‡æ·«å·§æŠ€ï¼Ÿ">Â¶</a>24. åº”ç”¨å¸¸é©»åå°ï¼Œé¿å…è¢«ç¬¬ä¸‰æ–¹æ€æ‰çš„æ–¹æ³•ï¼Œè®²è®²ä½ ç”¨è¿‡çš„å¥‡æ·«å·§æŠ€ï¼Ÿ</h6><ol><li><p>Serviceè®¾ç½®æˆSTART_STICKY kill åä¼šè¢«é‡å¯ï¼ˆç­‰å¾…5ç§’å·¦å³ï¼‰ï¼Œé‡ä¼ Intentï¼Œä¿æŒä¸é‡å¯å‰ä¸€æ ·</p></li><li><p>é€šè¿‡ startForegroundå°†è¿›ç¨‹è®¾ç½®ä¸ºå‰å°è¿›ç¨‹ï¼Œ åšå‰å°æœåŠ¡ï¼Œä¼˜å…ˆçº§å’Œå‰å°åº”ç”¨ä¸€ä¸ªçº§åˆ«â€‹ï¼Œé™¤éåœ¨ç³»ç»Ÿå†…å­˜éå¸¸ç¼ºï¼Œå¦åˆ™æ­¤è¿›ç¨‹ä¸ä¼šè¢« kill</p></li><li><p>åŒè¿›ç¨‹Serviceï¼š è®©2ä¸ªè¿›ç¨‹äº’ç›¸ä¿æŠ¤**ï¼Œå…¶ä¸­ä¸€ä¸ªServiceè¢«æ¸…ç†åï¼Œå¦å¤–æ²¡è¢«æ¸…ç†çš„è¿›ç¨‹å¯ä»¥ç«‹å³é‡å¯è¿›ç¨‹</p></li><li><p>QQé»‘ç§‘æŠ€: åœ¨åº”ç”¨é€€åˆ°åå°åï¼Œå¦èµ·ä¸€ä¸ªåªæœ‰ 1 åƒç´ çš„é¡µé¢åœç•™åœ¨æ¡Œé¢ä¸Šï¼Œè®©è‡ªå·±ä¿æŒå‰å°çŠ¶æ€ï¼Œä¿æŠ¤è‡ªå·±ä¸è¢«åå°æ¸…ç†å·¥å…·æ€æ­»</p></li><li><p>åœ¨å·²ç»rootçš„è®¾å¤‡ä¸‹ï¼Œä¿®æ”¹ç›¸åº”çš„æƒé™æ–‡ä»¶,å°†Appä¼ªè£…æˆç³»ç»Ÿçº§çš„åº”ç”¨ Android4.0ç³»åˆ—çš„ä¸€ä¸ªæ¼æ´ï¼Œå·²ç»ç¡®è®¤å¯è¡Œ</p></li><li><p>ç”¨Cç¼–å†™å®ˆæŠ¤è¿›ç¨‹(å³å­è¿›ç¨‹) : Androidç³»ç»Ÿä¸­å½“å‰è¿›ç¨‹(Process)forkå‡ºæ¥çš„å­è¿›ç¨‹ï¼Œè¢«ç³»ç»Ÿè®¤ä¸ºæ˜¯ä¸¤ä¸ªä¸åŒçš„è¿›ç¨‹ã€‚å½“çˆ¶è¿›ç¨‹è¢«æ€æ­»çš„æ—¶å€™ï¼Œå­è¿›ç¨‹ä»ç„¶å¯ä»¥å­˜æ´»ï¼Œå¹¶ä¸å—å½±å“ã€‚é‰´äºç›®å‰æåˆ°çš„åœ¨Android-&gt;- Serviceå±‚åšåŒå®ˆæŠ¤éƒ½ä¼šå¤±è´¥ï¼Œæˆ‘ä»¬å¯ä»¥forkå‡ºcè¿›ç¨‹ï¼Œå¤šè¿›ç¨‹å®ˆæŠ¤ã€‚æ­»å¾ªç¯åœ¨é‚£æ£€æŸ¥æ˜¯å¦è¿˜å­˜åœ¨ï¼Œå…·ä½“çš„æ€è·¯å¦‚ä¸‹ï¼ˆAndroid5.0ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸å¯è¡Œï¼‰</p></li><li><p>ç”¨Cç¼–å†™å®ˆæŠ¤è¿›ç¨‹(å³å­è¿›ç¨‹)ï¼Œå®ˆæŠ¤è¿›ç¨‹åšçš„äº‹æƒ…å°±æ˜¯å¾ªç¯æ£€æŸ¥ç›®æ ‡è¿›ç¨‹æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™å¯åŠ¨å®ƒã€‚</p></li><li><p>åœ¨NDKç¯å¢ƒä¸­å°†1ä¸­ç¼–å†™çš„Cä»£ç ç¼–è¯‘æ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶(BUILD_EXECUTABLE)ã€‚ä¸»è¿›ç¨‹å¯åŠ¨æ—¶å°†å®ˆæŠ¤è¿›ç¨‹æ”¾å…¥ç§æœ‰ç›®å½•ä¸‹ï¼Œèµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼Œå¯åŠ¨å®ƒå³å¯ã€‚</p></li><li><p>è”ç³»å‚å•†ï¼ŒåŠ å…¥ç™½åå•</p></li></ol><h6 id="25-contextä¸applicationcontextçš„åŒºåˆ«-åˆ†åˆ«ç”¨åœ¨ä»€ä¹ˆæƒ…å†µä¸‹"><a class="header-anchor" href="#25-contextä¸applicationcontextçš„åŒºåˆ«-åˆ†åˆ«ç”¨åœ¨ä»€ä¹ˆæƒ…å†µä¸‹">Â¶</a>25.Contextä¸ApplicationContextçš„åŒºåˆ«ï¼Œåˆ†åˆ«ç”¨åœ¨ä»€ä¹ˆæƒ…å†µä¸‹</h6><p>Applicationçš„Contextæ˜¯ä¸€ä¸ªå…¨å±€é™æ€å˜é‡ï¼ŒSDKçš„è¯´æ˜æ˜¯åªæœ‰å½“ä½ å¼•ç”¨è¿™ä¸ªcontextçš„ç”Ÿå‘½å‘¨æœŸè¶…è¿‡äº†å½“å‰activityçš„ç”Ÿå‘½å‘¨æœŸï¼Œè€Œå’Œæ•´ä¸ªåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸæŒ‚é’©æ—¶ï¼Œæ‰å»ä½¿ç”¨è¿™ä¸ªapplicationçš„contextã€‚</p><p>åœ¨androidä¸­contextå¯ä»¥ä½œå¾ˆå¤šæ“ä½œï¼Œä½†æ˜¯æœ€ä¸»è¦çš„åŠŸèƒ½æ˜¯åŠ è½½å’Œè®¿é—®èµ„æºã€‚åœ¨androidä¸­æœ‰ä¸¤ç§contextï¼Œä¸€ç§æ˜¯ application contextï¼Œä¸€ç§æ˜¯activity contextï¼Œé€šå¸¸æˆ‘ä»¬åœ¨å„ç§ç±»å’Œæ–¹æ³•é—´ä¼ é€’çš„æ˜¯activity contextã€‚</p><h6 id="26-åŒä¸€ä¸ªåº”ç”¨ç¨‹åºçš„ä¸åŒactivityå¯ä»¥è¿è¡Œåœ¨ä¸åŒçš„è¿›ç¨‹ä¸­ä¹ˆï¼Ÿå¦‚æœå¯ä»¥-ä¸¾ä¾‹è¯´æ˜ï¼›"><a class="header-anchor" href="#26-åŒä¸€ä¸ªåº”ç”¨ç¨‹åºçš„ä¸åŒactivityå¯ä»¥è¿è¡Œåœ¨ä¸åŒçš„è¿›ç¨‹ä¸­ä¹ˆï¼Ÿå¦‚æœå¯ä»¥-ä¸¾ä¾‹è¯´æ˜ï¼›">Â¶</a>26. åŒä¸€ä¸ªåº”ç”¨ç¨‹åºçš„ä¸åŒActivityå¯ä»¥è¿è¡Œåœ¨ä¸åŒçš„è¿›ç¨‹ä¸­ä¹ˆï¼Ÿå¦‚æœå¯ä»¥ï¼Œä¸¾ä¾‹è¯´æ˜ï¼›</h6><h6 id="27-javaä¸­çš„çº¿ç¨‹åŒæ­¥æœ‰å“ªå‡ ç§æ–¹å¼-ä¸¾ä¾‹è¯´æ˜ï¼›"><a class="header-anchor" href="#27-javaä¸­çš„çº¿ç¨‹åŒæ­¥æœ‰å“ªå‡ ç§æ–¹å¼-ä¸¾ä¾‹è¯´æ˜ï¼›">Â¶</a>27. Javaä¸­çš„çº¿ç¨‹åŒæ­¥æœ‰å“ªå‡ ç§æ–¹å¼ï¼Œä¸¾ä¾‹è¯´æ˜ï¼›</h6><h6 id="28-dp-dip-dpi-px-spæ˜¯ä»€ä¹ˆæ„æ€ä»¥åŠä»–ä»¬çš„æ¢ç®—å…¬å¼ï¼Ÿlayout-sw400dp-layout-h400dpåˆ†åˆ«ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼›"><a class="header-anchor" href="#28-dp-dip-dpi-px-spæ˜¯ä»€ä¹ˆæ„æ€ä»¥åŠä»–ä»¬çš„æ¢ç®—å…¬å¼ï¼Ÿlayout-sw400dp-layout-h400dpåˆ†åˆ«ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼›">Â¶</a>28. dp, dip, dpi, px, spæ˜¯ä»€ä¹ˆæ„æ€ä»¥åŠä»–ä»¬çš„æ¢ç®—å…¬å¼ï¼Ÿlayout-sw400dp, layout-h400dpåˆ†åˆ«ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼›</h6><h6 id="29-å¦‚ä½•è®©ä¸¤ä¸ªtextviewåœ¨ä¸€ä¸ªrelativelayoutæ°´å¹³å±…ä¸­æ˜¾ç¤ºï¼›"><a class="header-anchor" href="#29-å¦‚ä½•è®©ä¸¤ä¸ªtextviewåœ¨ä¸€ä¸ªrelativelayoutæ°´å¹³å±…ä¸­æ˜¾ç¤ºï¼›">Â¶</a>29. å¦‚ä½•è®©ä¸¤ä¸ªTextViewåœ¨ä¸€ä¸ªRelativeLayoutæ°´å¹³å±…ä¸­æ˜¾ç¤ºï¼›</h6><h6 id="30-å¦‚ä½•ç”»å‡ºä¸€ä¸ªå°ç« çš„å›¾æ¡ˆ"><a class="header-anchor" href="#30-å¦‚ä½•ç”»å‡ºä¸€ä¸ªå°ç« çš„å›¾æ¡ˆ">Â¶</a>30. å¦‚ä½•ç”»å‡ºä¸€ä¸ªå°ç« çš„å›¾æ¡ˆ</h6><h6 id="31-å¦‚ä½•å®ç°ä¸€ä¸ªå­—ä½“çš„æè¾¹ä¸é˜´å½±æ•ˆæœ"><a class="header-anchor" href="#31-å¦‚ä½•å®ç°ä¸€ä¸ªå­—ä½“çš„æè¾¹ä¸é˜´å½±æ•ˆæœ">Â¶</a>31. å¦‚ä½•å®ç°ä¸€ä¸ªå­—ä½“çš„æè¾¹ä¸é˜´å½±æ•ˆæœ</h6><h6 id="32-è®¾è®¡ä¸€ä¸ªä»ç½‘ç»œè¯·æ±‚æ•°æ®-å›¾ç‰‡-å¹¶åŠ è½½åˆ°åˆ—è¡¨çš„ç³»ç»Ÿ-ç”»å‡ºå®¢æˆ·ç«¯æ¶æ„å¹¶ç®€å•çš„åˆ†æä¸‹ï¼›"><a class="header-anchor" href="#32-è®¾è®¡ä¸€ä¸ªä»ç½‘ç»œè¯·æ±‚æ•°æ®-å›¾ç‰‡-å¹¶åŠ è½½åˆ°åˆ—è¡¨çš„ç³»ç»Ÿ-ç”»å‡ºå®¢æˆ·ç«¯æ¶æ„å¹¶ç®€å•çš„åˆ†æä¸‹ï¼›">Â¶</a>32. è®¾è®¡ä¸€ä¸ªä»ç½‘ç»œè¯·æ±‚æ•°æ®ï¼Œå›¾ç‰‡ï¼Œå¹¶åŠ è½½åˆ°åˆ—è¡¨çš„ç³»ç»Ÿï¼Œç”»å‡ºå®¢æˆ·ç«¯æ¶æ„å¹¶ç®€å•çš„åˆ†æä¸‹ï¼›</h6><h6 id="33-è®¾è®¡ä¸€ä¸ªæ–‡ä»¶çš„æ–­ç‚¹ç»­ä¼ ç³»ç»Ÿ"><a class="header-anchor" href="#33-è®¾è®¡ä¸€ä¸ªæ–‡ä»¶çš„æ–­ç‚¹ç»­ä¼ ç³»ç»Ÿ">Â¶</a>33. è®¾è®¡ä¸€ä¸ªæ–‡ä»¶çš„æ–­ç‚¹ç»­ä¼ ç³»ç»Ÿ</h6><h6 id="34-è®¾è®¡ä¸€ä¸ªå›¾ç‰‡ç¼“å­˜åŠ è½½æœºåˆ¶"><a class="header-anchor" href="#34-è®¾è®¡ä¸€ä¸ªå›¾ç‰‡ç¼“å­˜åŠ è½½æœºåˆ¶">Â¶</a>34. è®¾è®¡ä¸€ä¸ªå›¾ç‰‡ç¼“å­˜åŠ è½½æœºåˆ¶</h6><p>æ•°æ®ç»“æ„ä¸ç®—æ³•éƒ¨åˆ†ï¼š</p><p>ä½œè€…ï¼šé—­å…³å†™ä»£ç <br>é“¾æ¥ï¼š<a href="https://www.nowcoder.com/discuss/3244" target="_blank" rel="noopener">https://www.nowcoder.com/discuss/3244</a><br>æ¥æºï¼šç‰›å®¢ç½‘</p><ol><li>ç»™æœ€å¤–å±‚çš„rootviewï¼ŒæŠŠè¿™ä¸ªæ ¹è§†å›¾ä¸‹çš„å…¨éƒ¨buttonèƒŒæ™¯è®¾ç½®æˆçº¢è‰²ï¼Œæ‰‹å†™ä»£ç ï¼Œä¸è®¸ç”¨é€’å½’</li><li>ç»™ä¸€ä¸²å­—ç¬¦ä¸²æ¯”å¦‚abbbcccdï¼Œè¾“å‡ºa1b3c3d1ï¼Œæ‰‹å†™ä»£ç ï¼ˆæ³¨æ„æœ‰ä¸ªåˆ«å­—ç¬¦å¯èƒ½ä¼šå‡ºç°åæ¬¡ä»¥ä¸Šçš„æƒ…å†µï¼‰</li><li>ä¸€ä¸ªåºåˆ—ï¼Œå®ƒçš„å½¢å¼æ˜¯12349678ï¼Œ9æ˜¯æœ€é«˜å³°ï¼Œç»å†äº†ä¸€ä¸ªä¸Šå‡åˆä¸‹é™çš„è¿‡ç¨‹ï¼Œæ‰¾å‡ºé‡Œé¢çš„æœ€å¤§å€¼çš„ä½ç½®ï¼Œè¦æ±‚æ•ˆç‡å°½å¯èƒ½é«˜</li><li>äºŒå‰æŸ¥æ‰¾æ ‘çš„åˆ é™¤æ“ä½œï¼Œæ‰‹å†™ä»£ç </li><li>åè½¬é“¾è¡¨ï¼Œæ‰‹å†™ä»£ç </li><li>äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰‹å†™ä»£ç </li><li>æœ‰æµ·é‡æ¡ urlï¼Œå…¶ä¸­ä¸é‡å¤çš„æœ‰300ä¸‡æ¡ï¼Œç°åœ¨å¸Œæœ›æŒ‘é€‰å‡ºé‡å¤å‡ºç°æ¬¡æ•°æœ€é«˜çš„ urlï¼Œè¦æ±‚æ•ˆç‡å°½å¯èƒ½çš„é«˜</li><li>ä¸€ç¯‡è‹±è¯­æ–‡ç« ï¼Œå»æ‰å­—ç¬¦åªç•™ä¸‹kä¸ªï¼Œå¦‚ä½•å»æ‰æ‰èƒ½ä½¿è¿™kä¸ªå­—ç¬¦å­—å…¸åºæœ€å°</li><li>å¼—æ´›ä¼Šå¾·ç®—æ³•å’Œ Dijkstraç®—æ³•çš„åŒºåˆ«ï¼Ÿå¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿè®²è®² Dijkstraç®—æ³•çš„å…·ä½“è¿‡ç¨‹</li><li>åè½¬å­—ç¬¦ä¸²ï¼Œè¦æ±‚æ‰‹å†™ä»£ç ï¼Œä¼˜åŒ–é€Ÿåº¦ã€ä¼˜åŒ–ç©ºé—´</li><li>ç»™å‡ºä¸¤ä¸ªæ— å‘å›¾ï¼Œæ‰¾å‡ºè¿™2ä¸ªæ— å‘å›¾ä¸­ç›¸åŒçš„ç¯è·¯ã€‚æ‰‹å†™ä»£ç </li><li>å•ä¾‹æ¨¡å¼ï¼Œæ‰‹å†™ä»£ç </li><li>ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…ï¼Œæ‰‹å†™ä»£ç </li><li>äºŒå‰æ ‘é•œåƒï¼Œæ‰‹å†™ä»£ç </li><li>æœ€é•¿ä¸é‡å¤å­ä¸²ï¼ˆæœ€é•¿é‡å¤å­ä¸²ï¼‰ï¼Œæ‰‹å†™ä»£ç </li></ol><p>æ“ä½œç³»ç»Ÿéƒ¨åˆ†:</p><ol><li>åˆ†åˆ«ä»æ“ä½œç³»ç»Ÿçš„å†…å­˜è§’åº¦ä¸è¿›ç¨‹çº¿ç¨‹è§’åº¦è§£é‡Šåˆ†æå †ï¼Œæ ˆäºŒè€…çš„åŒºåˆ«</li><li>ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼Ÿ</li><li>OSIä¸ƒå±‚æ¨¡å‹æœ‰å“ªäº›ï¼Œå„å±‚æ¬¡çš„ä½œç”¨</li><li>TCPçš„ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ï¼Œå››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡ï¼Ÿ</li><li>è¯´è¯´æ“ä½œç³»ç»Ÿä¸­è¿›ç¨‹çš„é€šä¿¡æ–¹å¼</li><li>æµè§ˆå™¨è¾“å…¥åœ°å€ä¹‹åï¼Œä¹‹åçš„è¿‡ç¨‹</li><li>è°ˆè°ˆ HTTP ä¸­Get å’Œ Post æ–¹æ³•çš„åŒºåˆ«ï¼Ÿ</li></ol>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> ç‰›å®¢ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Springå¸¸ç”¨æ³¨è§£</title>
      <link href="/2017/07/03/Spring%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/"/>
      <url>/2017/07/03/Spring%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/</url>
      <content type="html"><![CDATA[<h3 id="å¸¸ç”¨çš„æ˜¯æ³¨è§£æœ‰å¦‚ä¸‹å‡ ç§ï¼š"><a class="header-anchor" href="#å¸¸ç”¨çš„æ˜¯æ³¨è§£æœ‰å¦‚ä¸‹å‡ ç§ï¼š">Â¶</a>å¸¸ç”¨çš„æ˜¯æ³¨è§£æœ‰å¦‚ä¸‹å‡ ç§ï¼š</h3><p>@Controller<br><br>@Service<br><br>@Autowired<br><br>@RequestMapping<br><br>@RequestParam<br><br>@ModelAttribute<br></p><a id="more"></a><p>@Cacheable<br><br>@CacheFlush<br><br>@Resource<br><br>@PostConstruct<br><br>@PreDestroy<br><br>@Repository<br><br>@Component ï¼ˆä¸æ¨èä½¿ç”¨ï¼‰<br><br>@Scope<br><br>@SessionAttributes<br><br>@InitBinder<br><br>@Required<br><br>@Qualifier<br></p><h6 id="controller"><a class="header-anchor" href="#controller">Â¶</a>@Controller</h6><ul><li>ä¾‹å¦‚ï¼š@Controller<br><br>public class SoftCreateController extends SimpleBaseController {}</li><li>æˆ–è€…ï¼š@Controller<br><br>public class SoftCreateController extends SimpleBaseController {}</li><li>è¯´æ˜ï¼š @Controller<br><br>è´Ÿè´£æ³¨å†Œä¸€ä¸ªbean åˆ°spring ä¸Šä¸‹æ–‡ä¸­ï¼Œbean çš„ID é»˜è®¤ä¸ºç±»åç§°å¼€å¤´å­—æ¯å°å†™</li></ul><h6 id="service"><a class="header-anchor" href="#service">Â¶</a>@Service</h6><p>â€¢ ä¾‹å¦‚ï¼š<br>@Service<br><br>public class SoftCreateServiceImpl implements ISoftCreateService {}</p><p>â€¢ æˆ–è€…ï¼š<br><br>@Service(â€œsoftCreateServiceImplâ€)</p><p>â€¢ è¯´æ˜ï¼š<br><br>@Service è´Ÿè´£æ³¨å†Œä¸€ä¸ªbean åˆ°spring ä¸Šä¸‹æ–‡ä¸­ï¼Œbean çš„ID é»˜è®¤ä¸ºç±»åç§°å¼€å¤´å­—æ¯å°å†™</p><h6 id="autowired"><a class="header-anchor" href="#autowired">Â¶</a>@Autowired</h6><p>â€¢ ä¾‹å¦‚ï¼š<br>@Autowired<br>private ISoftPMService softPMService;</p><p>â€¢ æˆ–è€…ï¼š</p><p>@Autowired(required=false)<br>private ISoftPMService softPMService = new SoftPMServiceImpl();</p><p>â€¢ è¯´æ˜ï¼š</p><p>@Autowired æ ¹æ®bean ç±»å‹ä»spring ä¸Šçº¿æ–‡ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ³¨å†Œç±»å‹å¿…é¡»å”¯ä¸€ï¼Œå¦åˆ™æŠ¥å¼‚å¸¸ã€‚</p><p>ä¸@Resource çš„åŒºåˆ«åœ¨äºï¼Œ@Resource å…è®¸é€šè¿‡bean åç§°æˆ–bean ç±»å‹ä¸¤ç§<br>æ–¹å¼è¿›è¡ŒæŸ¥æ‰¾@Autowired(required=false) è¡¨ç¤ºï¼Œå¦‚æœspring ä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰æ‰¾åˆ°è¯¥ç±»å‹çš„bean æ—¶ï¼Œ æ‰ä¼šä½¿ç”¨new SoftPMServiceImpl();</p><p>ä¸@Resource çš„åŒºåˆ«åœ¨äºï¼Œ@Resource å…è®¸é€šè¿‡bean åç§°æˆ–bean ç±»å‹ä¸¤ç§æ–¹å¼è¿›è¡ŒæŸ¥æ‰¾@Autowired(required=false) è¡¨ç¤ºï¼Œå¦‚æœspring<br>ä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰æ‰¾åˆ°è¯¥ç±»å‹çš„bean æ—¶ï¼Œ æ‰ä¼šä½¿ç”¨new SoftPMServiceImpl();</p><p>@Autowired è¿˜æœ‰ä¸€ä¸ªä½œç”¨å°±æ˜¯ï¼Œå¦‚æœå°†å…¶æ ‡æ³¨åœ¨ BeanFactory ç±»å‹ã€ApplicationContext ç±»å‹ã€ResourceLoader ç±»å‹ã€<br>ApplicationEventPublisher ç±»å‹ã€MessageSource ç±»å‹ä¸Šï¼Œé‚£ä¹ˆ Spring ä¼šè‡ªåŠ¨æ³¨å…¥è¿™äº›å®ç°ç±»çš„å®ä¾‹ï¼Œä¸éœ€è¦é¢å¤–çš„æ“ä½œã€‚</p><h6 id="requestmapping"><a class="header-anchor" href="#requestmapping">Â¶</a>@RequestMapping</h6><p>â€¢ ç±»ï¼š</p><p>@Controller<br>@RequestMapping(&quot;/bbtForum.do&quot;) ITå­¦ä¹ è€…ï¼ˆ<a href="http://www.itxxz.com" target="_blank" rel="noopener">www.itxxz.com</a>ï¼‰<br>public class BbtForumController {<br>@RequestMapping(params = â€œmethod=listBoardTopicâ€)<br>public String listBoardTopic(int topicId,User user) {}<br>}</p><p>â€¢ æ–¹æ³•ï¼š</p><p>@RequestMapping(&quot;/softpg/downSoftPg.do&quot;)<br>@RequestMapping(value=&quot;/softpg/ajaxLoadSoftId.do&quot;,method = POST)<br>@RequestMapping(value = â€œ/osu/product/detail.doâ€, params = { â€œmodify=falseâ€ }, method =POST)<br>â€¢ è¯´æ˜ï¼š<br>@RequestMapping å¯ä»¥å£°æ˜åˆ°ç±»æˆ–æ–¹æ³•ä¸Š</p><p>â€¢ å‚æ•°ç»‘å®šè¯´æ˜<br>å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹çš„ URL è¯·æ±‚ï¼š<br><a href="http://localhost/itxxzSpring4?method=listBoardTopic&amp;topicId=1&amp;userId=10&amp;userName=tom" target="_blank" rel="noopener">http://localhost/itxxzSpring4?method=listBoardTopic&amp;topicId=1&amp;userId=10&amp;userName=tom</a><br>topicId URL å‚æ•°å°†ç»‘å®šåˆ° topicId å…¥å‚ä¸Šï¼Œè€Œ userId å’Œ userName URL å‚æ•°å°†ç»‘å®šåˆ° user å¯¹è±¡çš„<br>userId å’Œ userName å±æ€§ä¸­ã€‚å’Œ URL è¯·æ±‚ä¸­ä¸å…è®¸æ²¡æœ‰ topicId å‚æ•°ä¸åŒï¼Œè™½ç„¶ User çš„ userId å±æ€§çš„ç±»å‹æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½†å¦‚æœ URL ä¸­ä¸å­˜åœ¨ userId å‚æ•°ï¼ŒSpring ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œæ­¤æ—¶ user.userId å€¼ä¸º 0 ã€‚å¦‚æœ User å¯¹è±¡æ‹¥æœ‰ä¸€ä¸ª dept.deptId çš„çº§è”å±æ€§ï¼Œé‚£ä¹ˆå®ƒå°†å’Œ dept.deptId URL å‚æ•°ç»‘å®šã€‚</p><h6 id="resource"><a class="header-anchor" href="#resource">Â¶</a>@Resource</h6><ul><li>ä¾‹å¦‚ï¼š<br>@Resource<br>private DataSource dataSource; // inject the bean named â€˜dataSourceâ€™</li><li>æˆ–è€…ï¼š<br>@Resource(name=â€œdataSourceâ€)<br>@Resource(type=DataSource.class)</li><li>è¯´æ˜ï¼š<br>@Resource é»˜è®¤æŒ‰bean çš„name è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ä¼šæŒ‰type è¿›è¡ŒæŸ¥æ‰¾ï¼Œ<br>æ­¤æ—¶ä¸@Autowired ç±» ä¼¼.<br><br>åœ¨æ²¡æœ‰ä¸º @Resource æ³¨è§£æ˜¾å¼æŒ‡å®š name å±æ€§çš„å‰æä¸‹ï¼Œå¦‚æœå°†å…¶æ ‡æ³¨åœ¨ BeanFactory ç±»å‹ã€ApplicationContext ç±»å‹ã€ResourceLoader ç±»å‹ã€ApplicationEventPublisher ç±»å‹ã€MessageSource ç±»å‹ä¸Šï¼Œé‚£ä¹ˆ Spring ä¼šè‡ªåŠ¨æ³¨å…¥è¿™äº›å®ç°ç±»çš„å®ä¾‹ï¼Œä¸éœ€è¦é¢å¤–çš„æ“ä½œã€‚æ­¤æ—¶ name å±æ€§ä¸éœ€è¦æŒ‡å®š ( æˆ–è€…æŒ‡å®šä¸º&quot;&quot;)ï¼Œå¦åˆ™æ³¨å…¥å¤±è´¥ï¼›</li></ul><h6 id="scope"><a class="header-anchor" href="#scope">Â¶</a>@Scope</h6><ul><li>ä¾‹å¦‚<br>@Scope(â€œsessionâ€)<br>@Repository()<br>public class UserSessionBean implementsSerializable {}</li><li>è¯´æ˜</li></ul><p>åœ¨ä½¿ç”¨XML å®šä¹‰Bean æ—¶ï¼Œå¯ä»¥é€šè¿‡bean çš„scope å±æ€§æ¥å®šä¹‰ä¸€ä¸ªBean çš„ä½œç”¨èŒƒå›´ï¼Œ<br>åŒæ ·å¯ä»¥é€šè¿‡@Scope æ³¨è§£æ¥å®Œæˆ<br></p><p>@Scopeä¸­å¯ä»¥æŒ‡å®šå¦‚ä¸‹å€¼ï¼š<br>singleton:å®šä¹‰beançš„èŒƒå›´ä¸ºæ¯ä¸ªspringå®¹å™¨ä¸€ä¸ªå®ä¾‹ï¼ˆé»˜è®¤å€¼ï¼‰<br>prototype:å®šä¹‰beanå¯ä»¥è¢«å¤šæ¬¡å®ä¾‹åŒ–ï¼ˆä½¿ç”¨ä¸€æ¬¡å°±åˆ›å»ºä¸€æ¬¡ï¼‰<br>request:å®šä¹‰beançš„èŒƒå›´æ˜¯httpè¯·æ±‚ï¼ˆspringMVCä¸­æœ‰æ•ˆï¼‰<br>session:å®šä¹‰beançš„èŒƒå›´æ˜¯httpä¼šè¯ï¼ˆspringMVCä¸­æœ‰æ•ˆï¼‰<br>global-session:å®šä¹‰beançš„èŒƒå›´æ˜¯å…¨å±€httpä¼šè¯ï¼ˆportletä¸­æœ‰æ•ˆï¼‰<br><br><br>å°é“¾æ¥ï¼šssmé…ç½®(<a href="http://www.cnblogs.com/youyefly/p/5685509.html" target="_blank" rel="noopener">http://www.cnblogs.com/youyefly/p/5685509.html</a>),<br>(<a href="http://blog.csdn.net/xuejian0616/article/details/52259335" target="_blank" rel="noopener">http://blog.csdn.net/xuejian0616/article/details/52259335</a>)</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Javaweb </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Daoå±‚ã€Serviceå±‚ã€Controllerå±‚ã€Viewå±‚</title>
      <link href="/2017/07/03/Dao%E5%B1%82%E3%80%81Service%E5%B1%82%E3%80%81Controller%E5%B1%82%E3%80%81View%E5%B1%82/"/>
      <url>/2017/07/03/Dao%E5%B1%82%E3%80%81Service%E5%B1%82%E3%80%81Controller%E5%B1%82%E3%80%81View%E5%B1%82/</url>
      <content type="html"><![CDATA[<ol><li>DAOå±‚ï¼šDAOå±‚ä¸»è¦æ˜¯åšæ•°æ®æŒä¹…å±‚çš„å·¥ä½œï¼Œè´Ÿè´£ä¸æ•°æ®åº“è¿›è¡Œè”ç»œçš„ä¸€äº›ä»»åŠ¡éƒ½å°è£…åœ¨æ­¤ï¼ŒDAOå±‚çš„è®¾è®¡é¦–å…ˆæ˜¯è®¾è®¡DAOçš„æ¥å£ï¼Œç„¶ååœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­å®šä¹‰æ­¤æ¥å£çš„å®ç°ç±»ï¼Œç„¶åå°±å¯åœ¨æ¨¡å—ä¸­è°ƒç”¨æ­¤æ¥å£æ¥è¿›è¡Œæ•°æ®ä¸šåŠ¡çš„å¤„ç†ï¼Œè€Œä¸ç”¨å…³å¿ƒæ­¤æ¥å£çš„å…·ä½“å®ç°ç±»æ˜¯å“ªä¸ªç±»ï¼Œæ˜¾å¾—ç»“æ„éå¸¸æ¸…æ™°ï¼ŒDAOå±‚çš„æ•°æ®æºé…ç½®ï¼Œä»¥åŠæœ‰å…³æ•°æ®åº“è¿æ¥çš„å‚æ•°éƒ½åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ã€‚</li><li>Serviceå±‚ï¼šServiceå±‚ä¸»è¦è´Ÿè´£ä¸šåŠ¡æ¨¡å—çš„é€»è¾‘åº”ç”¨è®¾è®¡ã€‚åŒæ ·æ˜¯é¦–å…ˆè®¾è®¡æ¥å£ï¼Œå†è®¾è®¡å…¶å®ç°çš„ç±»ï¼Œæ¥ç€å†Springçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®å…¶å®ç°çš„å…³è”ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨åº”ç”¨ä¸­è°ƒç”¨Serviceæ¥å£æ¥è¿›è¡Œä¸šåŠ¡å¤„ç†ã€‚Serviceå±‚çš„ä¸šåŠ¡å®ç°ï¼Œå…·ä½“è¦è°ƒç”¨åˆ°å·²å®šä¹‰çš„DAOå±‚çš„æ¥å£ï¼Œå°è£…Serviceå±‚çš„ä¸šåŠ¡é€»è¾‘æœ‰åˆ©äºé€šç”¨çš„ä¸šåŠ¡é€»è¾‘çš„ç‹¬ç«‹æ€§å’Œé‡å¤åˆ©ç”¨æ€§ï¼Œç¨‹åºæ˜¾å¾—éå¸¸ç®€æ´ã€‚</li></ol><a id="more"></a><ol start="3"><li>Controllerå±‚:Controllerå±‚è´Ÿè´£å…·ä½“çš„ä¸šåŠ¡æ¨¡å—æµç¨‹çš„æ§åˆ¶ï¼Œåœ¨æ­¤å±‚é‡Œé¢è¦è°ƒç”¨Sericeå±‚çš„æ¥å£æ¥æ§åˆ¶ä¸šåŠ¡æµç¨‹ï¼Œæ§åˆ¶çš„é…ç½®ä¹ŸåŒæ ·æ˜¯åœ¨Springçš„é…ç½®æ–‡ä»¶é‡Œé¢è¿›è¡Œï¼Œé’ˆå¯¹å…·ä½“çš„ä¸šåŠ¡æµç¨‹ï¼Œä¼šæœ‰ä¸åŒçš„æ§åˆ¶å™¨ï¼Œæˆ‘ä»¬å…·ä½“çš„è®¾è®¡è¿‡ç¨‹ä¸­å¯ä»¥å°†æµç¨‹è¿›è¡ŒæŠ½è±¡å½’çº³ï¼Œè®¾è®¡å‡ºå¯ä»¥é‡å¤åˆ©ç”¨çš„å­å•å…ƒæµç¨‹æ¨¡å—ï¼Œè¿™æ ·ä¸ä»…ä½¿ç¨‹åºç»“æ„å˜å¾—æ¸…æ™°ï¼Œä¹Ÿå¤§å¤§å‡å°‘äº†ä»£ç é‡ã€‚</li><li>Viewå±‚ æ­¤å±‚ä¸æ§åˆ¶å±‚ç»“åˆæ¯”è¾ƒç´§å¯†ï¼Œéœ€è¦äºŒè€…ç»“åˆèµ·æ¥ååŒå·¥å‘ã€‚Viewå±‚ä¸»è¦è´Ÿè´£å‰å°jspé¡µé¢çš„è¡¨ç¤º</li><li>DAOå±‚ï¼ŒServiceå±‚è¿™ä¸¤ä¸ªå±‚æ¬¡éƒ½å¯ä»¥å•ç‹¬å¼€å‘ï¼Œäº’ç›¸çš„è€¦åˆåº¦å¾ˆä½ï¼Œå®Œå…¨å¯ä»¥ç‹¬ç«‹è¿›è¡Œï¼Œè¿™æ ·çš„ä¸€ç§æ¨¡å¼åœ¨å¼€å‘å¤§é¡¹ç›®çš„è¿‡ç¨‹ä¸­å°¤å…¶æœ‰ä¼˜åŠ¿ï¼ŒControllerï¼ŒViewå±‚å› ä¸ºè€¦åˆåº¦æ¯”è¾ƒé«˜ï¼Œå› è€Œè¦ç»“åˆåœ¨ä¸€èµ·å¼€å‘ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥çœ‹ä½œä¸€ä¸ªæ•´ä½“ç‹¬ç«‹äºå‰ä¸¤ä¸ªå±‚è¿›è¡Œå¼€å‘ã€‚è¿™æ ·ï¼Œåœ¨å±‚ä¸å±‚ä¹‹å‰æˆ‘ä»¬åªéœ€è¦çŸ¥é“æ¥å£çš„å®šä¹‰ï¼Œè°ƒç”¨æ¥å£å³å¯å®Œæˆæ‰€éœ€è¦çš„é€»è¾‘å•å…ƒåº”ç”¨ï¼Œä¸€åˆ‡æ˜¾å¾—éå¸¸æ¸…æ™°ç®€å•ã€‚<br></li><li>DAOè®¾è®¡çš„æ€»ä½“è§„åˆ’éœ€è¦å’Œè®¾è®¡çš„è¡¨ï¼Œå’Œå®ç°ç±»ä¹‹é—´ä¸€ä¸€å¯¹åº”ã€‚</li><li>DAOå±‚æ‰€å®šä¹‰çš„æ¥å£é‡Œçš„æ–¹æ³•éƒ½å¤§åŒå°å¼‚ï¼Œè¿™æ˜¯ç”±æˆ‘ä»¬åœ¨DAOå±‚å¯¹æ•°æ®åº“è®¿é—®çš„æ“ä½œæ¥å†³å®šçš„ï¼Œå¯¹æ•°æ®åº“çš„æ“ä½œï¼Œæˆ‘ä»¬åŸºæœ¬è¦ç”¨åˆ°çš„å°±æ˜¯æ–°å¢ï¼Œæ›´æ–°ï¼Œåˆ é™¤ï¼ŒæŸ¥è¯¢ç­‰æ–¹æ³•ã€‚å› è€ŒDAOå±‚é‡Œé¢åŸºæœ¬ä¸Šéƒ½åº”è¯¥è¦æ¶µç›–è¿™äº›æ–¹æ³•å¯¹åº”çš„æ“ä½œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥å®šä¹‰ä¸€äº›è‡ªå®šä¹‰çš„ç‰¹æ®Šçš„å¯¹æ•°æ®åº“è®¿é—®çš„æ–¹æ³•ã€‚</li><li>Serviceé€»è¾‘å±‚è®¾è®¡</li><li>Serviceå±‚æ˜¯å»ºç«‹åœ¨DAOå±‚ä¹‹ä¸Šçš„ï¼Œå»ºç«‹äº†DAOå±‚åæ‰å¯ä»¥å»ºç«‹Serviceå±‚ï¼Œè€ŒServiceå±‚åˆæ˜¯åœ¨Controllerå±‚ä¹‹ä¸‹çš„ï¼Œå› è€ŒServiceå±‚åº”è¯¥æ—¢è°ƒç”¨DAOå±‚çš„æ¥å£ï¼Œåˆè¦æä¾›æ¥å£ç»™Controllerå±‚çš„ç±»æ¥è¿›è¡Œè°ƒç”¨ï¼Œå®ƒåˆšå¥½å¤„äºä¸€ä¸ªä¸­é—´å±‚çš„ä½ç½®ã€‚æ¯ä¸ªæ¨¡å‹éƒ½æœ‰ä¸€ä¸ªServiceæ¥å£ï¼Œæ¯ä¸ªæ¥å£åˆ†åˆ«å°è£…å„è‡ªçš„ä¸šåŠ¡å¤„ç†æ–¹æ³•ã€‚</li><li>åœ¨DAOå±‚å®šä¹‰çš„ä¸€äº›æ–¹æ³•ï¼Œåœ¨Serviceå±‚å¹¶æ²¡æœ‰ä½¿ç”¨ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜è¦åœ¨DAOå±‚è¿›è¡Œå®šä¹‰å‘¢ï¼Ÿè¿™æ˜¯ç”±æˆ‘ä»¬å®šä¹‰çš„éœ€æ±‚é€»è¾‘æ‰€å†³å®šçš„ã€‚DAOå±‚çš„æ“ä½œ ç»è¿‡æŠ½è±¡ååŸºæœ¬ä¸Šéƒ½æ˜¯é€šç”¨çš„ï¼Œå› è€Œæˆ‘ä»¬åœ¨å®šä¹‰DAOå±‚çš„æ—¶å€™å¯ä»¥å°†ç›¸å…³çš„æ–¹æ³•å®šä¹‰å®Œæ¯•ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯åœ¨å¯¹Serviceè¿›è¡Œæ‰©å±•çš„æ—¶å€™ä¸éœ€è¦å†å¯¹DAOå±‚è¿›è¡Œä¿®æ”¹ï¼Œæé«˜äº†ç¨‹åºçš„å¯æ‰©å±•æ€§ã€‚<br><br>å°é“¾æ¥ï¼šajaxç›¸å…³ (<a href="http://blog.csdn.net/cwj649956781/article/details/22414533" target="_blank" rel="noopener">http://blog.csdn.net/cwj649956781/article/details/22414533</a>)<br><br><br>(<a href="https://zhidao.baidu.com/question/745652997728018212.html" target="_blank" rel="noopener">https://zhidao.baidu.com/question/745652997728018212.html</a>)<br><br><br>(<a href="http://www.cnblogs.com/sdya/p/4624578.html" target="_blank" rel="noopener">http://www.cnblogs.com/sdya/p/4624578.html</a>)</li></ol>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Javaweb </tag>
            
            <tag> SSM </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>è¿œæ–¹</title>
      <link href="/2017/06/24/%E8%BF%9C%E6%96%B9/"/>
      <url>/2017/06/24/%E8%BF%9C%E6%96%B9/</url>
      <content type="html"><![CDATA[<h3 id="çƒ­çˆ±ç”Ÿå‘½"><a class="header-anchor" href="#çƒ­çˆ±ç”Ÿå‘½">Â¶</a>ã€Šçƒ­çˆ±ç”Ÿå‘½ã€‹</h3><img src="http://oziqlv1ur.bkt.clouddn.com/%E8%BF%9C%E6%96%B9.jpg" width="600" hegiht="400" align="center"><p>æˆ‘ä¸å»æƒ³æ˜¯å¦èƒ½å¤ŸæˆåŠŸ<br>æ—¢ç„¶é€‰æ‹©äº†è¿œæ–¹<br>ä¾¿åªé¡¾é£é›¨å…¼ç¨‹<br>æˆ‘ä¸å»æƒ³èƒ½å¦èµ¢å¾—çˆ±æƒ…<br>æ—¢ç„¶é’Ÿæƒ…äºç«ç‘°<br>å°±å‹‡æ•¢åœ°åéœ²çœŸè¯š<br>æˆ‘ä¸å»æƒ³èº«åä¼šä¸ä¼šè¢­æ¥å¯’é£å†·é›¨<br>æ—¢ç„¶ç›®æ ‡æ˜¯åœ°å¹³çº¿<br>ç•™ç»™ä¸–ç•Œçš„åªèƒ½æ˜¯èƒŒå½±<br>æˆ‘ä¸å»æƒ³æœªæ¥æ˜¯å¹³å¦è¿˜æ˜¯æ³¥æ³<br>åªè¦çƒ­çˆ±ç”Ÿå‘½<br>ä¸€åˆ‡<br>éƒ½åœ¨æ„æ–™ä¹‹ä¸­</p>]]></content>
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¯— </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Ajaxåº”ç”¨</title>
      <link href="/2017/04/03/Ajax%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2017/04/03/Ajax%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      <content type="html"><![CDATA[<h6 id="ä¸€-ajaxæ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a class="header-anchor" href="#ä¸€-ajaxæ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ">Â¶</a>ä¸€. ajaxæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h6><p>ajaxåˆ†ä¸ºåŒæ­¥è¯·æ±‚å’Œå¼‚æ­¥è¯·æ±‚ä¸¤ç§ã€‚<br>ajaxçš„å¼‚æ­¥å¥½å¤„ï¼šç”¨æˆ·åœ¨æµè§ˆç½‘é¡µåŒæ—¶ç‚¹å‡»ä¸€ä¸ªajaxå¼‚æ­¥è¯·æ±‚ï¼Œè¿™ä¸ªæ—¶å€™ç”¨æˆ·æ— éœ€ç­‰å¾…ã€ä½¿ç”¨javascriptè„šæœ¬å®ç°é¡µé¢çš„åŠ¨æ€å±€éƒ¨åˆ·æ–°ã€‚<br>åå¤„å°±æ˜¯postè¯·æ±‚ä¸èƒ½è·¨åŸŸï¼Œæ¯”å¦‚a.comè¯·æ±‚b.comç­‰<br>å°é“¾æ¥ï¼š(<a href="http://blog.csdn.net/cwj649956781/article/details/22414533" target="_blank" rel="noopener">http://blog.csdn.net/cwj649956781/article/details/22414533</a>)</p><a id="more"></a><h6 id="äºŒ-ajaxçš„ä½¿ç”¨-br"><a class="header-anchor" href="#äºŒ-ajaxçš„ä½¿ç”¨-br">Â¶</a>äºŒ.ajaxçš„ä½¿ç”¨<br></h6><p>è¿™é‡Œæ”¾ä¸€ä¸ªå°æ¡ˆä¾‹ï¼Œä»…ä¾›å‚è€ƒï¼š<br>å…ˆå¯¼å…¥åŒ…ï¼šã€å†™åˆ°(/boday)çš„åé¢æˆ–(header)(/header)é‡Œéƒ½å¯ä»¥ã€‘</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;jquery/jquery-3.1.1.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢çš„å†™åˆ°(body)ä¸(/body)ä¹‹é—´ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onclick=&quot;test()&quot;&gt;æµ‹è¯•&lt;/button&gt;</span><br><span class="line">&lt;span id=&quot;a&quot;&gt;&lt;/span&gt;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è¿™éƒ¨åˆ†å†™åˆ°ï¼ˆ/bodyï¼‰çš„åé¢</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">function test()&#123;</span><br><span class="line">var count=&apos;&apos;;</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">type:&quot;get&quot;, //å†™è¯·æ±‚æ–¹å¼</span><br><span class="line">url: &quot;./findAllTicker&quot;,  //å†™è¦è·³è½¬é¡µé¢çš„Url</span><br><span class="line">dataType:&quot;json&quot;,  //åå°è¿”å›æ•°æ®çš„æ ¼å¼ä¸ºjson</span><br><span class="line">async:true,  //trueä¸ºå¼‚æ­¥è¯·æ±‚</span><br><span class="line">success: function(map)&#123;  //map ä¸ºæˆ‘è‡ªå·±å†™çš„æ¥æ”¶åå°è¿”å›çš„æ•°æ®</span><br><span class="line">$(&quot;#a&quot;).html(map.count);  //åœ¨é¡µé¢ä¸Šè¾“å‡ºæ•°æ®</span><br><span class="line">//$(&quot;#a&quot;)[0].innerHTML=map.count;//åœ¨é¡µé¢ä¸Šè¾“å‡ºæ•°æ®</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h6 id="è¿è¡Œæˆªå›¾ï¼š"><a class="header-anchor" href="#è¿è¡Œæˆªå›¾ï¼š">Â¶</a>è¿è¡Œæˆªå›¾ï¼š</h6><p><img src="../images/ajax1.png" alt="ajax01"><br></p><p><img src="../images/ajax2.png" alt="ajax02"><br><br>å°é“¾æ¥ï¼š(<a href="http://www.cnblogs.com/sdya/p/4624578.html" target="_blank" rel="noopener">http://www.cnblogs.com/sdya/p/4624578.html</a>)</p>]]></content>
      
      <categories>
          
          <category> æŠ€å·§ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
